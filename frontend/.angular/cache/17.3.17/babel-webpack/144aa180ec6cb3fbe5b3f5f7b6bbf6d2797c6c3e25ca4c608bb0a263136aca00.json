{"ast":null,"code":"import { CommonModule } from '@angular/common';\nimport { FormsModule } from '@angular/forms';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"../services/api.service\";\nimport * as i2 from \"../services/auth.service\";\nimport * as i3 from \"@angular/router\";\nimport * as i4 from \"@angular/common\";\nimport * as i5 from \"@angular/forms\";\nconst _c0 = (a0, a1, a2) => ({\n  \"bg-success\": a0,\n  \"bg-warning\": a1,\n  \"bg-primary\": a2\n});\nfunction AdminDashboardComponent_div_35_div_50_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 10)(1, \"strong\");\n    i0.ɵɵtext(2);\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(3);\n    i0.ɵɵelementStart(4, \"small\", 38);\n    i0.ɵɵtext(5);\n    i0.ɵɵelementEnd()();\n  }\n  if (rf & 2) {\n    const book_r1 = ctx.$implicit;\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(book_r1.title);\n    i0.ɵɵadvance();\n    i0.ɵɵtextInterpolate1(\" - \", book_r1.author, \" \");\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate1(\"(\", book_r1.borrow_count, \" emprunts)\");\n  }\n}\nfunction AdminDashboardComponent_div_35_div_58_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 10)(1, \"strong\");\n    i0.ɵɵtext(2);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelement(3, \"br\");\n    i0.ɵɵelementStart(4, \"small\", 38);\n    i0.ɵɵtext(5);\n    i0.ɵɵpipe(6, \"date\");\n    i0.ɵɵelementEnd()();\n  }\n  if (rf & 2) {\n    const borrow_r2 = ctx.$implicit;\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(borrow_r2.book_title);\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate2(\"\", borrow_r2.user_name, \" - \", i0.ɵɵpipeBind1(6, 3, borrow_r2.date_emprunt), \"\");\n  }\n}\nfunction AdminDashboardComponent_div_35_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\")(1, \"div\", 1)(2, \"div\", 20)(3, \"div\", 21)(4, \"div\", 22)(5, \"div\", 23)(6, \"div\")(7, \"h4\");\n    i0.ɵɵtext(8);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(9, \"p\");\n    i0.ɵɵtext(10, \"Livres Total\");\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelement(11, \"i\", 24);\n    i0.ɵɵelementEnd()()()();\n    i0.ɵɵelementStart(12, \"div\", 20)(13, \"div\", 25)(14, \"div\", 22)(15, \"div\", 23)(16, \"div\")(17, \"h4\");\n    i0.ɵɵtext(18);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(19, \"p\");\n    i0.ɵɵtext(20, \"Utilisateurs\");\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelement(21, \"i\", 26);\n    i0.ɵɵelementEnd()()()();\n    i0.ɵɵelementStart(22, \"div\", 20)(23, \"div\", 27)(24, \"div\", 22)(25, \"div\", 23)(26, \"div\")(27, \"h4\");\n    i0.ɵɵtext(28);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(29, \"p\");\n    i0.ɵɵtext(30, \"Emprunts Actifs\");\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelement(31, \"i\", 28);\n    i0.ɵɵelementEnd()()()();\n    i0.ɵɵelementStart(32, \"div\", 20)(33, \"div\", 29)(34, \"div\", 22)(35, \"div\", 23)(36, \"div\")(37, \"h4\");\n    i0.ɵɵtext(38);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(39, \"p\");\n    i0.ɵɵtext(40, \"En Retard\");\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelement(41, \"i\", 30);\n    i0.ɵɵelementEnd()()()()();\n    i0.ɵɵelementStart(42, \"div\", 31)(43, \"div\", 32)(44, \"div\", 33)(45, \"div\", 34)(46, \"h5\");\n    i0.ɵɵelement(47, \"i\", 35);\n    i0.ɵɵtext(48, \" Livres Populaires\");\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(49, \"div\", 22);\n    i0.ɵɵtemplate(50, AdminDashboardComponent_div_35_div_50_Template, 6, 3, \"div\", 36);\n    i0.ɵɵelementEnd()()();\n    i0.ɵɵelementStart(51, \"div\", 32)(52, \"div\", 33)(53, \"div\", 34)(54, \"h5\");\n    i0.ɵɵelement(55, \"i\", 37);\n    i0.ɵɵtext(56, \" Emprunts R\\u00E9cents\");\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(57, \"div\", 22);\n    i0.ɵɵtemplate(58, AdminDashboardComponent_div_35_div_58_Template, 7, 5, \"div\", 36);\n    i0.ɵɵelementEnd()()()()();\n  }\n  if (rf & 2) {\n    const ctx_r2 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(8);\n    i0.ɵɵtextInterpolate(ctx_r2.stats.stats.total_books);\n    i0.ɵɵadvance(10);\n    i0.ɵɵtextInterpolate(ctx_r2.stats.stats.total_users);\n    i0.ɵɵadvance(10);\n    i0.ɵɵtextInterpolate(ctx_r2.stats.stats.active_borrows);\n    i0.ɵɵadvance(10);\n    i0.ɵɵtextInterpolate(ctx_r2.stats.stats.overdue_borrows);\n    i0.ɵɵadvance(12);\n    i0.ɵɵproperty(\"ngForOf\", ctx_r2.stats.popular_books);\n    i0.ɵɵadvance(8);\n    i0.ɵɵproperty(\"ngForOf\", ctx_r2.stats.recent_borrows);\n  }\n}\nfunction AdminDashboardComponent_div_36_div_9_option_30_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"option\", 61);\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const category_r6 = ctx.$implicit;\n    i0.ɵɵproperty(\"value\", category_r6.id);\n    i0.ɵɵadvance();\n    i0.ɵɵtextInterpolate1(\" \", category_r6.name, \" \");\n  }\n}\nfunction AdminDashboardComponent_div_36_div_9_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r5 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"div\", 46)(1, \"div\", 34)(2, \"h5\");\n    i0.ɵɵtext(3, \"Nouveau Livre\");\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(4, \"div\", 22)(5, \"form\", 47);\n    i0.ɵɵlistener(\"ngSubmit\", function AdminDashboardComponent_div_36_div_9_Template_form_ngSubmit_5_listener() {\n      i0.ɵɵrestoreView(_r5);\n      const ctx_r2 = i0.ɵɵnextContext(2);\n      return i0.ɵɵresetView(ctx_r2.addBook());\n    });\n    i0.ɵɵelementStart(6, \"div\", 31)(7, \"div\", 32)(8, \"div\", 48)(9, \"label\", 49);\n    i0.ɵɵtext(10, \"Titre\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(11, \"input\", 50);\n    i0.ɵɵtwoWayListener(\"ngModelChange\", function AdminDashboardComponent_div_36_div_9_Template_input_ngModelChange_11_listener($event) {\n      i0.ɵɵrestoreView(_r5);\n      const ctx_r2 = i0.ɵɵnextContext(2);\n      i0.ɵɵtwoWayBindingSet(ctx_r2.newBook.title, $event) || (ctx_r2.newBook.title = $event);\n      return i0.ɵɵresetView($event);\n    });\n    i0.ɵɵelementEnd()()();\n    i0.ɵɵelementStart(12, \"div\", 32)(13, \"div\", 48)(14, \"label\", 49);\n    i0.ɵɵtext(15, \"Auteur\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(16, \"input\", 51);\n    i0.ɵɵtwoWayListener(\"ngModelChange\", function AdminDashboardComponent_div_36_div_9_Template_input_ngModelChange_16_listener($event) {\n      i0.ɵɵrestoreView(_r5);\n      const ctx_r2 = i0.ɵɵnextContext(2);\n      i0.ɵɵtwoWayBindingSet(ctx_r2.newBook.author, $event) || (ctx_r2.newBook.author = $event);\n      return i0.ɵɵresetView($event);\n    });\n    i0.ɵɵelementEnd()()()();\n    i0.ɵɵelementStart(17, \"div\", 31)(18, \"div\", 41)(19, \"div\", 48)(20, \"label\", 49);\n    i0.ɵɵtext(21, \"ISBN\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(22, \"input\", 52);\n    i0.ɵɵtwoWayListener(\"ngModelChange\", function AdminDashboardComponent_div_36_div_9_Template_input_ngModelChange_22_listener($event) {\n      i0.ɵɵrestoreView(_r5);\n      const ctx_r2 = i0.ɵɵnextContext(2);\n      i0.ɵɵtwoWayBindingSet(ctx_r2.newBook.isbn, $event) || (ctx_r2.newBook.isbn = $event);\n      return i0.ɵɵresetView($event);\n    });\n    i0.ɵɵelementEnd()()();\n    i0.ɵɵelementStart(23, \"div\", 41)(24, \"div\", 48)(25, \"label\", 49);\n    i0.ɵɵtext(26, \"Cat\\u00E9gorie\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(27, \"select\", 53);\n    i0.ɵɵtwoWayListener(\"ngModelChange\", function AdminDashboardComponent_div_36_div_9_Template_select_ngModelChange_27_listener($event) {\n      i0.ɵɵrestoreView(_r5);\n      const ctx_r2 = i0.ɵɵnextContext(2);\n      i0.ɵɵtwoWayBindingSet(ctx_r2.newBook.category_id, $event) || (ctx_r2.newBook.category_id = $event);\n      return i0.ɵɵresetView($event);\n    });\n    i0.ɵɵelementStart(28, \"option\", 54);\n    i0.ɵɵtext(29, \"S\\u00E9lectionner...\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtemplate(30, AdminDashboardComponent_div_36_div_9_option_30_Template, 2, 2, \"option\", 55);\n    i0.ɵɵelementEnd()()();\n    i0.ɵɵelementStart(31, \"div\", 41)(32, \"div\", 48)(33, \"label\", 49);\n    i0.ɵɵtext(34, \"Stock\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(35, \"input\", 56);\n    i0.ɵɵtwoWayListener(\"ngModelChange\", function AdminDashboardComponent_div_36_div_9_Template_input_ngModelChange_35_listener($event) {\n      i0.ɵɵrestoreView(_r5);\n      const ctx_r2 = i0.ɵɵnextContext(2);\n      i0.ɵɵtwoWayBindingSet(ctx_r2.newBook.stock, $event) || (ctx_r2.newBook.stock = $event);\n      return i0.ɵɵresetView($event);\n    });\n    i0.ɵɵelementEnd()()()();\n    i0.ɵɵelementStart(36, \"div\", 48)(37, \"label\", 49);\n    i0.ɵɵtext(38, \"Description\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(39, \"textarea\", 57);\n    i0.ɵɵtwoWayListener(\"ngModelChange\", function AdminDashboardComponent_div_36_div_9_Template_textarea_ngModelChange_39_listener($event) {\n      i0.ɵɵrestoreView(_r5);\n      const ctx_r2 = i0.ɵɵnextContext(2);\n      i0.ɵɵtwoWayBindingSet(ctx_r2.newBook.description, $event) || (ctx_r2.newBook.description = $event);\n      return i0.ɵɵresetView($event);\n    });\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(40, \"div\", 58)(41, \"button\", 59);\n    i0.ɵɵtext(42, \"Ajouter\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(43, \"button\", 60);\n    i0.ɵɵlistener(\"click\", function AdminDashboardComponent_div_36_div_9_Template_button_click_43_listener() {\n      i0.ɵɵrestoreView(_r5);\n      const ctx_r2 = i0.ɵɵnextContext(2);\n      return i0.ɵɵresetView(ctx_r2.cancelAddBook());\n    });\n    i0.ɵɵtext(44, \"Annuler\");\n    i0.ɵɵelementEnd()()()()();\n  }\n  if (rf & 2) {\n    const ctx_r2 = i0.ɵɵnextContext(2);\n    i0.ɵɵadvance(11);\n    i0.ɵɵtwoWayProperty(\"ngModel\", ctx_r2.newBook.title);\n    i0.ɵɵadvance(5);\n    i0.ɵɵtwoWayProperty(\"ngModel\", ctx_r2.newBook.author);\n    i0.ɵɵadvance(6);\n    i0.ɵɵtwoWayProperty(\"ngModel\", ctx_r2.newBook.isbn);\n    i0.ɵɵadvance(5);\n    i0.ɵɵtwoWayProperty(\"ngModel\", ctx_r2.newBook.category_id);\n    i0.ɵɵadvance(3);\n    i0.ɵɵproperty(\"ngForOf\", ctx_r2.categories);\n    i0.ɵɵadvance(5);\n    i0.ɵɵtwoWayProperty(\"ngModel\", ctx_r2.newBook.stock);\n    i0.ɵɵadvance(4);\n    i0.ɵɵtwoWayProperty(\"ngModel\", ctx_r2.newBook.description);\n  }\n}\nfunction AdminDashboardComponent_div_36_div_11_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 62)(1, \"div\", 33)(2, \"div\", 22)(3, \"h6\", 63);\n    i0.ɵɵtext(4);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(5, \"p\", 64)(6, \"strong\");\n    i0.ɵɵtext(7, \"Auteur:\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(8);\n    i0.ɵɵelement(9, \"br\");\n    i0.ɵɵelementStart(10, \"strong\");\n    i0.ɵɵtext(11, \"Cat\\u00E9gorie:\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(12);\n    i0.ɵɵelement(13, \"br\");\n    i0.ɵɵelementStart(14, \"strong\");\n    i0.ɵɵtext(15, \"Stock:\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(16);\n    i0.ɵɵelementEnd()()()();\n  }\n  if (rf & 2) {\n    const book_r7 = ctx.$implicit;\n    i0.ɵɵadvance(4);\n    i0.ɵɵtextInterpolate(book_r7.title);\n    i0.ɵɵadvance(4);\n    i0.ɵɵtextInterpolate1(\" \", book_r7.author, \"\");\n    i0.ɵɵadvance(4);\n    i0.ɵɵtextInterpolate1(\" \", book_r7.category == null ? null : book_r7.category.name, \"\");\n    i0.ɵɵadvance(4);\n    i0.ɵɵtextInterpolate2(\" \", book_r7.available, \"/\", book_r7.stock, \" \");\n  }\n}\nfunction AdminDashboardComponent_div_36_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r4 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"div\")(1, \"div\", 39)(2, \"div\", 40)(3, \"h4\");\n    i0.ɵɵtext(4, \"Gestion des Livres\");\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(5, \"div\", 41)(6, \"button\", 42);\n    i0.ɵɵlistener(\"click\", function AdminDashboardComponent_div_36_Template_button_click_6_listener() {\n      i0.ɵɵrestoreView(_r4);\n      const ctx_r2 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r2.showAddBookForm = true);\n    });\n    i0.ɵɵelement(7, \"i\", 43);\n    i0.ɵɵtext(8, \" Ajouter un Livre \");\n    i0.ɵɵelementEnd()()();\n    i0.ɵɵtemplate(9, AdminDashboardComponent_div_36_div_9_Template, 45, 7, \"div\", 44);\n    i0.ɵɵelementStart(10, \"div\", 31);\n    i0.ɵɵtemplate(11, AdminDashboardComponent_div_36_div_11_Template, 17, 5, \"div\", 45);\n    i0.ɵɵelementEnd()();\n  }\n  if (rf & 2) {\n    const ctx_r2 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(9);\n    i0.ɵɵproperty(\"ngIf\", ctx_r2.showAddBookForm);\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"ngForOf\", ctx_r2.books);\n  }\n}\nfunction AdminDashboardComponent_div_37_tr_20_button_15_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r8 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"button\", 70);\n    i0.ɵɵlistener(\"click\", function AdminDashboardComponent_div_37_tr_20_button_15_Template_button_click_0_listener() {\n      i0.ɵɵrestoreView(_r8);\n      const borrow_r9 = i0.ɵɵnextContext().$implicit;\n      const ctx_r2 = i0.ɵɵnextContext(2);\n      return i0.ɵɵresetView(ctx_r2.returnBook(borrow_r9.id));\n    });\n    i0.ɵɵelement(1, \"i\", 71);\n    i0.ɵɵtext(2, \" Retourner \");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction AdminDashboardComponent_div_37_tr_20_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"tr\")(1, \"td\");\n    i0.ɵɵtext(2);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(3, \"td\");\n    i0.ɵɵtext(4);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(5, \"td\");\n    i0.ɵɵtext(6);\n    i0.ɵɵpipe(7, \"date\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(8, \"td\");\n    i0.ɵɵtext(9);\n    i0.ɵɵpipe(10, \"date\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(11, \"td\")(12, \"span\", 68);\n    i0.ɵɵtext(13);\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(14, \"td\");\n    i0.ɵɵtemplate(15, AdminDashboardComponent_div_37_tr_20_button_15_Template, 3, 0, \"button\", 69);\n    i0.ɵɵelementEnd()();\n  }\n  if (rf & 2) {\n    const borrow_r9 = ctx.$implicit;\n    const ctx_r2 = i0.ɵɵnextContext(2);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(borrow_r9.user_name);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(borrow_r9.title);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(i0.ɵɵpipeBind1(7, 7, borrow_r9.date_emprunt));\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate(i0.ɵɵpipeBind1(10, 9, borrow_r9.date_retour_prevue));\n    i0.ɵɵadvance(3);\n    i0.ɵɵproperty(\"ngClass\", i0.ɵɵpureFunction3(11, _c0, borrow_r9.status === \"returned\", borrow_r9.status === \"overdue\", borrow_r9.status === \"active\"));\n    i0.ɵɵadvance();\n    i0.ɵɵtextInterpolate1(\" \", ctx_r2.getStatusLabel(borrow_r9.status), \" \");\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"ngIf\", borrow_r9.status === \"active\");\n  }\n}\nfunction AdminDashboardComponent_div_37_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\")(1, \"h4\", 48);\n    i0.ɵɵtext(2, \"Gestion des Emprunts\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(3, \"div\", 65)(4, \"table\", 66)(5, \"thead\")(6, \"tr\")(7, \"th\");\n    i0.ɵɵtext(8, \"Utilisateur\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(9, \"th\");\n    i0.ɵɵtext(10, \"Livre\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(11, \"th\");\n    i0.ɵɵtext(12, \"Date Emprunt\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(13, \"th\");\n    i0.ɵɵtext(14, \"Date Retour Pr\\u00E9vue\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(15, \"th\");\n    i0.ɵɵtext(16, \"Statut\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(17, \"th\");\n    i0.ɵɵtext(18, \"Actions\");\n    i0.ɵɵelementEnd()()();\n    i0.ɵɵelementStart(19, \"tbody\");\n    i0.ɵɵtemplate(20, AdminDashboardComponent_div_37_tr_20_Template, 16, 15, \"tr\", 67);\n    i0.ɵɵelementEnd()()()();\n  }\n  if (rf & 2) {\n    const ctx_r2 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(20);\n    i0.ɵɵproperty(\"ngForOf\", ctx_r2.borrows);\n  }\n}\nexport let AdminDashboardComponent = /*#__PURE__*/(() => {\n  class AdminDashboardComponent {\n    constructor(apiService, authService, router) {\n      this.apiService = apiService;\n      this.authService = authService;\n      this.router = router;\n      this.activeTab = 'stats';\n      this.stats = null;\n      this.books = [];\n      this.categories = [];\n      this.borrows = [];\n      this.users = [];\n      this.showAddBookForm = false;\n      this.newBook = {};\n      this.currentUser = this.authService.getCurrentUser();\n    }\n    ngOnInit() {\n      this.loadStats();\n      this.loadBooks();\n      this.loadCategories();\n      this.loadBorrows();\n      this.loadUsers();\n    }\n    setActiveTab(tab) {\n      this.activeTab = tab;\n    }\n    loadStats() {\n      this.apiService.getStatistics().subscribe({\n        next: data => this.stats = data,\n        error: error => console.error('Erreur stats:', error)\n      });\n    }\n    loadBooks() {\n      this.apiService.getBooks().subscribe({\n        next: data => this.books = data,\n        error: error => console.error('Erreur livres:', error)\n      });\n    }\n    loadCategories() {\n      this.apiService.getCategories().subscribe({\n        next: data => this.categories = data,\n        error: error => console.error('Erreur catégories:', error)\n      });\n    }\n    loadBorrows() {\n      this.apiService.getAllBorrows().subscribe({\n        next: data => this.borrows = data,\n        error: error => console.error('Erreur emprunts:', error)\n      });\n    }\n    addBook() {\n      if (this.newBook.title && this.newBook.author && this.newBook.isbn) {\n        this.apiService.createBook(this.newBook).subscribe({\n          next: () => {\n            this.loadBooks();\n            this.cancelAddBook();\n          },\n          error: error => console.error('Erreur ajout livre:', error)\n        });\n      }\n    }\n    cancelAddBook() {\n      this.showAddBookForm = false;\n      this.newBook = {};\n    }\n    returnBook(borrowId) {\n      this.apiService.returnBook(borrowId).subscribe({\n        next: () => {\n          this.loadBorrows();\n          this.loadStats();\n        },\n        error: error => console.error('Erreur retour:', error)\n      });\n    }\n    getStatusLabel(status) {\n      const labels = {\n        'active': 'Actif',\n        'returned': 'Retourné',\n        'overdue': 'En Retard'\n      };\n      return labels[status] || status;\n    }\n    loadUsers() {\n      this.apiService.getUsers().subscribe({\n        next: data => this.users = data,\n        error: error => console.error('Erreur utilisateurs:', error)\n      });\n    }\n    sendReminder(userId) {\n      this.apiService.sendReminder(userId).subscribe({\n        next: () => {\n          alert('Rappel envoyé avec succès!');\n        },\n        error: error => console.error('Erreur rappel:', error)\n      });\n    }\n    logout() {\n      this.authService.logout();\n      this.router.navigate(['/login']);\n    }\n    static {\n      this.ɵfac = function AdminDashboardComponent_Factory(t) {\n        return new (t || AdminDashboardComponent)(i0.ɵɵdirectiveInject(i1.ApiService), i0.ɵɵdirectiveInject(i2.AuthService), i0.ɵɵdirectiveInject(i3.Router));\n      };\n    }\n    static {\n      this.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n        type: AdminDashboardComponent,\n        selectors: [[\"app-admin-dashboard\"]],\n        standalone: true,\n        features: [i0.ɵɵStandaloneFeature],\n        decls: 38,\n        vars: 12,\n        consts: [[1, \"container-fluid\"], [1, \"row\", \"mb-4\"], [1, \"col-12\"], [1, \"card\", \"glass\", \"text-white\", 2, \"background\", \"linear-gradient(135deg, #8B4513 0%, #D2691E 50%, #CD853F 100%)\"], [1, \"card-body\", \"py-4\"], [1, \"d-flex\", \"justify-content-between\", \"align-items-center\"], [1, \"mb-1\"], [1, \"fas\", \"fa-crown\", \"me-2\"], [1, \"mb-0\", \"opacity-75\"], [1, \"text-end\"], [1, \"mb-2\"], [1, \"btn\", \"btn-light\", \"btn-sm\", 3, \"click\"], [1, \"fas\", \"fa-sign-out-alt\", \"me-1\"], [\"role\", \"group\", 1, \"btn-group\"], [\"type\", \"button\", 1, \"btn\", 3, \"click\"], [1, \"fas\", \"fa-chart-bar\"], [1, \"fas\", \"fa-book\"], [1, \"fas\", \"fa-handshake\"], [1, \"fas\", \"fa-users\"], [4, \"ngIf\"], [1, \"col-md-3\"], [1, \"card\", \"bg-primary\", \"text-white\"], [1, \"card-body\"], [1, \"d-flex\", \"justify-content-between\"], [1, \"fas\", \"fa-book\", \"fa-2x\"], [1, \"card\", \"bg-success\", \"text-white\"], [1, \"fas\", \"fa-users\", \"fa-2x\"], [1, \"card\", \"bg-info\", \"text-white\"], [1, \"fas\", \"fa-handshake\", \"fa-2x\"], [1, \"card\", \"bg-warning\", \"text-white\"], [1, \"fas\", \"fa-exclamation-triangle\", \"fa-2x\"], [1, \"row\"], [1, \"col-md-6\"], [1, \"card\"], [1, \"card-header\"], [1, \"fas\", \"fa-star\"], [\"class\", \"mb-2\", 4, \"ngFor\", \"ngForOf\"], [1, \"fas\", \"fa-clock\"], [1, \"text-muted\"], [1, \"row\", \"mb-3\"], [1, \"col-md-8\"], [1, \"col-md-4\"], [1, \"btn\", \"btn-success\", \"w-100\", 3, \"click\"], [1, \"fas\", \"fa-plus\"], [\"class\", \"card mb-4\", 4, \"ngIf\"], [\"class\", \"col-md-4 mb-3\", 4, \"ngFor\", \"ngForOf\"], [1, \"card\", \"mb-4\"], [3, \"ngSubmit\"], [1, \"mb-3\"], [1, \"form-label\"], [\"type\", \"text\", \"name\", \"title\", \"required\", \"\", 1, \"form-control\", 3, \"ngModelChange\", \"ngModel\"], [\"type\", \"text\", \"name\", \"author\", \"required\", \"\", 1, \"form-control\", 3, \"ngModelChange\", \"ngModel\"], [\"type\", \"text\", \"name\", \"isbn\", \"required\", \"\", 1, \"form-control\", 3, \"ngModelChange\", \"ngModel\"], [\"name\", \"category_id\", \"required\", \"\", 1, \"form-select\", 3, \"ngModelChange\", \"ngModel\"], [\"value\", \"\"], [3, \"value\", 4, \"ngFor\", \"ngForOf\"], [\"type\", \"number\", \"name\", \"stock\", \"required\", \"\", \"min\", \"1\", 1, \"form-control\", 3, \"ngModelChange\", \"ngModel\"], [\"name\", \"description\", \"rows\", \"3\", 1, \"form-control\", 3, \"ngModelChange\", \"ngModel\"], [1, \"d-flex\", \"gap-2\"], [\"type\", \"submit\", 1, \"btn\", \"btn-success\"], [\"type\", \"button\", 1, \"btn\", \"btn-secondary\", 3, \"click\"], [3, \"value\"], [1, \"col-md-4\", \"mb-3\"], [1, \"card-title\"], [1, \"card-text\"], [1, \"table-responsive\"], [1, \"table\", \"table-striped\"], [4, \"ngFor\", \"ngForOf\"], [1, \"badge\", 3, \"ngClass\"], [\"class\", \"btn btn-sm btn-outline-success\", 3, \"click\", 4, \"ngIf\"], [1, \"btn\", \"btn-sm\", \"btn-outline-success\", 3, \"click\"], [1, \"fas\", \"fa-check\"]],\n        template: function AdminDashboardComponent_Template(rf, ctx) {\n          if (rf & 1) {\n            i0.ɵɵelementStart(0, \"div\", 0)(1, \"div\", 1)(2, \"div\", 2)(3, \"div\", 3)(4, \"div\", 4)(5, \"div\", 5)(6, \"div\")(7, \"h2\", 6);\n            i0.ɵɵelement(8, \"i\", 7);\n            i0.ɵɵtext(9, \"Panneau Administrateur\");\n            i0.ɵɵelementEnd();\n            i0.ɵɵelementStart(10, \"p\", 8);\n            i0.ɵɵtext(11, \"Gestion compl\\u00E8te de la biblioth\\u00E8que\");\n            i0.ɵɵelementEnd()();\n            i0.ɵɵelementStart(12, \"div\", 9)(13, \"p\", 10);\n            i0.ɵɵtext(14, \"Bonjour, \");\n            i0.ɵɵelementStart(15, \"strong\");\n            i0.ɵɵtext(16);\n            i0.ɵɵelementEnd()();\n            i0.ɵɵelementStart(17, \"button\", 11);\n            i0.ɵɵlistener(\"click\", function AdminDashboardComponent_Template_button_click_17_listener() {\n              return ctx.logout();\n            });\n            i0.ɵɵelement(18, \"i\", 12);\n            i0.ɵɵtext(19, \" D\\u00E9connexion \");\n            i0.ɵɵelementEnd()()()()()()();\n            i0.ɵɵelementStart(20, \"div\", 1)(21, \"div\", 2)(22, \"div\", 13)(23, \"button\", 14);\n            i0.ɵɵlistener(\"click\", function AdminDashboardComponent_Template_button_click_23_listener() {\n              return ctx.setActiveTab(\"stats\");\n            });\n            i0.ɵɵelement(24, \"i\", 15);\n            i0.ɵɵtext(25, \" Statistiques \");\n            i0.ɵɵelementEnd();\n            i0.ɵɵelementStart(26, \"button\", 14);\n            i0.ɵɵlistener(\"click\", function AdminDashboardComponent_Template_button_click_26_listener() {\n              return ctx.setActiveTab(\"books\");\n            });\n            i0.ɵɵelement(27, \"i\", 16);\n            i0.ɵɵtext(28, \" Gestion Livres \");\n            i0.ɵɵelementEnd();\n            i0.ɵɵelementStart(29, \"button\", 14);\n            i0.ɵɵlistener(\"click\", function AdminDashboardComponent_Template_button_click_29_listener() {\n              return ctx.setActiveTab(\"borrows\");\n            });\n            i0.ɵɵelement(30, \"i\", 17);\n            i0.ɵɵtext(31, \" Emprunts \");\n            i0.ɵɵelementEnd();\n            i0.ɵɵelementStart(32, \"button\", 14);\n            i0.ɵɵlistener(\"click\", function AdminDashboardComponent_Template_button_click_32_listener() {\n              return ctx.setActiveTab(\"users\");\n            });\n            i0.ɵɵelement(33, \"i\", 18);\n            i0.ɵɵtext(34, \" Utilisateurs \");\n            i0.ɵɵelementEnd()()()();\n            i0.ɵɵtemplate(35, AdminDashboardComponent_div_35_Template, 59, 6, \"div\", 19)(36, AdminDashboardComponent_div_36_Template, 12, 2, \"div\", 19)(37, AdminDashboardComponent_div_37_Template, 21, 1, \"div\", 19);\n            i0.ɵɵelementEnd();\n          }\n          if (rf & 2) {\n            i0.ɵɵadvance(16);\n            i0.ɵɵtextInterpolate(ctx.currentUser == null ? null : ctx.currentUser.name);\n            i0.ɵɵadvance(7);\n            i0.ɵɵclassMap(ctx.activeTab === \"stats\" ? \"btn-primary\" : \"btn-outline-primary\");\n            i0.ɵɵadvance(3);\n            i0.ɵɵclassMap(ctx.activeTab === \"books\" ? \"btn-primary\" : \"btn-outline-primary\");\n            i0.ɵɵadvance(3);\n            i0.ɵɵclassMap(ctx.activeTab === \"borrows\" ? \"btn-primary\" : \"btn-outline-primary\");\n            i0.ɵɵadvance(3);\n            i0.ɵɵclassMap(ctx.activeTab === \"users\" ? \"btn-primary\" : \"btn-outline-primary\");\n            i0.ɵɵadvance(3);\n            i0.ɵɵproperty(\"ngIf\", ctx.activeTab === \"stats\" && ctx.stats);\n            i0.ɵɵadvance();\n            i0.ɵɵproperty(\"ngIf\", ctx.activeTab === \"books\");\n            i0.ɵɵadvance();\n            i0.ɵɵproperty(\"ngIf\", ctx.activeTab === \"borrows\");\n          }\n        },\n        dependencies: [CommonModule, i4.NgClass, i4.NgForOf, i4.NgIf, i4.DatePipe, FormsModule, i5.ɵNgNoValidate, i5.NgSelectOption, i5.ɵNgSelectMultipleOption, i5.DefaultValueAccessor, i5.NumberValueAccessor, i5.SelectControlValueAccessor, i5.NgControlStatus, i5.NgControlStatusGroup, i5.RequiredValidator, i5.MinValidator, i5.NgModel, i5.NgForm],\n        styles: [\".stat-card[_ngcontent-%COMP%]{border:none;border-radius:20px;transition:all .3s ease;overflow:hidden}.stat-card[_ngcontent-%COMP%]:hover{transform:translateY(-5px);box-shadow:0 15px 35px #0003}.stat-icon[_ngcontent-%COMP%]{opacity:.7}.btn-group[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]{border-radius:12px;margin:0 5px;font-weight:500;transition:all .3s ease}.btn-group[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]:hover{transform:translateY(-2px)}.glass[_ngcontent-%COMP%]{-webkit-backdrop-filter:blur(10px);backdrop-filter:blur(10px);background:#ffffff1a}.table[_ngcontent-%COMP%]{border-radius:15px;overflow:hidden;box-shadow:0 5px 15px #00000014}\"]\n      });\n    }\n  }\n  return AdminDashboardComponent;\n})();","map":null,"metadata":{},"sourceType":"module","externalDependencies":[]}