{"ast":null,"code":"import { HttpHeaders } from '@angular/common/http';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"@angular/common/http\";\nimport * as i2 from \"./auth.service\";\nexport let ApiService = /*#__PURE__*/(() => {\n  class ApiService {\n    constructor(http, authService) {\n      this.http = http;\n      this.authService = authService;\n      this.baseUrl = 'http://localhost:8000/api';\n    }\n    getHeaders() {\n      const token = this.authService.getToken();\n      return new HttpHeaders({\n        'Content-Type': 'application/json',\n        ...(token && {\n          'Authorization': `Bearer ${token}`\n        })\n      });\n    }\n    // Dashboard/Statistics (Admin)\n    getStatistics() {\n      return this.http.get(`${this.baseUrl}/statistics`, {\n        headers: this.getHeaders()\n      });\n    }\n    // Books\n    getBooks(params) {\n      return this.http.get(`${this.baseUrl}/books`, {\n        params\n      });\n    }\n    getBook(id) {\n      return this.http.get(`${this.baseUrl}/books/${id}`);\n    }\n    createBook(book) {\n      return this.http.post(`${this.baseUrl}/books`, book);\n    }\n    updateBook(id, book) {\n      return this.http.put(`${this.baseUrl}/books/${id}`, book);\n    }\n    deleteBook(id) {\n      return this.http.delete(`${this.baseUrl}/books/${id}`);\n    }\n    // Categories\n    getCategories() {\n      return this.http.get(`${this.baseUrl}/categories`);\n    }\n    createCategory(category) {\n      return this.http.post(`${this.baseUrl}/categories`, category);\n    }\n    deleteCategory(id) {\n      return this.http.delete(`${this.baseUrl}/categories/${id}`);\n    }\n    // Dashboard Stats\n    getDashboardStats() {\n      return this.http.get(`${this.baseUrl}/dashboard/stats`);\n    }\n    // Penalties\n    getOverdueLoans() {\n      return this.http.get(`${this.baseUrl}/penalties/overdue`);\n    }\n    // Reports\n    getReportStats() {\n      return this.http.get(`${this.baseUrl}/reports/stats`);\n    }\n    downloadReport(type) {\n      return this.http.get(`${this.baseUrl}/reports/pdf/${type}`, {\n        responseType: 'blob'\n      });\n    }\n    // Emprunts\n    borrowBook(bookId) {\n      return this.http.post(`${this.baseUrl}/borrow`, {\n        book_id: bookId\n      }, {\n        headers: this.getHeaders()\n      });\n    }\n    requestBorrow(bookId) {\n      return this.http.post(`${this.baseUrl}/request-borrow`, {\n        book_id: bookId\n      }, {\n        headers: this.getHeaders()\n      });\n    }\n    getMyBorrows() {\n      return this.http.get(`${this.baseUrl}/my-borrows`, {\n        headers: this.getHeaders()\n      });\n    }\n    getAllBorrows() {\n      return this.http.get(`${this.baseUrl}/borrows`, {\n        headers: this.getHeaders()\n      });\n    }\n    returnBook(borrowId) {\n      return this.http.post(`${this.baseUrl}/return/${borrowId}`, {}, {\n        headers: this.getHeaders()\n      });\n    }\n    // Notifications\n    getNotifications() {\n      return this.http.get(`${this.baseUrl}/notifications`, {\n        headers: this.getHeaders()\n      });\n    }\n    // Utilisateurs (Admin)\n    getUsers() {\n      return this.http.get(`${this.baseUrl}/users`, {\n        headers: this.getHeaders()\n      });\n    }\n    sendReminder(userId) {\n      return this.http.post(`${this.baseUrl}/send-reminder`, {\n        user_id: userId\n      }, {\n        headers: this.getHeaders()\n      });\n    }\n    static {\n      this.ɵfac = function ApiService_Factory(t) {\n        return new (t || ApiService)(i0.ɵɵinject(i1.HttpClient), i0.ɵɵinject(i2.AuthService));\n      };\n    }\n    static {\n      this.ɵprov = /*@__PURE__*/i0.ɵɵdefineInjectable({\n        token: ApiService,\n        factory: ApiService.ɵfac,\n        providedIn: 'root'\n      });\n    }\n  }\n  return ApiService;\n})();","map":null,"metadata":{},"sourceType":"module","externalDependencies":[]}