{"ast":null,"code":"import { CommonModule } from '@angular/common';\nimport { FormsModule } from '@angular/forms';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"../services/api.service\";\nimport * as i2 from \"../services/auth.service\";\nimport * as i3 from \"@angular/router\";\nimport * as i4 from \"@angular/common\";\nimport * as i5 from \"@angular/forms\";\nfunction UserDashboardComponent_span_23_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"span\", 23);\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r0 = i0.ɵɵnextContext();\n    i0.ɵɵadvance();\n    i0.ɵɵtextInterpolate(ctx_r0.unreadNotifications);\n  }\n}\nfunction UserDashboardComponent_div_41_div_17_div_1_div_8_button_18_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r5 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"button\", 58);\n    i0.ɵɵlistener(\"click\", function UserDashboardComponent_div_41_div_17_div_1_div_8_button_18_Template_button_click_0_listener() {\n      i0.ɵɵrestoreView(_r5);\n      const book_r4 = i0.ɵɵnextContext().$implicit;\n      const ctx_r0 = i0.ɵɵnextContext(4);\n      return i0.ɵɵresetView(ctx_r0.requestBorrow(book_r4.id));\n    });\n    i0.ɵɵelement(1, \"i\", 59);\n    i0.ɵɵtext(2, \"Demander \");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction UserDashboardComponent_div_41_div_17_div_1_div_8_button_19_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"button\", 60);\n    i0.ɵɵelement(1, \"i\", 61);\n    i0.ɵɵtext(2, \"Indisponible \");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction UserDashboardComponent_div_41_div_17_div_1_div_8_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r3 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"div\", 44)(1, \"div\", 45)(2, \"div\", 46)(3, \"div\", 47)(4, \"span\", 48);\n    i0.ɵɵtext(5);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(6, \"span\", 48);\n    i0.ɵɵtext(7);\n    i0.ɵɵelementEnd()()();\n    i0.ɵɵelementStart(8, \"div\", 49)(9, \"h6\", 50);\n    i0.ɵɵtext(10);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(11, \"p\", 51);\n    i0.ɵɵelement(12, \"i\", 52);\n    i0.ɵɵtext(13);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(14, \"button\", 53);\n    i0.ɵɵlistener(\"click\", function UserDashboardComponent_div_41_div_17_div_1_div_8_Template_button_click_14_listener() {\n      const book_r4 = i0.ɵɵrestoreView(_r3).$implicit;\n      const ctx_r0 = i0.ɵɵnextContext(4);\n      return i0.ɵɵresetView(ctx_r0.showDescription(book_r4));\n    });\n    i0.ɵɵelement(15, \"i\", 54);\n    i0.ɵɵtext(16, \"Voir description \");\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(17, \"div\", 55);\n    i0.ɵɵtemplate(18, UserDashboardComponent_div_41_div_17_div_1_div_8_button_18_Template, 3, 0, \"button\", 56)(19, UserDashboardComponent_div_41_div_17_div_1_div_8_button_19_Template, 3, 0, \"button\", 57);\n    i0.ɵɵelementEnd()()();\n  }\n  if (rf & 2) {\n    const book_r4 = ctx.$implicit;\n    const ctx_r0 = i0.ɵɵnextContext(4);\n    i0.ɵɵadvance(4);\n    i0.ɵɵstyleProp(\"background\", ctx_r0.getGenreColor(book_r4.genre));\n    i0.ɵɵadvance();\n    i0.ɵɵtextInterpolate(book_r4.genre);\n    i0.ɵɵadvance();\n    i0.ɵɵclassMap(book_r4.available > 0 ? \"bg-success\" : \"bg-danger\");\n    i0.ɵɵadvance();\n    i0.ɵɵtextInterpolate2(\" \", book_r4.available, \"/\", book_r4.stock, \" \");\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate(book_r4.title);\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate(book_r4.author);\n    i0.ɵɵadvance(5);\n    i0.ɵɵproperty(\"ngIf\", book_r4.available > 0);\n    i0.ɵɵadvance();\n    i0.ɵɵproperty(\"ngIf\", book_r4.available === 0);\n  }\n}\nfunction UserDashboardComponent_div_41_div_17_div_1_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 38)(1, \"div\", 39)(2, \"h4\", 40);\n    i0.ɵɵelement(3, \"i\", 41);\n    i0.ɵɵtext(4);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(5, \"p\", 26);\n    i0.ɵɵtext(6);\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(7, \"div\", 42);\n    i0.ɵɵtemplate(8, UserDashboardComponent_div_41_div_17_div_1_div_8_Template, 20, 11, \"div\", 43);\n    i0.ɵɵelementEnd()();\n  }\n  if (rf & 2) {\n    const category_r6 = ctx.$implicit;\n    i0.ɵɵadvance(4);\n    i0.ɵɵtextInterpolate(category_r6.name);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate2(\"\", category_r6.description, \" (\", category_r6.books.length, \" livres)\");\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"ngForOf\", category_r6.books);\n  }\n}\nfunction UserDashboardComponent_div_41_div_17_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\");\n    i0.ɵɵtemplate(1, UserDashboardComponent_div_41_div_17_div_1_Template, 9, 4, \"div\", 37);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r0 = i0.ɵɵnextContext(2);\n    i0.ɵɵadvance();\n    i0.ɵɵproperty(\"ngForOf\", ctx_r0.categoriesWithBooks);\n  }\n}\nfunction UserDashboardComponent_div_41_div_18_div_2_button_18_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r9 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"button\", 58);\n    i0.ɵɵlistener(\"click\", function UserDashboardComponent_div_41_div_18_div_2_button_18_Template_button_click_0_listener() {\n      i0.ɵɵrestoreView(_r9);\n      const book_r8 = i0.ɵɵnextContext().$implicit;\n      const ctx_r0 = i0.ɵɵnextContext(3);\n      return i0.ɵɵresetView(ctx_r0.requestBorrow(book_r8.id));\n    });\n    i0.ɵɵelement(1, \"i\", 59);\n    i0.ɵɵtext(2, \"Demander \");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction UserDashboardComponent_div_41_div_18_div_2_button_19_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"button\", 60);\n    i0.ɵɵelement(1, \"i\", 61);\n    i0.ɵɵtext(2, \"Indisponible \");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction UserDashboardComponent_div_41_div_18_div_2_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r7 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"div\", 44)(1, \"div\", 45)(2, \"div\", 46)(3, \"div\", 47)(4, \"span\", 48);\n    i0.ɵɵtext(5);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(6, \"span\", 48);\n    i0.ɵɵtext(7);\n    i0.ɵɵelementEnd()()();\n    i0.ɵɵelementStart(8, \"div\", 49)(9, \"h6\", 50);\n    i0.ɵɵtext(10);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(11, \"p\", 51);\n    i0.ɵɵelement(12, \"i\", 52);\n    i0.ɵɵtext(13);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(14, \"button\", 53);\n    i0.ɵɵlistener(\"click\", function UserDashboardComponent_div_41_div_18_div_2_Template_button_click_14_listener() {\n      const book_r8 = i0.ɵɵrestoreView(_r7).$implicit;\n      const ctx_r0 = i0.ɵɵnextContext(3);\n      return i0.ɵɵresetView(ctx_r0.showDescription(book_r8));\n    });\n    i0.ɵɵelement(15, \"i\", 54);\n    i0.ɵɵtext(16, \"Voir description \");\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(17, \"div\", 55);\n    i0.ɵɵtemplate(18, UserDashboardComponent_div_41_div_18_div_2_button_18_Template, 3, 0, \"button\", 56)(19, UserDashboardComponent_div_41_div_18_div_2_button_19_Template, 3, 0, \"button\", 57);\n    i0.ɵɵelementEnd()()();\n  }\n  if (rf & 2) {\n    const book_r8 = ctx.$implicit;\n    const ctx_r0 = i0.ɵɵnextContext(3);\n    i0.ɵɵadvance(4);\n    i0.ɵɵstyleProp(\"background\", ctx_r0.getGenreColor(book_r8.genre));\n    i0.ɵɵadvance();\n    i0.ɵɵtextInterpolate(book_r8.genre);\n    i0.ɵɵadvance();\n    i0.ɵɵclassMap(book_r8.available > 0 ? \"bg-success\" : \"bg-danger\");\n    i0.ɵɵadvance();\n    i0.ɵɵtextInterpolate2(\" \", book_r8.available, \"/\", book_r8.stock, \" \");\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate(book_r8.title);\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate(book_r8.author);\n    i0.ɵɵadvance(5);\n    i0.ɵɵproperty(\"ngIf\", book_r8.available > 0);\n    i0.ɵɵadvance();\n    i0.ɵɵproperty(\"ngIf\", book_r8.available === 0);\n  }\n}\nfunction UserDashboardComponent_div_41_div_18_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\")(1, \"div\", 42);\n    i0.ɵɵtemplate(2, UserDashboardComponent_div_41_div_18_div_2_Template, 20, 11, \"div\", 43);\n    i0.ɵɵelementEnd()();\n  }\n  if (rf & 2) {\n    const ctx_r0 = i0.ɵɵnextContext(2);\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"ngForOf\", ctx_r0.books);\n  }\n}\nfunction UserDashboardComponent_div_41_div_19_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 62);\n    i0.ɵɵelement(1, \"i\", 63);\n    i0.ɵɵelementStart(2, \"p\", 26);\n    i0.ɵɵtext(3, \"Aucun livre trouv\\u00E9\");\n    i0.ɵɵelementEnd()();\n  }\n}\nfunction UserDashboardComponent_div_41_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r2 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"div\", 24)(1, \"div\", 25)(2, \"h3\");\n    i0.ɵɵelement(3, \"i\", 6);\n    i0.ɵɵtext(4, \" Catalogue des livres\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(5, \"p\", 26);\n    i0.ɵɵtext(6, \"Recherchez et d\\u00E9couvrez nos livres disponibles\");\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(7, \"div\", 27)(8, \"div\", 28)(9, \"div\", 29)(10, \"input\", 30);\n    i0.ɵɵtwoWayListener(\"ngModelChange\", function UserDashboardComponent_div_41_Template_input_ngModelChange_10_listener($event) {\n      i0.ɵɵrestoreView(_r2);\n      const ctx_r0 = i0.ɵɵnextContext();\n      i0.ɵɵtwoWayBindingSet(ctx_r0.searchTerm, $event) || (ctx_r0.searchTerm = $event);\n      return i0.ɵɵresetView($event);\n    });\n    i0.ɵɵlistener(\"keyup.enter\", function UserDashboardComponent_div_41_Template_input_keyup_enter_10_listener() {\n      i0.ɵɵrestoreView(_r2);\n      const ctx_r0 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r0.searchBooks());\n    });\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(11, \"button\", 31);\n    i0.ɵɵlistener(\"click\", function UserDashboardComponent_div_41_Template_button_click_11_listener() {\n      i0.ɵɵrestoreView(_r2);\n      const ctx_r0 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r0.searchBooks());\n    });\n    i0.ɵɵelement(12, \"i\", 6);\n    i0.ɵɵelementEnd()()();\n    i0.ɵɵelementStart(13, \"div\", 32)(14, \"button\", 33);\n    i0.ɵɵlistener(\"click\", function UserDashboardComponent_div_41_Template_button_click_14_listener() {\n      i0.ɵɵrestoreView(_r2);\n      const ctx_r0 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r0.showByCategory = !ctx_r0.showByCategory);\n    });\n    i0.ɵɵelement(15, \"i\", 34);\n    i0.ɵɵtext(16);\n    i0.ɵɵelementEnd()()();\n    i0.ɵɵtemplate(17, UserDashboardComponent_div_41_div_17_Template, 2, 1, \"div\", 35)(18, UserDashboardComponent_div_41_div_18_Template, 3, 1, \"div\", 35)(19, UserDashboardComponent_div_41_div_19_Template, 4, 0, \"div\", 36);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r0 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(10);\n    i0.ɵɵtwoWayProperty(\"ngModel\", ctx_r0.searchTerm);\n    i0.ɵɵadvance(6);\n    i0.ɵɵtextInterpolate1(\"\", ctx_r0.showByCategory ? \"Vue Liste\" : \"Vue Cat\\u00E9gories\", \" \");\n    i0.ɵɵadvance();\n    i0.ɵɵproperty(\"ngIf\", ctx_r0.showByCategory);\n    i0.ɵɵadvance();\n    i0.ɵɵproperty(\"ngIf\", !ctx_r0.showByCategory);\n    i0.ɵɵadvance();\n    i0.ɵɵproperty(\"ngIf\", ctx_r0.books.length === 0 && !ctx_r0.showByCategory);\n  }\n}\nfunction UserDashboardComponent_div_42_button_31_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r11 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"button\", 74);\n    i0.ɵɵlistener(\"click\", function UserDashboardComponent_div_42_button_31_Template_button_click_0_listener() {\n      i0.ɵɵrestoreView(_r11);\n      const ctx_r0 = i0.ɵɵnextContext(2);\n      ctx_r0.requestBorrow(ctx_r0.selectedBook.id);\n      return i0.ɵɵresetView(ctx_r0.closeDescription());\n    });\n    i0.ɵɵelement(1, \"i\", 75);\n    i0.ɵɵtext(2, \"Demander l'emprunt \");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction UserDashboardComponent_div_42_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r10 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"div\", 64)(1, \"div\", 65)(2, \"div\", 66)(3, \"div\", 67)(4, \"h5\", 68);\n    i0.ɵɵtext(5);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(6, \"button\", 69);\n    i0.ɵɵlistener(\"click\", function UserDashboardComponent_div_42_Template_button_click_6_listener() {\n      i0.ɵɵrestoreView(_r10);\n      const ctx_r0 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r0.closeDescription());\n    });\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(7, \"div\", 70)(8, \"div\", 42)(9, \"div\", 28)(10, \"h6\", 40);\n    i0.ɵɵtext(11, \"Description\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(12, \"p\");\n    i0.ɵɵtext(13);\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(14, \"div\", 32)(15, \"h6\", 40);\n    i0.ɵɵtext(16, \"Informations\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(17, \"p\")(18, \"strong\");\n    i0.ɵɵtext(19, \"Auteur:\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(20);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(21, \"p\")(22, \"strong\");\n    i0.ɵɵtext(23, \"Genre:\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(24, \"span\", 48);\n    i0.ɵɵtext(25);\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(26, \"p\")(27, \"strong\");\n    i0.ɵɵtext(28, \"Disponibilit\\u00E9:\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(29);\n    i0.ɵɵelementEnd()()()();\n    i0.ɵɵelementStart(30, \"div\", 71);\n    i0.ɵɵtemplate(31, UserDashboardComponent_div_42_button_31_Template, 3, 0, \"button\", 72);\n    i0.ɵɵelementStart(32, \"button\", 73);\n    i0.ɵɵlistener(\"click\", function UserDashboardComponent_div_42_Template_button_click_32_listener() {\n      i0.ɵɵrestoreView(_r10);\n      const ctx_r0 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r0.closeDescription());\n    });\n    i0.ɵɵtext(33, \"Fermer\");\n    i0.ɵɵelementEnd()()()()();\n  }\n  if (rf & 2) {\n    const ctx_r0 = i0.ɵɵnextContext();\n    i0.ɵɵstyleProp(\"display\", ctx_r0.selectedBook ? \"block\" : \"none\");\n    i0.ɵɵclassProp(\"show\", ctx_r0.selectedBook);\n    i0.ɵɵadvance(5);\n    i0.ɵɵtextInterpolate(ctx_r0.selectedBook.title);\n    i0.ɵɵadvance(8);\n    i0.ɵɵtextInterpolate(ctx_r0.selectedBook.description);\n    i0.ɵɵadvance(7);\n    i0.ɵɵtextInterpolate1(\" \", ctx_r0.selectedBook.author, \"\");\n    i0.ɵɵadvance(4);\n    i0.ɵɵstyleProp(\"background\", ctx_r0.getGenreColor(ctx_r0.selectedBook.genre));\n    i0.ɵɵadvance();\n    i0.ɵɵtextInterpolate(ctx_r0.selectedBook.genre);\n    i0.ɵɵadvance(4);\n    i0.ɵɵtextInterpolate2(\" \", ctx_r0.selectedBook.available, \"/\", ctx_r0.selectedBook.stock, \"\");\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"ngIf\", ctx_r0.selectedBook.available > 0);\n  }\n}\nfunction UserDashboardComponent_div_43_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r12 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"div\", 76);\n    i0.ɵɵlistener(\"click\", function UserDashboardComponent_div_43_Template_div_click_0_listener() {\n      i0.ɵɵrestoreView(_r12);\n      const ctx_r0 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r0.closeDescription());\n    });\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r0 = i0.ɵɵnextContext();\n    i0.ɵɵclassProp(\"show\", ctx_r0.selectedBook);\n  }\n}\nfunction UserDashboardComponent_div_44_div_12_div_2_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r14 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"div\", 81)(1, \"div\", 82)(2, \"div\", 49)(3, \"div\", 83)(4, \"h6\", 84);\n    i0.ɵɵtext(5);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(6, \"span\", 48);\n    i0.ɵɵtext(7);\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(8, \"p\", 51);\n    i0.ɵɵtext(9);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(10, \"div\", 85)(11, \"div\", 86);\n    i0.ɵɵelement(12, \"i\", 87);\n    i0.ɵɵelementStart(13, \"span\");\n    i0.ɵɵtext(14);\n    i0.ɵɵpipe(15, \"date\");\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(16, \"div\", 86);\n    i0.ɵɵelement(17, \"i\", 88);\n    i0.ɵɵelementStart(18, \"span\");\n    i0.ɵɵtext(19);\n    i0.ɵɵpipe(20, \"date\");\n    i0.ɵɵelementEnd()()();\n    i0.ɵɵelementStart(21, \"div\", 89)(22, \"button\", 90);\n    i0.ɵɵlistener(\"click\", function UserDashboardComponent_div_44_div_12_div_2_Template_button_click_22_listener() {\n      const borrow_r15 = i0.ɵɵrestoreView(_r14).$implicit;\n      const ctx_r0 = i0.ɵɵnextContext(3);\n      return i0.ɵɵresetView(ctx_r0.requestExtension(borrow_r15.id));\n    });\n    i0.ɵɵelement(23, \"i\", 91);\n    i0.ɵɵtext(24, \" Prolonger \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(25, \"button\", 92);\n    i0.ɵɵlistener(\"click\", function UserDashboardComponent_div_44_div_12_div_2_Template_button_click_25_listener() {\n      const borrow_r15 = i0.ɵɵrestoreView(_r14).$implicit;\n      const ctx_r0 = i0.ɵɵnextContext(3);\n      return i0.ɵɵresetView(ctx_r0.downloadReceipt(borrow_r15.id));\n    });\n    i0.ɵɵelement(26, \"i\", 93);\n    i0.ɵɵtext(27, \" Re\\u00E7u \");\n    i0.ɵɵelementEnd()()()()();\n  }\n  if (rf & 2) {\n    const borrow_r15 = ctx.$implicit;\n    const ctx_r0 = i0.ɵɵnextContext(3);\n    i0.ɵɵadvance(5);\n    i0.ɵɵtextInterpolate(borrow_r15.title);\n    i0.ɵɵadvance();\n    i0.ɵɵclassMap(ctx_r0.getBorrowStatusClass(borrow_r15.status));\n    i0.ɵɵadvance();\n    i0.ɵɵtextInterpolate(ctx_r0.getStatusLabel(borrow_r15.status));\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(borrow_r15.author);\n    i0.ɵɵadvance(5);\n    i0.ɵɵtextInterpolate1(\"Emprunt\\u00E9: \", i0.ɵɵpipeBind1(15, 9, borrow_r15.date_emprunt), \"\");\n    i0.ɵɵadvance(3);\n    i0.ɵɵclassMap(borrow_r15.status === \"overdue\" ? \"text-danger\" : \"text-success\");\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate1(\"Retour pr\\u00E9vu: \", i0.ɵɵpipeBind1(20, 11, borrow_r15.date_retour_prevue), \"\");\n  }\n}\nfunction UserDashboardComponent_div_44_div_12_div_3_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r16 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"div\", 94);\n    i0.ɵɵelement(1, \"i\", 95);\n    i0.ɵɵelementStart(2, \"h5\", 26);\n    i0.ɵɵtext(3, \"Aucun emprunt en cours\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(4, \"p\", 26);\n    i0.ɵɵtext(5, \"Explorez notre catalogue pour emprunter des livres\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(6, \"button\", 96);\n    i0.ɵɵlistener(\"click\", function UserDashboardComponent_div_44_div_12_div_3_Template_button_click_6_listener() {\n      i0.ɵɵrestoreView(_r16);\n      const ctx_r0 = i0.ɵɵnextContext(3);\n      return i0.ɵɵresetView(ctx_r0.setActiveTab(\"catalog\"));\n    });\n    i0.ɵɵelement(7, \"i\", 6);\n    i0.ɵɵtext(8, \" Parcourir le catalogue \");\n    i0.ɵɵelementEnd()();\n  }\n}\nfunction UserDashboardComponent_div_44_div_12_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\")(1, \"div\", 42);\n    i0.ɵɵtemplate(2, UserDashboardComponent_div_44_div_12_div_2_Template, 28, 13, \"div\", 79);\n    i0.ɵɵelementEnd();\n    i0.ɵɵtemplate(3, UserDashboardComponent_div_44_div_12_div_3_Template, 9, 0, \"div\", 80);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r0 = i0.ɵɵnextContext(2);\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"ngForOf\", ctx_r0.currentBorrows);\n    i0.ɵɵadvance();\n    i0.ɵɵproperty(\"ngIf\", ctx_r0.currentBorrows.length === 0);\n  }\n}\nfunction UserDashboardComponent_div_44_div_13_tr_18_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r17 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"tr\")(1, \"td\");\n    i0.ɵɵtext(2);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(3, \"td\");\n    i0.ɵɵtext(4);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(5, \"td\");\n    i0.ɵɵtext(6);\n    i0.ɵɵpipe(7, \"date\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(8, \"td\");\n    i0.ɵɵtext(9);\n    i0.ɵɵpipe(10, \"date\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(11, \"td\")(12, \"span\", 48);\n    i0.ɵɵtext(13);\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(14, \"td\")(15, \"button\", 92);\n    i0.ɵɵlistener(\"click\", function UserDashboardComponent_div_44_div_13_tr_18_Template_button_click_15_listener() {\n      const borrow_r18 = i0.ɵɵrestoreView(_r17).$implicit;\n      const ctx_r0 = i0.ɵɵnextContext(3);\n      return i0.ɵɵresetView(ctx_r0.downloadReceipt(borrow_r18.id));\n    });\n    i0.ɵɵelement(16, \"i\", 93);\n    i0.ɵɵelementEnd()()();\n  }\n  if (rf & 2) {\n    const borrow_r18 = ctx.$implicit;\n    const ctx_r0 = i0.ɵɵnextContext(3);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(borrow_r18.title);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(borrow_r18.author);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(i0.ɵɵpipeBind1(7, 7, borrow_r18.date_emprunt));\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate(i0.ɵɵpipeBind1(10, 9, borrow_r18.date_retour_effective));\n    i0.ɵɵadvance(3);\n    i0.ɵɵclassMap(ctx_r0.getBorrowStatusClass(borrow_r18.status));\n    i0.ɵɵadvance();\n    i0.ɵɵtextInterpolate(ctx_r0.getStatusLabel(borrow_r18.status));\n  }\n}\nfunction UserDashboardComponent_div_44_div_13_div_19_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 94);\n    i0.ɵɵelement(1, \"i\", 100);\n    i0.ɵɵelementStart(2, \"h5\", 26);\n    i0.ɵɵtext(3, \"Aucun historique\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(4, \"p\", 26);\n    i0.ɵɵtext(5, \"Vos emprunts pass\\u00E9s appara\\u00EEtront ici\");\n    i0.ɵɵelementEnd()();\n  }\n}\nfunction UserDashboardComponent_div_44_div_13_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\")(1, \"div\", 97)(2, \"table\", 98)(3, \"thead\")(4, \"tr\")(5, \"th\");\n    i0.ɵɵtext(6, \"Livre\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(7, \"th\");\n    i0.ɵɵtext(8, \"Auteur\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(9, \"th\");\n    i0.ɵɵtext(10, \"Date emprunt\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(11, \"th\");\n    i0.ɵɵtext(12, \"Date retour\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(13, \"th\");\n    i0.ɵɵtext(14, \"Statut\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(15, \"th\");\n    i0.ɵɵtext(16, \"Actions\");\n    i0.ɵɵelementEnd()()();\n    i0.ɵɵelementStart(17, \"tbody\");\n    i0.ɵɵtemplate(18, UserDashboardComponent_div_44_div_13_tr_18_Template, 17, 11, \"tr\", 99);\n    i0.ɵɵelementEnd()()();\n    i0.ɵɵtemplate(19, UserDashboardComponent_div_44_div_13_div_19_Template, 6, 0, \"div\", 80);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r0 = i0.ɵɵnextContext(2);\n    i0.ɵɵadvance(18);\n    i0.ɵɵproperty(\"ngForOf\", ctx_r0.borrowHistory);\n    i0.ɵɵadvance();\n    i0.ɵɵproperty(\"ngIf\", ctx_r0.borrowHistory.length === 0);\n  }\n}\nfunction UserDashboardComponent_div_44_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r13 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"div\", 24)(1, \"div\", 25)(2, \"h3\");\n    i0.ɵɵelement(3, \"i\", 7);\n    i0.ɵɵtext(4, \" Mon compte\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(5, \"p\", 26);\n    i0.ɵɵtext(6, \"G\\u00E9rez vos emprunts et votre historique\");\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(7, \"div\", 77)(8, \"button\", 78);\n    i0.ɵɵlistener(\"click\", function UserDashboardComponent_div_44_Template_button_click_8_listener() {\n      i0.ɵɵrestoreView(_r13);\n      const ctx_r0 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r0.borrowView = \"current\");\n    });\n    i0.ɵɵtext(9, \" Emprunts en cours \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(10, \"button\", 78);\n    i0.ɵɵlistener(\"click\", function UserDashboardComponent_div_44_Template_button_click_10_listener() {\n      i0.ɵɵrestoreView(_r13);\n      const ctx_r0 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r0.borrowView = \"history\");\n    });\n    i0.ɵɵtext(11, \" Historique \");\n    i0.ɵɵelementEnd()();\n    i0.ɵɵtemplate(12, UserDashboardComponent_div_44_div_12_Template, 4, 2, \"div\", 35)(13, UserDashboardComponent_div_44_div_13_Template, 20, 2, \"div\", 35);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r0 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(8);\n    i0.ɵɵclassMap(ctx_r0.borrowView === \"current\" ? \"btn-primary\" : \"btn-outline-primary\");\n    i0.ɵɵadvance(2);\n    i0.ɵɵclassMap(ctx_r0.borrowView === \"history\" ? \"btn-primary\" : \"btn-outline-primary\");\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"ngIf\", ctx_r0.borrowView === \"current\");\n    i0.ɵɵadvance();\n    i0.ɵɵproperty(\"ngIf\", ctx_r0.borrowView === \"history\");\n  }\n}\nfunction UserDashboardComponent_div_45_div_47_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 112)(1, \"div\", 113);\n    i0.ɵɵelement(2, \"i\", 114);\n    i0.ɵɵtext(3);\n    i0.ɵɵelementEnd()();\n  }\n  if (rf & 2) {\n    const ctx_r0 = i0.ɵɵnextContext(2);\n    i0.ɵɵadvance();\n    i0.ɵɵclassMap(ctx_r0.lastScanResult.success ? \"alert-success\" : \"alert-danger\");\n    i0.ɵɵadvance();\n    i0.ɵɵclassMap(ctx_r0.lastScanResult.success ? \"fa-check-circle\" : \"fa-times-circle\");\n    i0.ɵɵadvance();\n    i0.ɵɵtextInterpolate1(\" \", ctx_r0.lastScanResult.message, \" \");\n  }\n}\nfunction UserDashboardComponent_div_45_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 24)(1, \"div\", 25)(2, \"h3\");\n    i0.ɵɵelement(3, \"i\", 8);\n    i0.ɵɵtext(4, \" Kiosque Self-Service\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(5, \"p\", 26);\n    i0.ɵɵtext(6, \"Empruntez et retournez vos livres en autonomie\");\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(7, \"div\", 101)(8, \"div\", 102)(9, \"div\", 103)(10, \"h5\");\n    i0.ɵɵelement(11, \"i\", 104);\n    i0.ɵɵtext(12, \" Session active\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(13, \"p\")(14, \"strong\");\n    i0.ɵɵtext(15);\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(16, \"p\", 26);\n    i0.ɵɵtext(17);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(18, \"div\", 105);\n    i0.ɵɵelement(19, \"i\", 106);\n    i0.ɵɵelementStart(20, \"p\");\n    i0.ɵɵtext(21, \"Code QR de session\");\n    i0.ɵɵelementEnd()()()();\n    i0.ɵɵelementStart(22, \"div\", 107)(23, \"div\", 108)(24, \"div\", 109);\n    i0.ɵɵtext(25, \"1\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(26, \"div\", 110)(27, \"h6\");\n    i0.ɵɵtext(28, \"Posez votre carte\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(29, \"p\");\n    i0.ɵɵtext(30, \"Placez votre carte RFID sur le lecteur\");\n    i0.ɵɵelementEnd()()();\n    i0.ɵɵelementStart(31, \"div\", 108)(32, \"div\", 109);\n    i0.ɵɵtext(33, \"2\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(34, \"div\", 110)(35, \"h6\");\n    i0.ɵɵtext(36, \"Scannez le livre\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(37, \"p\");\n    i0.ɵɵtext(38, \"Posez le livre sur le lecteur RFID\");\n    i0.ɵɵelementEnd()()();\n    i0.ɵɵelementStart(39, \"div\", 108)(40, \"div\", 109);\n    i0.ɵɵtext(41, \"3\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(42, \"div\", 110)(43, \"h6\");\n    i0.ɵɵtext(44, \"Confirmation\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(45, \"p\");\n    i0.ɵɵtext(46, \"L'op\\u00E9ration sera confirm\\u00E9e automatiquement\");\n    i0.ɵɵelementEnd()()()();\n    i0.ɵɵtemplate(47, UserDashboardComponent_div_45_div_47_Template, 4, 5, \"div\", 111);\n    i0.ɵɵelementEnd()();\n  }\n  if (rf & 2) {\n    const ctx_r0 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(15);\n    i0.ɵɵtextInterpolate(ctx_r0.currentUser == null ? null : ctx_r0.currentUser.name);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate1(\"ID: \", ctx_r0.currentUser == null ? null : ctx_r0.currentUser.id, \"\");\n    i0.ɵɵadvance(30);\n    i0.ɵɵproperty(\"ngIf\", ctx_r0.lastScanResult);\n  }\n}\nfunction UserDashboardComponent_div_46_div_8_button_12_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r19 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"button\", 122);\n    i0.ɵɵlistener(\"click\", function UserDashboardComponent_div_46_div_8_button_12_Template_button_click_0_listener() {\n      i0.ɵɵrestoreView(_r19);\n      const notification_r20 = i0.ɵɵnextContext().$implicit;\n      const ctx_r0 = i0.ɵɵnextContext(2);\n      return i0.ɵɵresetView(ctx_r0.markAsRead(notification_r20.id));\n    });\n    i0.ɵɵelement(1, \"i\", 123);\n    i0.ɵɵelementEnd();\n  }\n}\nfunction UserDashboardComponent_div_46_div_8_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 117)(1, \"div\", 118);\n    i0.ɵɵelement(2, \"i\", 114);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(3, \"div\", 119)(4, \"h6\");\n    i0.ɵɵtext(5);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(6, \"p\");\n    i0.ɵɵtext(7);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(8, \"small\", 26);\n    i0.ɵɵtext(9);\n    i0.ɵɵpipe(10, \"date\");\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(11, \"div\", 120);\n    i0.ɵɵtemplate(12, UserDashboardComponent_div_46_div_8_button_12_Template, 2, 0, \"button\", 121);\n    i0.ɵɵelementEnd()();\n  }\n  if (rf & 2) {\n    const notification_r20 = ctx.$implicit;\n    const ctx_r0 = i0.ɵɵnextContext(2);\n    i0.ɵɵclassProp(\"unread\", !notification_r20.is_read);\n    i0.ɵɵadvance(2);\n    i0.ɵɵclassMap(ctx_r0.getNotificationIcon(notification_r20.type));\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate(notification_r20.title);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(notification_r20.message);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(i0.ɵɵpipeBind2(10, 8, notification_r20.created_at, \"short\"));\n    i0.ɵɵadvance(3);\n    i0.ɵɵproperty(\"ngIf\", !notification_r20.is_read);\n  }\n}\nfunction UserDashboardComponent_div_46_div_9_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 94);\n    i0.ɵɵelement(1, \"i\", 124);\n    i0.ɵɵelementStart(2, \"h5\", 26);\n    i0.ɵɵtext(3, \"Aucune notification\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(4, \"p\", 26);\n    i0.ɵɵtext(5, \"Vous serez notifi\\u00E9 des \\u00E9v\\u00E9nements importants ici\");\n    i0.ɵɵelementEnd()();\n  }\n}\nfunction UserDashboardComponent_div_46_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 24)(1, \"div\", 25)(2, \"h3\");\n    i0.ɵɵelement(3, \"i\", 9);\n    i0.ɵɵtext(4, \" Notifications\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(5, \"p\", 26);\n    i0.ɵɵtext(6, \"Vos messages et alertes\");\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(7, \"div\", 115);\n    i0.ɵɵtemplate(8, UserDashboardComponent_div_46_div_8_Template, 13, 11, \"div\", 116);\n    i0.ɵɵelementEnd();\n    i0.ɵɵtemplate(9, UserDashboardComponent_div_46_div_9_Template, 6, 0, \"div\", 80);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r0 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(8);\n    i0.ɵɵproperty(\"ngForOf\", ctx_r0.notifications);\n    i0.ɵɵadvance();\n    i0.ɵɵproperty(\"ngIf\", ctx_r0.notifications.length === 0);\n  }\n}\nfunction UserDashboardComponent_div_47_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r21 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"div\", 24)(1, \"div\", 25)(2, \"h3\");\n    i0.ɵɵelement(3, \"i\", 7);\n    i0.ɵɵtext(4, \" Mon profil\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(5, \"p\", 26);\n    i0.ɵɵtext(6, \"G\\u00E9rez vos informations personnelles\");\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(7, \"div\", 42)(8, \"div\", 28)(9, \"div\", 125)(10, \"div\", 126)(11, \"h5\");\n    i0.ɵɵtext(12, \"Informations personnelles\");\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(13, \"div\", 49)(14, \"form\")(15, \"div\", 42)(16, \"div\", 127)(17, \"div\", 128)(18, \"label\", 129);\n    i0.ɵɵtext(19, \"Nom\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(20, \"input\", 130);\n    i0.ɵɵtwoWayListener(\"ngModelChange\", function UserDashboardComponent_div_47_Template_input_ngModelChange_20_listener($event) {\n      i0.ɵɵrestoreView(_r21);\n      const ctx_r0 = i0.ɵɵnextContext();\n      i0.ɵɵtwoWayBindingSet(ctx_r0.userProfile.name, $event) || (ctx_r0.userProfile.name = $event);\n      return i0.ɵɵresetView($event);\n    });\n    i0.ɵɵelementEnd()()();\n    i0.ɵɵelementStart(21, \"div\", 127)(22, \"div\", 128)(23, \"label\", 129);\n    i0.ɵɵtext(24, \"Pr\\u00E9nom\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(25, \"input\", 131);\n    i0.ɵɵtwoWayListener(\"ngModelChange\", function UserDashboardComponent_div_47_Template_input_ngModelChange_25_listener($event) {\n      i0.ɵɵrestoreView(_r21);\n      const ctx_r0 = i0.ɵɵnextContext();\n      i0.ɵɵtwoWayBindingSet(ctx_r0.userProfile.surname, $event) || (ctx_r0.userProfile.surname = $event);\n      return i0.ɵɵresetView($event);\n    });\n    i0.ɵɵelementEnd()()()();\n    i0.ɵɵelementStart(26, \"div\", 128)(27, \"label\", 129);\n    i0.ɵɵtext(28, \"Email\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(29, \"input\", 132);\n    i0.ɵɵtwoWayListener(\"ngModelChange\", function UserDashboardComponent_div_47_Template_input_ngModelChange_29_listener($event) {\n      i0.ɵɵrestoreView(_r21);\n      const ctx_r0 = i0.ɵɵnextContext();\n      i0.ɵɵtwoWayBindingSet(ctx_r0.userProfile.email, $event) || (ctx_r0.userProfile.email = $event);\n      return i0.ɵɵresetView($event);\n    });\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(30, \"div\", 128)(31, \"label\", 129);\n    i0.ɵɵtext(32, \"T\\u00E9l\\u00E9phone\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(33, \"input\", 133);\n    i0.ɵɵtwoWayListener(\"ngModelChange\", function UserDashboardComponent_div_47_Template_input_ngModelChange_33_listener($event) {\n      i0.ɵɵrestoreView(_r21);\n      const ctx_r0 = i0.ɵɵnextContext();\n      i0.ɵɵtwoWayBindingSet(ctx_r0.userProfile.phone, $event) || (ctx_r0.userProfile.phone = $event);\n      return i0.ɵɵresetView($event);\n    });\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(34, \"div\", 128)(35, \"label\", 129);\n    i0.ɵɵtext(36, \"Nouveau mot de passe\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(37, \"input\", 134);\n    i0.ɵɵtwoWayListener(\"ngModelChange\", function UserDashboardComponent_div_47_Template_input_ngModelChange_37_listener($event) {\n      i0.ɵɵrestoreView(_r21);\n      const ctx_r0 = i0.ɵɵnextContext();\n      i0.ɵɵtwoWayBindingSet(ctx_r0.newPassword, $event) || (ctx_r0.newPassword = $event);\n      return i0.ɵɵresetView($event);\n    });\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(38, \"button\", 135);\n    i0.ɵɵlistener(\"click\", function UserDashboardComponent_div_47_Template_button_click_38_listener() {\n      i0.ɵɵrestoreView(_r21);\n      const ctx_r0 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r0.updateProfile());\n    });\n    i0.ɵɵelement(39, \"i\", 136);\n    i0.ɵɵtext(40, \" Sauvegarder \");\n    i0.ɵɵelementEnd()()()()();\n    i0.ɵɵelementStart(41, \"div\", 32)(42, \"div\", 125)(43, \"div\", 126)(44, \"h5\");\n    i0.ɵɵtext(45, \"Carte biblioth\\u00E8que\");\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(46, \"div\", 137)(47, \"div\", 138);\n    i0.ɵɵelement(48, \"i\", 139);\n    i0.ɵɵelementStart(49, \"p\")(50, \"strong\");\n    i0.ɵɵtext(51, \"Tag UID:\");\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(52, \"code\");\n    i0.ɵɵtext(53);\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(54, \"button\", 140);\n    i0.ɵɵlistener(\"click\", function UserDashboardComponent_div_47_Template_button_click_54_listener() {\n      i0.ɵɵrestoreView(_r21);\n      const ctx_r0 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r0.requestNewCard());\n    });\n    i0.ɵɵelement(55, \"i\", 141);\n    i0.ɵɵtext(56, \" Demander remplacement \");\n    i0.ɵɵelementEnd()()()()()();\n  }\n  if (rf & 2) {\n    const ctx_r0 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(20);\n    i0.ɵɵtwoWayProperty(\"ngModel\", ctx_r0.userProfile.name);\n    i0.ɵɵadvance(5);\n    i0.ɵɵtwoWayProperty(\"ngModel\", ctx_r0.userProfile.surname);\n    i0.ɵɵadvance(4);\n    i0.ɵɵtwoWayProperty(\"ngModel\", ctx_r0.userProfile.email);\n    i0.ɵɵadvance(4);\n    i0.ɵɵtwoWayProperty(\"ngModel\", ctx_r0.userProfile.phone);\n    i0.ɵɵadvance(4);\n    i0.ɵɵtwoWayProperty(\"ngModel\", ctx_r0.newPassword);\n    i0.ɵɵadvance(16);\n    i0.ɵɵtextInterpolate(ctx_r0.userProfile.tag_uid || \"Non assign\\u00E9\");\n  }\n}\nfunction UserDashboardComponent_div_48_div_10_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r22 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"div\", 149)(1, \"div\", 150);\n    i0.ɵɵlistener(\"click\", function UserDashboardComponent_div_48_div_10_Template_div_click_1_listener() {\n      const i_r23 = i0.ɵɵrestoreView(_r22).index;\n      const ctx_r0 = i0.ɵɵnextContext(2);\n      return i0.ɵɵresetView(ctx_r0.toggleFAQ(i_r23));\n    });\n    i0.ɵɵelementStart(2, \"h6\");\n    i0.ɵɵtext(3);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelement(4, \"i\", 114);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(5, \"div\", 151)(6, \"p\");\n    i0.ɵɵtext(7);\n    i0.ɵɵelementEnd()()();\n  }\n  if (rf & 2) {\n    const faq_r24 = ctx.$implicit;\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate(faq_r24.question);\n    i0.ɵɵadvance();\n    i0.ɵɵclassMap(faq_r24.expanded ? \"fa-chevron-up\" : \"fa-chevron-down\");\n    i0.ɵɵadvance();\n    i0.ɵɵclassProp(\"expanded\", faq_r24.expanded);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(faq_r24.answer);\n  }\n}\nfunction UserDashboardComponent_div_48_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 24)(1, \"div\", 25)(2, \"h3\");\n    i0.ɵɵelement(3, \"i\", 12);\n    i0.ɵɵtext(4, \" Aide & FAQ\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(5, \"p\", 26);\n    i0.ɵɵtext(6, \"Trouvez des r\\u00E9ponses \\u00E0 vos questions\");\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(7, \"div\", 42)(8, \"div\", 28)(9, \"div\", 142);\n    i0.ɵɵtemplate(10, UserDashboardComponent_div_48_div_10_Template, 8, 6, \"div\", 143);\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(11, \"div\", 32)(12, \"div\", 125)(13, \"div\", 126)(14, \"h5\");\n    i0.ɵɵtext(15, \"Informations pratiques\");\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(16, \"div\", 49)(17, \"div\", 144);\n    i0.ɵɵelement(18, \"i\", 145);\n    i0.ɵɵelementStart(19, \"div\")(20, \"strong\");\n    i0.ɵɵtext(21, \"Horaires\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(22, \"p\", 146);\n    i0.ɵɵtext(23, \"Lun-Ven: 8h-18h\");\n    i0.ɵɵelement(24, \"br\");\n    i0.ɵɵtext(25, \"Sam: 9h-17h\");\n    i0.ɵɵelementEnd()()();\n    i0.ɵɵelementStart(26, \"div\", 144);\n    i0.ɵɵelement(27, \"i\", 147);\n    i0.ɵɵelementStart(28, \"div\")(29, \"strong\");\n    i0.ɵɵtext(30, \"Contact\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(31, \"p\", 146);\n    i0.ɵɵtext(32, \"elibrary@gmail.com\");\n    i0.ɵɵelementEnd()()();\n    i0.ɵɵelementStart(33, \"div\", 144);\n    i0.ɵɵelement(34, \"i\", 148);\n    i0.ɵɵelementStart(35, \"div\")(36, \"strong\");\n    i0.ɵɵtext(37, \"T\\u00E9l\\u00E9phone\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(38, \"p\", 146);\n    i0.ɵɵtext(39, \"+226 61630303\");\n    i0.ɵɵelementEnd()()()()()()()();\n  }\n  if (rf & 2) {\n    const ctx_r0 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(10);\n    i0.ɵɵproperty(\"ngForOf\", ctx_r0.faqs);\n  }\n}\nexport let UserDashboardComponent = /*#__PURE__*/(() => {\n  class UserDashboardComponent {\n    constructor(apiService, authService, router) {\n      this.apiService = apiService;\n      this.authService = authService;\n      this.router = router;\n      this.activeTab = 'catalog';\n      this.books = [];\n      this.categories = [];\n      this.categoriesWithBooks = [];\n      this.myBorrows = [];\n      this.currentBorrows = [];\n      this.borrowHistory = [];\n      this.notifications = [];\n      this.searchTerm = '';\n      this.selectedCategory = '';\n      this.showByCategory = true;\n      this.selectedBook = null;\n      this.unreadNotifications = 0;\n      this.currentUser = this.authService.getCurrentUser();\n      this.borrowView = 'current';\n      this.lastScanResult = null;\n      this.userProfile = {};\n      this.newPassword = '';\n      this.faqs = [];\n    }\n    ngOnInit() {\n      this.loadBooks();\n      this.loadCategories();\n      this.loadMyBorrows();\n      this.loadNotifications();\n      this.loadUserProfile();\n      this.loadFAQs();\n    }\n    setActiveTab(tab) {\n      this.activeTab = tab;\n      if (tab === 'my-account') {\n        this.loadMyBorrows();\n      } else if (tab === 'notifications') {\n        this.loadNotifications();\n      } else if (tab === 'profile') {\n        this.loadUserProfile();\n      }\n    }\n    loadBooks() {\n      const params = {};\n      if (this.searchTerm) params.search = this.searchTerm;\n      if (this.selectedCategory) params.category_id = this.selectedCategory;\n      this.apiService.getBooks(params).subscribe({\n        next: data => {\n          // Ajouter des images par défaut si manquantes\n          this.books = data.map(book => ({\n            ...book,\n            cover_url: book.cover_url || this.getDefaultBookImage(book.genre || book.category?.name || 'Fiction')\n          }));\n          this.groupBooksByCategory();\n        },\n        error: error => console.error('Erreur livres:', error)\n      });\n    }\n    getDefaultBookImage(genre) {\n      const images = {\n        'Fiction': 'https://images.unsplash.com/photo-1544716278-ca5e3f4abd8c?w=300&h=400&fit=crop',\n        'Science-Fiction': 'https://images.unsplash.com/photo-1589998059171-988d887df646?w=300&h=400&fit=crop',\n        'Histoire': 'https://images.unsplash.com/photo-1507003211169-0a1dd7228f2d?w=300&h=400&fit=crop',\n        'Philosophie': 'https://images.unsplash.com/photo-1481627834876-b7833e8f5570?w=300&h=400&fit=crop',\n        'Informatique': 'https://images.unsplash.com/photo-1516979187457-637abb4f9353?w=300&h=400&fit=crop',\n        'Romance': 'https://images.unsplash.com/photo-1474552226712-ac0f0961a954?w=300&h=400&fit=crop',\n        'Thriller': 'https://images.unsplash.com/photo-1578662996442-48f60103fc96?w=300&h=400&fit=crop'\n      };\n      return images[genre] || 'https://images.unsplash.com/photo-1544716278-ca5e3f4abd8c?w=300&h=400&fit=crop';\n    }\n    groupBooksByCategory() {\n      this.categoriesWithBooks = this.categories.map(category => ({\n        ...category,\n        books: this.books.filter(book => book.category_id === category.id)\n      })).filter(category => category.books.length > 0);\n    }\n    loadCategories() {\n      this.apiService.getCategories().subscribe({\n        next: data => this.categories = data,\n        error: error => console.error('Erreur catégories:', error)\n      });\n    }\n    loadMyBorrows() {\n      this.apiService.getMyBorrows().subscribe({\n        next: data => {\n          this.myBorrows = data;\n          this.currentBorrows = data.filter(b => b.status === 'active' || b.status === 'overdue');\n          this.borrowHistory = data.filter(b => b.status === 'returned');\n        },\n        error: error => console.error('Erreur emprunts:', error)\n      });\n    }\n    loadNotifications() {\n      this.apiService.getNotifications().subscribe({\n        next: data => {\n          this.notifications = data;\n          this.unreadNotifications = data.filter(n => !n.is_read).length;\n        },\n        error: error => console.error('Erreur notifications:', error)\n      });\n    }\n    searchBooks() {\n      this.loadBooks();\n    }\n    filterByCategory() {\n      this.loadBooks();\n    }\n    requestBorrow(bookId) {\n      // Vérifier le statut de l'utilisateur\n      if (this.currentUser?.status === 'pending') {\n        alert('Votre compte est en attente de validation par l\\'administrateur. Vous ne pouvez pas encore emprunter de livres.');\n        return;\n      }\n      if (this.currentUser?.status !== 'approved') {\n        alert('Votre compte n\\'est pas encore approuvé. Contactez l\\'administrateur.');\n        return;\n      }\n      this.apiService.requestBorrow(bookId).subscribe({\n        next: response => {\n          if (response.success) {\n            alert('Demande d\\'emprunt envoyée ! En attente de validation par l\\'administrateur.');\n            this.loadBooks();\n            this.loadMyBorrows();\n          }\n        },\n        error: error => {\n          alert('Erreur lors de la demande d\\'emprunt');\n          console.error('Erreur emprunt:', error);\n        }\n      });\n    }\n    showDescription(book) {\n      this.selectedBook = book;\n    }\n    closeDescription() {\n      this.selectedBook = null;\n    }\n    getStatusLabel(status) {\n      const labels = {\n        'active': 'En cours',\n        'returned': 'Retourné',\n        'overdue': 'En retard'\n      };\n      return labels[status] || status;\n    }\n    // Nouvelles méthodes\n    getBorrowStatusClass(status) {\n      const classes = {\n        'active': 'bg-primary',\n        'returned': 'bg-success',\n        'overdue': 'bg-danger'\n      };\n      return classes[status] || 'bg-secondary';\n    }\n    requestExtension(borrowId) {\n      console.log('Demande de prolongation pour emprunt:', borrowId);\n      alert('Demande de prolongation envoyée!');\n    }\n    downloadReceipt(borrowId) {\n      console.log('Télécharger reçu pour emprunt:', borrowId);\n    }\n    getNotificationIcon(type) {\n      const icons = {\n        'info': 'fa-info-circle',\n        'warning': 'fa-exclamation-triangle',\n        'error': 'fa-times-circle',\n        'success': 'fa-check-circle'\n      };\n      return icons[type] || 'fa-bell';\n    }\n    markAsRead(notificationId) {\n      console.log('Marquer comme lu:', notificationId);\n      this.loadNotifications();\n    }\n    loadUserProfile() {\n      this.userProfile = {\n        name: this.currentUser?.name || '',\n        surname: '',\n        email: this.currentUser?.email || '',\n        phone: '',\n        tag_uid: null\n      };\n    }\n    updateProfile() {\n      console.log('Mise à jour profil:', this.userProfile);\n      alert('Profil mis à jour avec succès!');\n    }\n    requestNewCard() {\n      if (confirm('Demander un remplacement de carte? L\\'ancienne sera désactivée.')) {\n        console.log('Demande de remplacement de carte');\n        alert('Demande de remplacement envoyée!');\n      }\n    }\n    loadFAQs() {\n      this.faqs = [{\n        question: 'Comment emprunter un livre?',\n        answer: 'Vous pouvez emprunter un livre en utilisant le kiosque self-service ou en faisant une demande via le catalogue en ligne.',\n        expanded: false\n      }, {\n        question: 'Combien de temps puis-je garder un livre?',\n        answer: 'La durée d\\'emprunt standard est de 14 jours, avec possibilité de prolongation.',\n        expanded: false\n      }, {\n        question: 'Comment utiliser le kiosque IoT?',\n        answer: 'Placez votre carte RFID sur le lecteur, puis posez le livre. L\\'opération sera automatiquement détectée et traitée.',\n        expanded: false\n      }, {\n        question: 'Que faire si j\\'ai perdu ma carte?',\n        answer: 'Vous pouvez demander un remplacement via votre profil ou contacter l\\'administration.',\n        expanded: false\n      }];\n    }\n    toggleFAQ(index) {\n      this.faqs[index].expanded = !this.faqs[index].expanded;\n    }\n    getUserStatusClass() {\n      const status = this.currentUser?.status || 'pending';\n      return `status-${status}`;\n    }\n    getUserStatusText() {\n      const statusTexts = {\n        'pending': 'En attente',\n        'approved': 'Certifié',\n        'rejected': 'Refusé'\n      };\n      return statusTexts[this.currentUser?.status || 'pending'] || 'En attente';\n    }\n    goToKiosk() {\n      this.setActiveTab('kiosk');\n    }\n    getGenreColor(genre) {\n      const colors = {\n        'Fiction': 'linear-gradient(45deg, #FF6347, #FF4500)',\n        'Science-Fiction': 'linear-gradient(45deg, #4682B4, #1E90FF)',\n        'Histoire': 'linear-gradient(45deg, #D2691E, #CD853F)',\n        'Philosophie': 'linear-gradient(45deg, #9370DB, #8A2BE2)',\n        'Informatique': 'linear-gradient(45deg, #20B2AA, #00CED1)',\n        'Romance': 'linear-gradient(45deg, #FF69B4, #FFB6C1)',\n        'Thriller': 'linear-gradient(45deg, #2F4F4F, #696969)',\n        'Action': 'linear-gradient(45deg, #DC143C, #B22222)',\n        'Romantique': 'linear-gradient(45deg, #FF1493, #FF69B4)',\n        'Fait Divers': 'linear-gradient(45deg, #32CD32, #228B22)'\n      };\n      return colors[genre] || 'linear-gradient(45deg, #DAA520, #B8860B)';\n    }\n    logout() {\n      this.authService.logout();\n      this.router.navigate(['/login']);\n    }\n    static {\n      this.ɵfac = function UserDashboardComponent_Factory(t) {\n        return new (t || UserDashboardComponent)(i0.ɵɵdirectiveInject(i1.ApiService), i0.ɵɵdirectiveInject(i2.AuthService), i0.ɵɵdirectiveInject(i3.Router));\n      };\n    }\n    static {\n      this.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n        type: UserDashboardComponent,\n        selectors: [[\"app-user-dashboard\"]],\n        standalone: true,\n        features: [i0.ɵɵStandaloneFeature],\n        decls: 49,\n        vars: 25,\n        consts: [[1, \"user-layout\"], [1, \"top-nav\"], [1, \"nav-brand\"], [1, \"fas\", \"fa-book-reader\"], [1, \"nav-links\"], [1, \"nav-link\", 3, \"click\"], [1, \"fas\", \"fa-search\"], [1, \"fas\", \"fa-user\"], [1, \"fas\", \"fa-wifi\"], [1, \"fas\", \"fa-bell\"], [\"class\", \"notification-badge\", 4, \"ngIf\"], [1, \"fas\", \"fa-cog\"], [1, \"fas\", \"fa-question-circle\"], [1, \"nav-user\"], [1, \"user-info\"], [1, \"user-name\"], [1, \"user-status\"], [1, \"btn\", \"btn-outline-light\", \"btn-sm\", 3, \"click\"], [1, \"fas\", \"fa-sign-out-alt\"], [1, \"main-content\"], [\"class\", \"content-section\", 4, \"ngIf\"], [\"class\", \"modal fade\", 3, \"show\", \"display\", 4, \"ngIf\"], [\"class\", \"modal-backdrop fade\", 3, \"show\", \"click\", 4, \"ngIf\"], [1, \"notification-badge\"], [1, \"content-section\"], [1, \"section-header\"], [1, \"text-muted\"], [1, \"row\", \"mb-4\"], [1, \"col-md-8\"], [1, \"input-group\"], [\"type\", \"text\", \"placeholder\", \"Rechercher un livre...\", 1, \"form-control\", 3, \"ngModelChange\", \"keyup.enter\", \"ngModel\"], [\"type\", \"button\", 1, \"btn\", \"btn-primary\", 3, \"click\"], [1, \"col-md-4\"], [1, \"btn\", \"btn-outline-primary\", \"w-100\", 3, \"click\"], [1, \"fas\", \"fa-th-list\", \"me-2\"], [4, \"ngIf\"], [\"class\", \"text-center py-5\", 4, \"ngIf\"], [\"class\", \"mb-5\", 4, \"ngFor\", \"ngForOf\"], [1, \"mb-5\"], [1, \"category-header\", \"mb-3\"], [1, \"text-primary\"], [1, \"fas\", \"fa-folder-open\", \"me-2\"], [1, \"row\"], [\"class\", \"col-md-6 col-lg-4 mb-4\", 4, \"ngFor\", \"ngForOf\"], [1, \"col-md-6\", \"col-lg-4\", \"mb-4\"], [1, \"card\", \"book-card\", \"h-100\"], [1, \"card-header\", \"border-0\", \"pb-2\"], [1, \"d-flex\", \"justify-content-between\"], [1, \"badge\"], [1, \"card-body\"], [1, \"card-title\", \"text-primary\", \"mb-2\"], [1, \"text-muted\", \"small\", \"mb-2\"], [1, \"fas\", \"fa-user\", \"me-1\"], [1, \"btn\", \"btn-sm\", \"btn-outline-info\", \"w-100\", \"mb-2\", 3, \"click\"], [1, \"fas\", \"fa-info-circle\", \"me-1\"], [1, \"card-footer\", \"border-0\", \"pt-0\"], [\"class\", \"btn btn-gradient btn-sm w-100\", 3, \"click\", 4, \"ngIf\"], [\"class\", \"btn btn-outline-secondary btn-sm w-100\", \"disabled\", \"\", 4, \"ngIf\"], [1, \"btn\", \"btn-gradient\", \"btn-sm\", \"w-100\", 3, \"click\"], [1, \"fas\", \"fa-hand-paper\", \"me-1\"], [\"disabled\", \"\", 1, \"btn\", \"btn-outline-secondary\", \"btn-sm\", \"w-100\"], [1, \"fas\", \"fa-times\", \"me-1\"], [1, \"text-center\", \"py-5\"], [1, \"fas\", \"fa-book\", \"fa-3x\", \"text-muted\", \"mb-3\"], [1, \"modal\", \"fade\"], [1, \"modal-dialog\", \"modal-lg\"], [1, \"modal-content\"], [1, \"modal-header\"], [1, \"modal-title\"], [\"type\", \"button\", 1, \"btn-close\", 3, \"click\"], [1, \"modal-body\"], [1, \"modal-footer\"], [\"class\", \"btn btn-gradient\", 3, \"click\", 4, \"ngIf\"], [1, \"btn\", \"btn-secondary\", 3, \"click\"], [1, \"btn\", \"btn-gradient\", 3, \"click\"], [1, \"fas\", \"fa-hand-paper\", \"me-2\"], [1, \"modal-backdrop\", \"fade\", 3, \"click\"], [1, \"sub-nav\", \"mb-4\"], [1, \"btn\", 3, \"click\"], [\"class\", \"col-md-6 mb-3\", 4, \"ngFor\", \"ngForOf\"], [\"class\", \"empty-state\", 4, \"ngIf\"], [1, \"col-md-6\", \"mb-3\"], [1, \"card\", \"borrow-card\"], [1, \"d-flex\", \"justify-content-between\", \"align-items-start\", \"mb-2\"], [1, \"card-title\", \"mb-0\"], [1, \"borrow-dates\"], [1, \"date-item\"], [1, \"fas\", \"fa-calendar-plus\", \"text-primary\"], [1, \"fas\", \"fa-calendar-check\"], [1, \"mt-3\"], [\"title\", \"Demander prolongation\", 1, \"btn\", \"btn-sm\", \"btn-outline-primary\", \"me-2\", 3, \"click\"], [1, \"fas\", \"fa-calendar-plus\"], [\"title\", \"T\\u00E9l\\u00E9charger re\\u00E7u\", 1, \"btn\", \"btn-sm\", \"btn-outline-info\", 3, \"click\"], [1, \"fas\", \"fa-download\"], [1, \"empty-state\"], [1, \"fas\", \"fa-bookmark\", \"fa-3x\", \"text-muted\", \"mb-3\"], [1, \"btn\", \"btn-primary\", 3, \"click\"], [1, \"table-responsive\"], [1, \"table\", \"table-hover\"], [4, \"ngFor\", \"ngForOf\"], [1, \"fas\", \"fa-history\", \"fa-3x\", \"text-muted\", \"mb-3\"], [1, \"kiosk-interface\"], [1, \"user-session\"], [1, \"session-card\"], [1, \"fas\", \"fa-user-circle\"], [1, \"qr-code-placeholder\"], [1, \"fas\", \"fa-qrcode\", \"fa-3x\"], [1, \"instructions\"], [1, \"instruction-card\"], [1, \"step-number\"], [1, \"step-content\"], [\"class\", \"scan-result\", 4, \"ngIf\"], [1, \"scan-result\"], [1, \"alert\"], [1, \"fas\"], [1, \"notifications-list\"], [\"class\", \"notification-item\", 3, \"unread\", 4, \"ngFor\", \"ngForOf\"], [1, \"notification-item\"], [1, \"notification-icon\"], [1, \"notification-content\"], [1, \"notification-actions\"], [\"class\", \"btn btn-sm btn-outline-primary\", 3, \"click\", 4, \"ngIf\"], [1, \"btn\", \"btn-sm\", \"btn-outline-primary\", 3, \"click\"], [1, \"fas\", \"fa-check\"], [1, \"fas\", \"fa-bell\", \"fa-3x\", \"text-muted\", \"mb-3\"], [1, \"card\"], [1, \"card-header\"], [1, \"col-md-6\"], [1, \"mb-3\"], [1, \"form-label\"], [\"type\", \"text\", \"name\", \"name\", 1, \"form-control\", 3, \"ngModelChange\", \"ngModel\"], [\"type\", \"text\", \"name\", \"surname\", 1, \"form-control\", 3, \"ngModelChange\", \"ngModel\"], [\"type\", \"email\", \"name\", \"email\", 1, \"form-control\", 3, \"ngModelChange\", \"ngModel\"], [\"type\", \"tel\", \"name\", \"phone\", 1, \"form-control\", 3, \"ngModelChange\", \"ngModel\"], [\"type\", \"password\", \"name\", \"password\", 1, \"form-control\", 3, \"ngModelChange\", \"ngModel\"], [\"type\", \"submit\", 1, \"btn\", \"btn-primary\", 3, \"click\"], [1, \"fas\", \"fa-save\"], [1, \"card-body\", \"text-center\"], [1, \"card-uid\"], [1, \"fas\", \"fa-id-card\", \"fa-3x\", \"mb-3\"], [1, \"btn\", \"btn-outline-primary\", \"mt-3\", 3, \"click\"], [1, \"fas\", \"fa-sync\"], [1, \"faq-list\"], [\"class\", \"faq-item\", 4, \"ngFor\", \"ngForOf\"], [1, \"info-item\"], [1, \"fas\", \"fa-clock\"], [1, \"mb-0\"], [1, \"fas\", \"fa-envelope\"], [1, \"fas\", \"fa-phone\"], [1, \"faq-item\"], [1, \"faq-question\", 3, \"click\"], [1, \"faq-answer\"]],\n        template: function UserDashboardComponent_Template(rf, ctx) {\n          if (rf & 1) {\n            i0.ɵɵelementStart(0, \"div\", 0)(1, \"nav\", 1)(2, \"div\", 2);\n            i0.ɵɵelement(3, \"i\", 3);\n            i0.ɵɵelementStart(4, \"span\");\n            i0.ɵɵtext(5, \"eLibrary\");\n            i0.ɵɵelementEnd()();\n            i0.ɵɵelementStart(6, \"div\", 4)(7, \"a\", 5);\n            i0.ɵɵlistener(\"click\", function UserDashboardComponent_Template_a_click_7_listener() {\n              return ctx.setActiveTab(\"catalog\");\n            });\n            i0.ɵɵelement(8, \"i\", 6);\n            i0.ɵɵelementStart(9, \"span\");\n            i0.ɵɵtext(10, \"Catalogue\");\n            i0.ɵɵelementEnd()();\n            i0.ɵɵelementStart(11, \"a\", 5);\n            i0.ɵɵlistener(\"click\", function UserDashboardComponent_Template_a_click_11_listener() {\n              return ctx.setActiveTab(\"my-account\");\n            });\n            i0.ɵɵelement(12, \"i\", 7);\n            i0.ɵɵelementStart(13, \"span\");\n            i0.ɵɵtext(14, \"Mon compte\");\n            i0.ɵɵelementEnd()();\n            i0.ɵɵelementStart(15, \"a\", 5);\n            i0.ɵɵlistener(\"click\", function UserDashboardComponent_Template_a_click_15_listener() {\n              return ctx.setActiveTab(\"kiosk\");\n            });\n            i0.ɵɵelement(16, \"i\", 8);\n            i0.ɵɵelementStart(17, \"span\");\n            i0.ɵɵtext(18, \"Kiosque\");\n            i0.ɵɵelementEnd()();\n            i0.ɵɵelementStart(19, \"a\", 5);\n            i0.ɵɵlistener(\"click\", function UserDashboardComponent_Template_a_click_19_listener() {\n              return ctx.setActiveTab(\"notifications\");\n            });\n            i0.ɵɵelement(20, \"i\", 9);\n            i0.ɵɵelementStart(21, \"span\");\n            i0.ɵɵtext(22, \"Notifications\");\n            i0.ɵɵelementEnd();\n            i0.ɵɵtemplate(23, UserDashboardComponent_span_23_Template, 2, 1, \"span\", 10);\n            i0.ɵɵelementEnd();\n            i0.ɵɵelementStart(24, \"a\", 5);\n            i0.ɵɵlistener(\"click\", function UserDashboardComponent_Template_a_click_24_listener() {\n              return ctx.setActiveTab(\"profile\");\n            });\n            i0.ɵɵelement(25, \"i\", 11);\n            i0.ɵɵelementStart(26, \"span\");\n            i0.ɵɵtext(27, \"Profil\");\n            i0.ɵɵelementEnd()();\n            i0.ɵɵelementStart(28, \"a\", 5);\n            i0.ɵɵlistener(\"click\", function UserDashboardComponent_Template_a_click_28_listener() {\n              return ctx.setActiveTab(\"help\");\n            });\n            i0.ɵɵelement(29, \"i\", 12);\n            i0.ɵɵelementStart(30, \"span\");\n            i0.ɵɵtext(31, \"Aide\");\n            i0.ɵɵelementEnd()()();\n            i0.ɵɵelementStart(32, \"div\", 13)(33, \"div\", 14)(34, \"span\", 15);\n            i0.ɵɵtext(35);\n            i0.ɵɵelementEnd();\n            i0.ɵɵelementStart(36, \"span\", 16);\n            i0.ɵɵtext(37);\n            i0.ɵɵelementEnd()();\n            i0.ɵɵelementStart(38, \"button\", 17);\n            i0.ɵɵlistener(\"click\", function UserDashboardComponent_Template_button_click_38_listener() {\n              return ctx.logout();\n            });\n            i0.ɵɵelement(39, \"i\", 18);\n            i0.ɵɵelementEnd()()();\n            i0.ɵɵelementStart(40, \"div\", 19);\n            i0.ɵɵtemplate(41, UserDashboardComponent_div_41_Template, 20, 5, \"div\", 20)(42, UserDashboardComponent_div_42_Template, 34, 13, \"div\", 21)(43, UserDashboardComponent_div_43_Template, 1, 2, \"div\", 22)(44, UserDashboardComponent_div_44_Template, 14, 6, \"div\", 20)(45, UserDashboardComponent_div_45_Template, 48, 3, \"div\", 20)(46, UserDashboardComponent_div_46_Template, 10, 2, \"div\", 20)(47, UserDashboardComponent_div_47_Template, 57, 6, \"div\", 20)(48, UserDashboardComponent_div_48_Template, 40, 1, \"div\", 20);\n            i0.ɵɵelementEnd()();\n          }\n          if (rf & 2) {\n            i0.ɵɵadvance(7);\n            i0.ɵɵclassProp(\"active\", ctx.activeTab === \"catalog\");\n            i0.ɵɵadvance(4);\n            i0.ɵɵclassProp(\"active\", ctx.activeTab === \"my-account\");\n            i0.ɵɵadvance(4);\n            i0.ɵɵclassProp(\"active\", ctx.activeTab === \"kiosk\");\n            i0.ɵɵadvance(4);\n            i0.ɵɵclassProp(\"active\", ctx.activeTab === \"notifications\");\n            i0.ɵɵadvance(4);\n            i0.ɵɵproperty(\"ngIf\", ctx.unreadNotifications > 0);\n            i0.ɵɵadvance();\n            i0.ɵɵclassProp(\"active\", ctx.activeTab === \"profile\");\n            i0.ɵɵadvance(4);\n            i0.ɵɵclassProp(\"active\", ctx.activeTab === \"help\");\n            i0.ɵɵadvance(7);\n            i0.ɵɵtextInterpolate(ctx.currentUser == null ? null : ctx.currentUser.name);\n            i0.ɵɵadvance();\n            i0.ɵɵclassMap(ctx.getUserStatusClass());\n            i0.ɵɵadvance();\n            i0.ɵɵtextInterpolate1(\" \", ctx.getUserStatusText(), \" \");\n            i0.ɵɵadvance(4);\n            i0.ɵɵproperty(\"ngIf\", ctx.activeTab === \"catalog\");\n            i0.ɵɵadvance();\n            i0.ɵɵproperty(\"ngIf\", ctx.selectedBook);\n            i0.ɵɵadvance();\n            i0.ɵɵproperty(\"ngIf\", ctx.selectedBook);\n            i0.ɵɵadvance();\n            i0.ɵɵproperty(\"ngIf\", ctx.activeTab === \"my-account\");\n            i0.ɵɵadvance();\n            i0.ɵɵproperty(\"ngIf\", ctx.activeTab === \"kiosk\");\n            i0.ɵɵadvance();\n            i0.ɵɵproperty(\"ngIf\", ctx.activeTab === \"notifications\");\n            i0.ɵɵadvance();\n            i0.ɵɵproperty(\"ngIf\", ctx.activeTab === \"profile\");\n            i0.ɵɵadvance();\n            i0.ɵɵproperty(\"ngIf\", ctx.activeTab === \"help\");\n          }\n        },\n        dependencies: [CommonModule, i4.NgForOf, i4.NgIf, i4.DatePipe, FormsModule, i5.ɵNgNoValidate, i5.DefaultValueAccessor, i5.NgControlStatus, i5.NgControlStatusGroup, i5.NgModel, i5.NgForm],\n        styles: [\".user-layout[_ngcontent-%COMP%]{min-height:100vh;display:flex;flex-direction:column}.top-nav[_ngcontent-%COMP%]{background:linear-gradient(135deg,#5a9bd4,#87ceeb,#20b2aa);color:#fff;padding:1rem 2rem;display:flex;align-items:center;justify-content:space-between;box-shadow:0 2px 10px #0000001a}.nav-brand[_ngcontent-%COMP%]{display:flex;align-items:center;font-size:1.5rem;font-weight:600}.nav-brand[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{margin-right:.5rem}.nav-links[_ngcontent-%COMP%]{display:flex;gap:1rem}.nav-link[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;padding:.5rem 1rem;color:#fffc;text-decoration:none;border-radius:8px;transition:all .3s;cursor:pointer;position:relative}.nav-link[_ngcontent-%COMP%]:hover{background:#ffffff1a;color:#fff}.nav-link.active[_ngcontent-%COMP%]{background:#fff3;color:#fff}.nav-link[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:1.2rem;margin-bottom:.25rem}.nav-link[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-size:.8rem}.notification-badge[_ngcontent-%COMP%]{position:absolute;top:.25rem;right:.25rem;background:#dc3545;color:#fff;border-radius:50%;width:18px;height:18px;font-size:.7rem;display:flex;align-items:center;justify-content:center}.nav-user[_ngcontent-%COMP%]{display:flex;align-items:center;gap:1rem}.user-info[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:flex-end}.user-name[_ngcontent-%COMP%]{font-weight:500}.user-status[_ngcontent-%COMP%]{font-size:.75rem;padding:2px 8px;border-radius:12px;margin-top:2px}.status-pending[_ngcontent-%COMP%]{background:#ffc10733;color:#856404}.status-approved[_ngcontent-%COMP%]{background:#28a74533;color:#155724}.status-rejected[_ngcontent-%COMP%]{background:#dc354533;color:#721c24}.main-content[_ngcontent-%COMP%]{flex:1;padding:2rem;background:#f8f9fa}.content-section[_ngcontent-%COMP%]{max-width:1200px;margin:0 auto}.section-header[_ngcontent-%COMP%]{margin-bottom:2rem}.section-header[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{color:#495057;margin-bottom:.5rem}.sub-nav[_ngcontent-%COMP%]{display:flex;gap:.5rem}.book-card[_ngcontent-%COMP%]{transition:all .3s ease;border:none;box-shadow:0 5px 15px #00000014;border-radius:12px}.book-card[_ngcontent-%COMP%]:hover{transform:translateY(-5px);box-shadow:0 15px 35px #00000026}.borrow-card[_ngcontent-%COMP%]{border:none;border-radius:12px;box-shadow:0 3px 10px #0000001a;transition:all .3s}.borrow-card[_ngcontent-%COMP%]:hover{transform:translateY(-3px);box-shadow:0 8px 25px #00000026}.borrow-dates[_ngcontent-%COMP%]{background:#f8f9fa;padding:.75rem;border-radius:8px;margin-top:1rem}.date-item[_ngcontent-%COMP%]{display:flex;align-items:center;margin-bottom:.5rem}.date-item[_ngcontent-%COMP%]:last-child{margin-bottom:0}.date-item[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{margin-right:.5rem;width:16px}.empty-state[_ngcontent-%COMP%]{text-align:center;padding:3rem}.kiosk-interface[_ngcontent-%COMP%]{display:grid;grid-template-columns:1fr 2fr;gap:2rem;margin-bottom:2rem}.session-card[_ngcontent-%COMP%]{background:#fff;padding:2rem;border-radius:12px;box-shadow:0 5px 15px #0000001a;text-align:center}.qr-code-placeholder[_ngcontent-%COMP%]{background:#f8f9fa;padding:2rem;border-radius:8px;margin-top:1rem}.instructions[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:1rem}.instruction-card[_ngcontent-%COMP%]{display:flex;align-items:center;background:#fff;padding:1.5rem;border-radius:12px;box-shadow:0 3px 10px #0000001a}.step-number[_ngcontent-%COMP%]{width:40px;height:40px;background:#007bff;color:#fff;border-radius:50%;display:flex;align-items:center;justify-content:center;font-weight:600;margin-right:1rem}.step-content[_ngcontent-%COMP%]   h6[_ngcontent-%COMP%]{margin-bottom:.25rem}.notifications-list[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:1rem}.notification-item[_ngcontent-%COMP%]{display:flex;align-items:flex-start;background:#fff;padding:1.5rem;border-radius:12px;box-shadow:0 3px 10px #0000001a;border-left:4px solid #dee2e6}.notification-item.unread[_ngcontent-%COMP%]{border-left-color:#007bff;background:#f8f9ff}.notification-icon[_ngcontent-%COMP%]{width:40px;height:40px;background:#e9ecef;border-radius:50%;display:flex;align-items:center;justify-content:center;margin-right:1rem}.notification-content[_ngcontent-%COMP%]{flex:1}.notification-content[_ngcontent-%COMP%]   h6[_ngcontent-%COMP%]{margin-bottom:.5rem}.card-uid[_ngcontent-%COMP%]{background:#f8f9fa;padding:1.5rem;border-radius:8px}.info-item[_ngcontent-%COMP%]{display:flex;align-items:flex-start;margin-bottom:1rem}.info-item[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{width:20px;margin-right:1rem;margin-top:.25rem;color:#007bff}.faq-list[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:1rem}.faq-item[_ngcontent-%COMP%]{background:#fff;border-radius:8px;box-shadow:0 2px 8px #0000001a;overflow:hidden}.faq-question[_ngcontent-%COMP%]{padding:1rem;cursor:pointer;display:flex;justify-content:between;align-items:center;background:#f8f9fa;border-bottom:1px solid #dee2e6}.faq-question[_ngcontent-%COMP%]:hover{background:#e9ecef}.faq-question[_ngcontent-%COMP%]   h6[_ngcontent-%COMP%]{margin:0;flex:1}.faq-answer[_ngcontent-%COMP%]{max-height:0;overflow:hidden;transition:max-height .3s ease}.faq-answer.expanded[_ngcontent-%COMP%]{max-height:200px}.faq-answer[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{padding:1rem;margin:0}.btn-gradient[_ngcontent-%COMP%]{background:linear-gradient(45deg,#4caf50,#66bb6a);border:none;color:#fff;font-weight:500;transition:all .3s ease}.btn-gradient[_ngcontent-%COMP%]:hover{transform:translateY(-2px);box-shadow:0 8px 25px #4caf5066;color:#fff}@media (max-width: 768px){.top-nav[_ngcontent-%COMP%]{flex-direction:column;gap:1rem;padding:1rem}.nav-links[_ngcontent-%COMP%]{flex-wrap:wrap;justify-content:center}.kiosk-interface[_ngcontent-%COMP%]{grid-template-columns:1fr}.main-content[_ngcontent-%COMP%]{padding:1rem}}\"]\n      });\n    }\n  }\n  return UserDashboardComponent;\n})();","map":null,"metadata":{},"sourceType":"module","externalDependencies":[]}