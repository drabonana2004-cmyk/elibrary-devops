{"ast":null,"code":"import { __decorate } from \"tslib\";\nimport { Component } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { FormsModule } from '@angular/forms';\nlet LoginComponent = class LoginComponent {\n  constructor(authService, router) {\n    this.authService = authService;\n    this.router = router;\n    this.credentials = {\n      email: '',\n      password: ''\n    };\n    this.loading = false;\n    this.error = '';\n  }\n  login() {\n    if (!this.credentials.email || !this.credentials.password) {\n      this.error = 'Veuillez remplir tous les champs';\n      return;\n    }\n    this.loading = true;\n    this.error = '';\n    this.authService.login(this.credentials.email, this.credentials.password).subscribe({\n      next: response => {\n        this.loading = false;\n        if (response.success && response.user) {\n          // Rediriger selon le rôle\n          if (response.user.role === 'admin') {\n            this.router.navigate(['/admin']);\n          } else {\n            this.router.navigate(['/user']);\n          }\n        }\n      },\n      error: error => {\n        this.loading = false;\n        this.error = 'Identifiants incorrects';\n      }\n    });\n  }\n};\nLoginComponent = __decorate([Component({\n  selector: 'app-login',\n  standalone: true,\n  imports: [CommonModule, FormsModule],\n  template: `\n    <div class=\"container mt-5\">\n      <div class=\"row justify-content-center\">\n        <div class=\"col-md-6\">\n          <div class=\"card\">\n            <div class=\"card-header text-center\">\n              <h3><i class=\"fas fa-book\"></i> eLibrary</h3>\n              <p class=\"text-muted\">Connexion à votre compte</p>\n            </div>\n            <div class=\"card-body\">\n              <form (ngSubmit)=\"login()\">\n                <div class=\"mb-3\">\n                  <label class=\"form-label\">Email</label>\n                  <input type=\"email\" class=\"form-control\" [(ngModel)]=\"credentials.email\" \n                         name=\"email\" required>\n                </div>\n                <div class=\"mb-3\">\n                  <label class=\"form-label\">Mot de passe</label>\n                  <input type=\"password\" class=\"form-control\" [(ngModel)]=\"credentials.password\" \n                         name=\"password\" required>\n                </div>\n                <div class=\"d-grid\">\n                  <button type=\"submit\" class=\"btn btn-primary\" [disabled]=\"loading\">\n                    <span *ngIf=\"loading\" class=\"spinner-border spinner-border-sm me-2\"></span>\n                    Se connecter\n                  </button>\n                </div>\n              </form>\n              \n              <div *ngIf=\"error\" class=\"alert alert-danger mt-3\">\n                {{error}}\n              </div>\n              \n              <hr>\n              <div class=\"text-center\">\n                <p class=\"mb-2\">Comptes de test :</p>\n                <small class=\"text-muted\">\n                  Admin: admin@elibrary.com / password<br>\n                  User: jean@example.com / password\n                </small>\n              </div>\n            </div>\n          </div>\n        </div>\n      </div>\n    </div>\n  `,\n  styles: [`\n    .card {\n      box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);\n    }\n  `]\n})], LoginComponent);\nexport { LoginComponent };","map":null,"metadata":{},"sourceType":"module","externalDependencies":[]}