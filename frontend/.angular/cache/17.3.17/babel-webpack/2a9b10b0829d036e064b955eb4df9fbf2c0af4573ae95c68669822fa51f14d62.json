{"ast":null,"code":"import { CommonModule } from '@angular/common';\nimport { FormsModule } from '@angular/forms';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"../services/api.service\";\nimport * as i2 from \"../services/auth.service\";\nimport * as i3 from \"@angular/router\";\nimport * as i4 from \"@angular/common\";\nimport * as i5 from \"@angular/forms\";\nfunction AdminDashboardComponent_span_33_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"span\", 29);\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r0 = i0.ɵɵnextContext();\n    i0.ɵɵadvance();\n    i0.ɵɵtextInterpolate(ctx_r0.registrationRequests.length);\n  }\n}\nfunction AdminDashboardComponent_div_57_div_1_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r2 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"div\", 51)(1, \"div\", 52);\n    i0.ɵɵelement(2, \"i\", 53);\n    i0.ɵɵelementStart(3, \"div\", 54)(4, \"h5\", 55);\n    i0.ɵɵtext(5, \"\\uD83D\\uDD14 Nouvelle(s) demande(s) d'inscription\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(6, \"p\", 56);\n    i0.ɵɵtext(7);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(8, \"button\", 57);\n    i0.ɵɵlistener(\"click\", function AdminDashboardComponent_div_57_div_1_Template_button_click_8_listener() {\n      i0.ɵɵrestoreView(_r2);\n      const ctx_r0 = i0.ɵɵnextContext(2);\n      ctx_r0.setActiveTab(\"requests\");\n      return i0.ɵɵresetView(ctx_r0.markNotificationsAsViewed());\n    });\n    i0.ɵɵelement(9, \"i\", 58);\n    i0.ɵɵtext(10, \"Examiner les demandes \");\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(11, \"span\", 59);\n    i0.ɵɵtext(12);\n    i0.ɵɵelementEnd()()();\n  }\n  if (rf & 2) {\n    const ctx_r0 = i0.ɵɵnextContext(2);\n    i0.ɵɵadvance(7);\n    i0.ɵɵtextInterpolate1(\"\", ctx_r0.getNewRegistrationsCount(), \" nouvelle(s) demande(s) en attente de votre approbation\");\n    i0.ɵɵadvance(5);\n    i0.ɵɵtextInterpolate(ctx_r0.getNewRegistrationsCount());\n  }\n}\nfunction AdminDashboardComponent_div_57_div_51_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 56)(1, \"strong\");\n    i0.ɵɵtext(2);\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(3);\n    i0.ɵɵelementStart(4, \"small\", 7);\n    i0.ɵɵtext(5);\n    i0.ɵɵelementEnd()();\n  }\n  if (rf & 2) {\n    const book_r3 = ctx.$implicit;\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(book_r3.title);\n    i0.ɵɵadvance();\n    i0.ɵɵtextInterpolate1(\" - \", book_r3.author, \" \");\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate1(\"(\", book_r3.borrow_count, \" emprunts)\");\n  }\n}\nfunction AdminDashboardComponent_div_57_div_59_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 56)(1, \"strong\");\n    i0.ɵɵtext(2);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelement(3, \"br\");\n    i0.ɵɵelementStart(4, \"small\", 7);\n    i0.ɵɵtext(5);\n    i0.ɵɵpipe(6, \"date\");\n    i0.ɵɵelementEnd()();\n  }\n  if (rf & 2) {\n    const borrow_r4 = ctx.$implicit;\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(borrow_r4.book_title);\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate2(\"\", borrow_r4.user_name, \" - \", i0.ɵɵpipeBind1(6, 3, borrow_r4.date_emprunt), \"\");\n  }\n}\nfunction AdminDashboardComponent_div_57_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 30);\n    i0.ɵɵtemplate(1, AdminDashboardComponent_div_57_div_1_Template, 13, 2, \"div\", 31);\n    i0.ɵɵelementStart(2, \"div\", 32)(3, \"div\", 33)(4, \"div\", 34)(5, \"div\", 35)(6, \"div\", 36)(7, \"div\")(8, \"h4\");\n    i0.ɵɵtext(9);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(10, \"p\");\n    i0.ɵɵtext(11, \"Livres Total\");\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelement(12, \"i\", 37);\n    i0.ɵɵelementEnd()()()();\n    i0.ɵɵelementStart(13, \"div\", 33)(14, \"div\", 38)(15, \"div\", 35)(16, \"div\", 36)(17, \"div\")(18, \"h4\");\n    i0.ɵɵtext(19);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(20, \"p\");\n    i0.ɵɵtext(21, \"Utilisateurs\");\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelement(22, \"i\", 39);\n    i0.ɵɵelementEnd()()()();\n    i0.ɵɵelementStart(23, \"div\", 33)(24, \"div\", 40)(25, \"div\", 35)(26, \"div\", 36)(27, \"div\")(28, \"h4\");\n    i0.ɵɵtext(29);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(30, \"p\");\n    i0.ɵɵtext(31, \"Emprunts Actifs\");\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelement(32, \"i\", 41);\n    i0.ɵɵelementEnd()()()();\n    i0.ɵɵelementStart(33, \"div\", 33)(34, \"div\", 42)(35, \"div\", 35)(36, \"div\", 36)(37, \"div\")(38, \"h4\");\n    i0.ɵɵtext(39);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(40, \"p\");\n    i0.ɵɵtext(41, \"En Retard\");\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelement(42, \"i\", 43);\n    i0.ɵɵelementEnd()()()()();\n    i0.ɵɵelementStart(43, \"div\", 44)(44, \"div\", 45)(45, \"div\", 46)(46, \"div\", 47)(47, \"h5\");\n    i0.ɵɵelement(48, \"i\", 48);\n    i0.ɵɵtext(49, \" Livres Populaires\");\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(50, \"div\", 35);\n    i0.ɵɵtemplate(51, AdminDashboardComponent_div_57_div_51_Template, 6, 3, \"div\", 49);\n    i0.ɵɵelementEnd()()();\n    i0.ɵɵelementStart(52, \"div\", 45)(53, \"div\", 46)(54, \"div\", 47)(55, \"h5\");\n    i0.ɵɵelement(56, \"i\", 50);\n    i0.ɵɵtext(57, \" Emprunts R\\u00E9cents\");\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(58, \"div\", 35);\n    i0.ɵɵtemplate(59, AdminDashboardComponent_div_57_div_59_Template, 7, 5, \"div\", 49);\n    i0.ɵɵelementEnd()()()()();\n  }\n  if (rf & 2) {\n    const ctx_r0 = i0.ɵɵnextContext();\n    i0.ɵɵadvance();\n    i0.ɵɵproperty(\"ngIf\", ctx_r0.hasNewRegistrations());\n    i0.ɵɵadvance(8);\n    i0.ɵɵtextInterpolate(ctx_r0.stats.stats.total_books);\n    i0.ɵɵadvance(10);\n    i0.ɵɵtextInterpolate(ctx_r0.stats.stats.total_users);\n    i0.ɵɵadvance(10);\n    i0.ɵɵtextInterpolate(ctx_r0.stats.stats.active_borrows);\n    i0.ɵɵadvance(10);\n    i0.ɵɵtextInterpolate(ctx_r0.stats.stats.overdue_borrows);\n    i0.ɵɵadvance(12);\n    i0.ɵɵproperty(\"ngForOf\", ctx_r0.stats.popular_books);\n    i0.ɵɵadvance(8);\n    i0.ɵɵproperty(\"ngForOf\", ctx_r0.stats.recent_borrows);\n  }\n}\nfunction AdminDashboardComponent_div_58_option_7_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"option\", 81);\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const cat_r6 = ctx.$implicit;\n    i0.ɵɵproperty(\"value\", cat_r6.id);\n    i0.ɵɵadvance();\n    i0.ɵɵtextInterpolate(cat_r6.name);\n  }\n}\nfunction AdminDashboardComponent_div_58_tr_45_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r7 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"tr\")(1, \"td\")(2, \"input\", 82);\n    i0.ɵɵlistener(\"change\", function AdminDashboardComponent_div_58_tr_45_Template_input_change_2_listener($event) {\n      const book_r8 = i0.ɵɵrestoreView(_r7).$implicit;\n      const ctx_r0 = i0.ɵɵnextContext(2);\n      return i0.ɵɵresetView(ctx_r0.toggleBookSelection(book_r8.id, $event));\n    });\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(3, \"td\");\n    i0.ɵɵelement(4, \"img\", 83);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(5, \"td\")(6, \"strong\");\n    i0.ɵɵtext(7);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelement(8, \"br\");\n    i0.ɵɵelementStart(9, \"small\", 7);\n    i0.ɵɵtext(10);\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(11, \"td\");\n    i0.ɵɵtext(12);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(13, \"td\");\n    i0.ɵɵtext(14);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(15, \"td\");\n    i0.ɵɵtext(16);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(17, \"td\");\n    i0.ɵɵtext(18);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(19, \"td\")(20, \"span\");\n    i0.ɵɵtext(21);\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(22, \"td\");\n    i0.ɵɵtext(23);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(24, \"td\")(25, \"button\", 84);\n    i0.ɵɵlistener(\"click\", function AdminDashboardComponent_div_58_tr_45_Template_button_click_25_listener() {\n      const book_r8 = i0.ɵɵrestoreView(_r7).$implicit;\n      const ctx_r0 = i0.ɵɵnextContext(2);\n      return i0.ɵɵresetView(ctx_r0.viewBook(book_r8));\n    });\n    i0.ɵɵelement(26, \"i\", 85);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(27, \"button\", 86);\n    i0.ɵɵlistener(\"click\", function AdminDashboardComponent_div_58_tr_45_Template_button_click_27_listener() {\n      const book_r8 = i0.ɵɵrestoreView(_r7).$implicit;\n      const ctx_r0 = i0.ɵɵnextContext(2);\n      return i0.ɵɵresetView(ctx_r0.editBook(book_r8));\n    });\n    i0.ɵɵelement(28, \"i\", 87);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(29, \"button\", 88);\n    i0.ɵɵlistener(\"click\", function AdminDashboardComponent_div_58_tr_45_Template_button_click_29_listener() {\n      const book_r8 = i0.ɵɵrestoreView(_r7).$implicit;\n      const ctx_r0 = i0.ɵɵnextContext(2);\n      return i0.ɵɵresetView(ctx_r0.assignTag(book_r8));\n    });\n    i0.ɵɵelement(30, \"i\", 89);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(31, \"button\", 90);\n    i0.ɵɵlistener(\"click\", function AdminDashboardComponent_div_58_tr_45_Template_button_click_31_listener() {\n      const book_r8 = i0.ɵɵrestoreView(_r7).$implicit;\n      const ctx_r0 = i0.ɵɵnextContext(2);\n      return i0.ɵɵresetView(ctx_r0.confirmDeleteBook(book_r8));\n    });\n    i0.ɵɵelement(32, \"i\", 91);\n    i0.ɵɵelementEnd()()();\n  }\n  if (rf & 2) {\n    const book_r8 = ctx.$implicit;\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"value\", book_r8.id);\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"src\", book_r8.cover_url || \"assets/book-placeholder.jpg\", i0.ɵɵsanitizeUrl);\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate(book_r8.title);\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate1(\"\", book_r8.times_borrowed || 0, \" emprunts\");\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(book_r8.author);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(book_r8.isbn);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(book_r8.category == null ? null : book_r8.category.name);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(book_r8.location || \"Non d\\u00E9finie\");\n    i0.ɵɵadvance(2);\n    i0.ɵɵclassMap(book_r8.stock > 0 ? \"text-success\" : \"text-danger\");\n    i0.ɵɵadvance();\n    i0.ɵɵtextInterpolate2(\"\", book_r8.available || 0, \"/\", book_r8.stock, \"\");\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(book_r8.tag_uid || \"\\u2014\");\n  }\n}\nfunction AdminDashboardComponent_div_58_div_54_option_30_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"option\", 81);\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const category_r10 = ctx.$implicit;\n    i0.ɵɵproperty(\"value\", category_r10.id);\n    i0.ɵɵadvance();\n    i0.ɵɵtextInterpolate1(\" \", category_r10.name, \" \");\n  }\n}\nfunction AdminDashboardComponent_div_58_div_54_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r9 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"div\", 92)(1, \"div\", 47)(2, \"h5\");\n    i0.ɵɵtext(3, \"Nouveau Livre\");\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(4, \"div\", 35)(5, \"form\", 93);\n    i0.ɵɵlistener(\"ngSubmit\", function AdminDashboardComponent_div_58_div_54_Template_form_ngSubmit_5_listener() {\n      i0.ɵɵrestoreView(_r9);\n      const ctx_r0 = i0.ɵɵnextContext(2);\n      return i0.ɵɵresetView(ctx_r0.addBook());\n    });\n    i0.ɵɵelementStart(6, \"div\", 44)(7, \"div\", 45)(8, \"div\", 94)(9, \"label\", 95);\n    i0.ɵɵtext(10, \"Titre\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(11, \"input\", 96);\n    i0.ɵɵtwoWayListener(\"ngModelChange\", function AdminDashboardComponent_div_58_div_54_Template_input_ngModelChange_11_listener($event) {\n      i0.ɵɵrestoreView(_r9);\n      const ctx_r0 = i0.ɵɵnextContext(2);\n      i0.ɵɵtwoWayBindingSet(ctx_r0.newBook.title, $event) || (ctx_r0.newBook.title = $event);\n      return i0.ɵɵresetView($event);\n    });\n    i0.ɵɵelementEnd()()();\n    i0.ɵɵelementStart(12, \"div\", 45)(13, \"div\", 94)(14, \"label\", 95);\n    i0.ɵɵtext(15, \"Auteur\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(16, \"input\", 97);\n    i0.ɵɵtwoWayListener(\"ngModelChange\", function AdminDashboardComponent_div_58_div_54_Template_input_ngModelChange_16_listener($event) {\n      i0.ɵɵrestoreView(_r9);\n      const ctx_r0 = i0.ɵɵnextContext(2);\n      i0.ɵɵtwoWayBindingSet(ctx_r0.newBook.author, $event) || (ctx_r0.newBook.author = $event);\n      return i0.ɵɵresetView($event);\n    });\n    i0.ɵɵelementEnd()()()();\n    i0.ɵɵelementStart(17, \"div\", 44)(18, \"div\", 76)(19, \"div\", 94)(20, \"label\", 95);\n    i0.ɵɵtext(21, \"ISBN\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(22, \"input\", 98);\n    i0.ɵɵtwoWayListener(\"ngModelChange\", function AdminDashboardComponent_div_58_div_54_Template_input_ngModelChange_22_listener($event) {\n      i0.ɵɵrestoreView(_r9);\n      const ctx_r0 = i0.ɵɵnextContext(2);\n      i0.ɵɵtwoWayBindingSet(ctx_r0.newBook.isbn, $event) || (ctx_r0.newBook.isbn = $event);\n      return i0.ɵɵresetView($event);\n    });\n    i0.ɵɵelementEnd()()();\n    i0.ɵɵelementStart(23, \"div\", 76)(24, \"div\", 94)(25, \"label\", 95);\n    i0.ɵɵtext(26, \"Cat\\u00E9gorie\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(27, \"select\", 99);\n    i0.ɵɵtwoWayListener(\"ngModelChange\", function AdminDashboardComponent_div_58_div_54_Template_select_ngModelChange_27_listener($event) {\n      i0.ɵɵrestoreView(_r9);\n      const ctx_r0 = i0.ɵɵnextContext(2);\n      i0.ɵɵtwoWayBindingSet(ctx_r0.newBook.category_id, $event) || (ctx_r0.newBook.category_id = $event);\n      return i0.ɵɵresetView($event);\n    });\n    i0.ɵɵelementStart(28, \"option\", 64);\n    i0.ɵɵtext(29, \"S\\u00E9lectionner...\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtemplate(30, AdminDashboardComponent_div_58_div_54_option_30_Template, 2, 2, \"option\", 65);\n    i0.ɵɵelementEnd()()();\n    i0.ɵɵelementStart(31, \"div\", 76)(32, \"div\", 94)(33, \"label\", 95);\n    i0.ɵɵtext(34, \"Stock\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(35, \"input\", 100);\n    i0.ɵɵtwoWayListener(\"ngModelChange\", function AdminDashboardComponent_div_58_div_54_Template_input_ngModelChange_35_listener($event) {\n      i0.ɵɵrestoreView(_r9);\n      const ctx_r0 = i0.ɵɵnextContext(2);\n      i0.ɵɵtwoWayBindingSet(ctx_r0.newBook.stock, $event) || (ctx_r0.newBook.stock = $event);\n      return i0.ɵɵresetView($event);\n    });\n    i0.ɵɵelementEnd()()()();\n    i0.ɵɵelementStart(36, \"div\", 94)(37, \"label\", 95);\n    i0.ɵɵtext(38, \"Description\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(39, \"textarea\", 101);\n    i0.ɵɵtwoWayListener(\"ngModelChange\", function AdminDashboardComponent_div_58_div_54_Template_textarea_ngModelChange_39_listener($event) {\n      i0.ɵɵrestoreView(_r9);\n      const ctx_r0 = i0.ɵɵnextContext(2);\n      i0.ɵɵtwoWayBindingSet(ctx_r0.newBook.description, $event) || (ctx_r0.newBook.description = $event);\n      return i0.ɵɵresetView($event);\n    });\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(40, \"div\", 102)(41, \"button\", 103);\n    i0.ɵɵtext(42, \"Ajouter\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(43, \"button\", 104);\n    i0.ɵɵlistener(\"click\", function AdminDashboardComponent_div_58_div_54_Template_button_click_43_listener() {\n      i0.ɵɵrestoreView(_r9);\n      const ctx_r0 = i0.ɵɵnextContext(2);\n      return i0.ɵɵresetView(ctx_r0.cancelAddBook());\n    });\n    i0.ɵɵtext(44, \"Annuler\");\n    i0.ɵɵelementEnd()()()()();\n  }\n  if (rf & 2) {\n    const ctx_r0 = i0.ɵɵnextContext(2);\n    i0.ɵɵadvance(11);\n    i0.ɵɵtwoWayProperty(\"ngModel\", ctx_r0.newBook.title);\n    i0.ɵɵadvance(5);\n    i0.ɵɵtwoWayProperty(\"ngModel\", ctx_r0.newBook.author);\n    i0.ɵɵadvance(6);\n    i0.ɵɵtwoWayProperty(\"ngModel\", ctx_r0.newBook.isbn);\n    i0.ɵɵadvance(5);\n    i0.ɵɵtwoWayProperty(\"ngModel\", ctx_r0.newBook.category_id);\n    i0.ɵɵadvance(3);\n    i0.ɵɵproperty(\"ngForOf\", ctx_r0.categories);\n    i0.ɵɵadvance(5);\n    i0.ɵɵtwoWayProperty(\"ngModel\", ctx_r0.newBook.stock);\n    i0.ɵɵadvance(4);\n    i0.ɵɵtwoWayProperty(\"ngModel\", ctx_r0.newBook.description);\n  }\n}\nfunction AdminDashboardComponent_div_58_div_56_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 105)(1, \"div\", 46)(2, \"div\", 35)(3, \"h6\", 106);\n    i0.ɵɵtext(4);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(5, \"p\", 107)(6, \"strong\");\n    i0.ɵɵtext(7, \"Auteur:\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(8);\n    i0.ɵɵelement(9, \"br\");\n    i0.ɵɵelementStart(10, \"strong\");\n    i0.ɵɵtext(11, \"Cat\\u00E9gorie:\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(12);\n    i0.ɵɵelement(13, \"br\");\n    i0.ɵɵelementStart(14, \"strong\");\n    i0.ɵɵtext(15, \"Stock:\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(16);\n    i0.ɵɵelementEnd()()()();\n  }\n  if (rf & 2) {\n    const book_r11 = ctx.$implicit;\n    i0.ɵɵadvance(4);\n    i0.ɵɵtextInterpolate(book_r11.title);\n    i0.ɵɵadvance(4);\n    i0.ɵɵtextInterpolate1(\" \", book_r11.author, \"\");\n    i0.ɵɵadvance(4);\n    i0.ɵɵtextInterpolate1(\" \", book_r11.category == null ? null : book_r11.category.name, \"\");\n    i0.ɵɵadvance(4);\n    i0.ɵɵtextInterpolate2(\" \", book_r11.available, \"/\", book_r11.stock, \" \");\n  }\n}\nfunction AdminDashboardComponent_div_58_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r5 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"div\", 30)(1, \"div\", 60)(2, \"div\", 61)(3, \"input\", 62);\n    i0.ɵɵtwoWayListener(\"ngModelChange\", function AdminDashboardComponent_div_58_Template_input_ngModelChange_3_listener($event) {\n      i0.ɵɵrestoreView(_r5);\n      const ctx_r0 = i0.ɵɵnextContext();\n      i0.ɵɵtwoWayBindingSet(ctx_r0.bookSearch, $event) || (ctx_r0.bookSearch = $event);\n      return i0.ɵɵresetView($event);\n    });\n    i0.ɵɵlistener(\"input\", function AdminDashboardComponent_div_58_Template_input_input_3_listener() {\n      i0.ɵɵrestoreView(_r5);\n      const ctx_r0 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r0.searchBooks());\n    });\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(4, \"select\", 63);\n    i0.ɵɵtwoWayListener(\"ngModelChange\", function AdminDashboardComponent_div_58_Template_select_ngModelChange_4_listener($event) {\n      i0.ɵɵrestoreView(_r5);\n      const ctx_r0 = i0.ɵɵnextContext();\n      i0.ɵɵtwoWayBindingSet(ctx_r0.bookCategoryFilter, $event) || (ctx_r0.bookCategoryFilter = $event);\n      return i0.ɵɵresetView($event);\n    });\n    i0.ɵɵlistener(\"change\", function AdminDashboardComponent_div_58_Template_select_change_4_listener() {\n      i0.ɵɵrestoreView(_r5);\n      const ctx_r0 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r0.filterBooks());\n    });\n    i0.ɵɵelementStart(5, \"option\", 64);\n    i0.ɵɵtext(6, \"Toutes cat\\u00E9gories\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtemplate(7, AdminDashboardComponent_div_58_option_7_Template, 2, 2, \"option\", 65);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(8, \"select\", 63);\n    i0.ɵɵtwoWayListener(\"ngModelChange\", function AdminDashboardComponent_div_58_Template_select_ngModelChange_8_listener($event) {\n      i0.ɵɵrestoreView(_r5);\n      const ctx_r0 = i0.ɵɵnextContext();\n      i0.ɵɵtwoWayBindingSet(ctx_r0.bookAvailabilityFilter, $event) || (ctx_r0.bookAvailabilityFilter = $event);\n      return i0.ɵɵresetView($event);\n    });\n    i0.ɵɵlistener(\"change\", function AdminDashboardComponent_div_58_Template_select_change_8_listener() {\n      i0.ɵɵrestoreView(_r5);\n      const ctx_r0 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r0.filterBooks());\n    });\n    i0.ɵɵelementStart(9, \"option\", 64);\n    i0.ɵɵtext(10, \"Toutes\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(11, \"option\", 66);\n    i0.ɵɵtext(12, \"Disponibles\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(13, \"option\", 67);\n    i0.ɵɵtext(14, \"Indisponibles\");\n    i0.ɵɵelementEnd()()();\n    i0.ɵɵelementStart(15, \"div\")(16, \"button\", 68);\n    i0.ɵɵlistener(\"click\", function AdminDashboardComponent_div_58_Template_button_click_16_listener() {\n      i0.ɵɵrestoreView(_r5);\n      const ctx_r0 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r0.exportBooks());\n    });\n    i0.ɵɵtext(17, \"Export CSV\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(18, \"button\", 69);\n    i0.ɵɵlistener(\"click\", function AdminDashboardComponent_div_58_Template_button_click_18_listener() {\n      i0.ɵɵrestoreView(_r5);\n      const ctx_r0 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r0.showAddBookForm = true);\n    });\n    i0.ɵɵtext(19, \"+ Ajouter Livre\");\n    i0.ɵɵelementEnd()()();\n    i0.ɵɵelementStart(20, \"div\", 70)(21, \"table\", 71)(22, \"thead\")(23, \"tr\")(24, \"th\")(25, \"input\", 72);\n    i0.ɵɵlistener(\"change\", function AdminDashboardComponent_div_58_Template_input_change_25_listener($event) {\n      i0.ɵɵrestoreView(_r5);\n      const ctx_r0 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r0.selectAllBooks($event));\n    });\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(26, \"th\");\n    i0.ɵɵtext(27, \"Couverture\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(28, \"th\");\n    i0.ɵɵtext(29, \"Titre\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(30, \"th\");\n    i0.ɵɵtext(31, \"Auteur(s)\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(32, \"th\");\n    i0.ɵɵtext(33, \"ISBN\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(34, \"th\");\n    i0.ɵɵtext(35, \"Cat\\u00E9gorie\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(36, \"th\");\n    i0.ɵɵtext(37, \"Localisation\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(38, \"th\");\n    i0.ɵɵtext(39, \"Stock\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(40, \"th\");\n    i0.ɵɵtext(41, \"Tag UID\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(42, \"th\");\n    i0.ɵɵtext(43, \"Actions\");\n    i0.ɵɵelementEnd()()();\n    i0.ɵɵelementStart(44, \"tbody\");\n    i0.ɵɵtemplate(45, AdminDashboardComponent_div_58_tr_45_Template, 33, 13, \"tr\", 73);\n    i0.ɵɵelementEnd()()();\n    i0.ɵɵelementStart(46, \"div\", 74)(47, \"div\", 75)(48, \"h4\");\n    i0.ɵɵtext(49, \"Gestion des Livres\");\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(50, \"div\", 76)(51, \"button\", 77);\n    i0.ɵɵlistener(\"click\", function AdminDashboardComponent_div_58_Template_button_click_51_listener() {\n      i0.ɵɵrestoreView(_r5);\n      const ctx_r0 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r0.showAddBookForm = true);\n    });\n    i0.ɵɵelement(52, \"i\", 78);\n    i0.ɵɵtext(53, \" Ajouter un Livre \");\n    i0.ɵɵelementEnd()()();\n    i0.ɵɵtemplate(54, AdminDashboardComponent_div_58_div_54_Template, 45, 7, \"div\", 79);\n    i0.ɵɵelementStart(55, \"div\", 44);\n    i0.ɵɵtemplate(56, AdminDashboardComponent_div_58_div_56_Template, 17, 5, \"div\", 80);\n    i0.ɵɵelementEnd()();\n  }\n  if (rf & 2) {\n    const ctx_r0 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(3);\n    i0.ɵɵtwoWayProperty(\"ngModel\", ctx_r0.bookSearch);\n    i0.ɵɵadvance();\n    i0.ɵɵtwoWayProperty(\"ngModel\", ctx_r0.bookCategoryFilter);\n    i0.ɵɵadvance(3);\n    i0.ɵɵproperty(\"ngForOf\", ctx_r0.categories);\n    i0.ɵɵadvance();\n    i0.ɵɵtwoWayProperty(\"ngModel\", ctx_r0.bookAvailabilityFilter);\n    i0.ɵɵadvance(37);\n    i0.ɵɵproperty(\"ngForOf\", ctx_r0.filteredBooks);\n    i0.ɵɵadvance(9);\n    i0.ɵɵproperty(\"ngIf\", ctx_r0.showAddBookForm);\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"ngForOf\", ctx_r0.books);\n  }\n}\nfunction AdminDashboardComponent_div_59_tr_43_img_5_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelement(0, \"img\", 123);\n  }\n  if (rf & 2) {\n    const user_r14 = i0.ɵɵnextContext().$implicit;\n    i0.ɵɵproperty(\"src\", user_r14.photo_url, i0.ɵɵsanitizeUrl);\n  }\n}\nfunction AdminDashboardComponent_div_59_tr_43_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r13 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"tr\")(1, \"td\");\n    i0.ɵɵtext(2);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(3, \"td\")(4, \"div\", 52);\n    i0.ɵɵtemplate(5, AdminDashboardComponent_div_59_tr_43_img_5_Template, 1, 1, \"img\", 115);\n    i0.ɵɵelementStart(6, \"span\");\n    i0.ɵɵtext(7);\n    i0.ɵɵelementEnd()()();\n    i0.ɵɵelementStart(8, \"td\");\n    i0.ɵɵtext(9);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(10, \"td\")(11, \"span\", 116);\n    i0.ɵɵtext(12);\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(13, \"td\");\n    i0.ɵɵtext(14);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(15, \"td\");\n    i0.ɵɵtext(16);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(17, \"td\")(18, \"span\", 117);\n    i0.ɵɵtext(19);\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(20, \"td\");\n    i0.ɵɵtext(21);\n    i0.ɵɵpipe(22, \"date\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(23, \"td\")(24, \"button\", 118);\n    i0.ɵɵlistener(\"click\", function AdminDashboardComponent_div_59_tr_43_Template_button_click_24_listener() {\n      const user_r14 = i0.ɵɵrestoreView(_r13).$implicit;\n      const ctx_r0 = i0.ɵɵnextContext(2);\n      return i0.ɵɵresetView(ctx_r0.viewUserProfile(user_r14));\n    });\n    i0.ɵɵelement(25, \"i\", 85);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(26, \"button\", 86);\n    i0.ɵɵlistener(\"click\", function AdminDashboardComponent_div_59_tr_43_Template_button_click_26_listener() {\n      const user_r14 = i0.ɵɵrestoreView(_r13).$implicit;\n      const ctx_r0 = i0.ɵɵnextContext(2);\n      return i0.ɵɵresetView(ctx_r0.editUser(user_r14));\n    });\n    i0.ɵɵelement(27, \"i\", 87);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(28, \"button\", 119);\n    i0.ɵɵlistener(\"click\", function AdminDashboardComponent_div_59_tr_43_Template_button_click_28_listener() {\n      const user_r14 = i0.ɵɵrestoreView(_r13).$implicit;\n      const ctx_r0 = i0.ɵɵnextContext(2);\n      return i0.ɵɵresetView(ctx_r0.assignUserTag(user_r14));\n    });\n    i0.ɵɵelement(29, \"i\", 120);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(30, \"button\", 121);\n    i0.ɵɵlistener(\"click\", function AdminDashboardComponent_div_59_tr_43_Template_button_click_30_listener() {\n      const user_r14 = i0.ɵɵrestoreView(_r13).$implicit;\n      const ctx_r0 = i0.ɵɵnextContext(2);\n      return i0.ɵɵresetView(ctx_r0.toggleUserStatus(user_r14));\n    });\n    i0.ɵɵelement(31, \"i\", 122);\n    i0.ɵɵelementEnd()()();\n  }\n  if (rf & 2) {\n    const user_r14 = ctx.$implicit;\n    const ctx_r0 = i0.ɵɵnextContext(2);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(user_r14.id);\n    i0.ɵɵadvance(3);\n    i0.ɵɵproperty(\"ngIf\", user_r14.status === \"approved\" && user_r14.photo_url);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate2(\"\", user_r14.name, \" \", user_r14.surname, \"\");\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(user_r14.email);\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate(user_r14.role);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(user_r14.tag_uid || \"\\u2014\");\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(user_r14.active_borrows || 0);\n    i0.ɵɵadvance(2);\n    i0.ɵɵclassMap(user_r14.status === \"approved\" ? \"bg-success\" : \"bg-warning\");\n    i0.ɵɵadvance();\n    i0.ɵɵtextInterpolate(ctx_r0.getStatusLabel(user_r14.status));\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(i0.ɵɵpipeBind1(22, 16, user_r14.created_at));\n    i0.ɵɵadvance(9);\n    i0.ɵɵclassMap(user_r14.status === \"active\" ? \"btn-outline-warning\" : \"btn-outline-success\");\n    i0.ɵɵadvance();\n    i0.ɵɵclassMap(user_r14.status === \"active\" ? \"fa-ban\" : \"fa-check\");\n  }\n}\nfunction AdminDashboardComponent_div_59_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r12 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"div\", 30)(1, \"div\", 60)(2, \"div\", 61)(3, \"input\", 108);\n    i0.ɵɵtwoWayListener(\"ngModelChange\", function AdminDashboardComponent_div_59_Template_input_ngModelChange_3_listener($event) {\n      i0.ɵɵrestoreView(_r12);\n      const ctx_r0 = i0.ɵɵnextContext();\n      i0.ɵɵtwoWayBindingSet(ctx_r0.userSearch, $event) || (ctx_r0.userSearch = $event);\n      return i0.ɵɵresetView($event);\n    });\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(4, \"select\", 109);\n    i0.ɵɵtwoWayListener(\"ngModelChange\", function AdminDashboardComponent_div_59_Template_select_ngModelChange_4_listener($event) {\n      i0.ɵɵrestoreView(_r12);\n      const ctx_r0 = i0.ɵɵnextContext();\n      i0.ɵɵtwoWayBindingSet(ctx_r0.userRoleFilter, $event) || (ctx_r0.userRoleFilter = $event);\n      return i0.ɵɵresetView($event);\n    });\n    i0.ɵɵelementStart(5, \"option\", 64);\n    i0.ɵɵtext(6, \"Tous r\\u00F4les\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(7, \"option\", 110);\n    i0.ɵɵtext(8, \"Utilisateur\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(9, \"option\", 111);\n    i0.ɵɵtext(10, \"Admin\");\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(11, \"select\", 109);\n    i0.ɵɵtwoWayListener(\"ngModelChange\", function AdminDashboardComponent_div_59_Template_select_ngModelChange_11_listener($event) {\n      i0.ɵɵrestoreView(_r12);\n      const ctx_r0 = i0.ɵɵnextContext();\n      i0.ɵɵtwoWayBindingSet(ctx_r0.userStatusFilter, $event) || (ctx_r0.userStatusFilter = $event);\n      return i0.ɵɵresetView($event);\n    });\n    i0.ɵɵelementStart(12, \"option\", 64);\n    i0.ɵɵtext(13, \"Tous statuts\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(14, \"option\", 112);\n    i0.ɵɵtext(15, \"Actif\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(16, \"option\", 113);\n    i0.ɵɵtext(17, \"Suspendu\");\n    i0.ɵɵelementEnd()()();\n    i0.ɵɵelementStart(18, \"button\", 114);\n    i0.ɵɵtext(19, \"Export CSV\");\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(20, \"div\", 70)(21, \"table\", 71)(22, \"thead\")(23, \"tr\")(24, \"th\");\n    i0.ɵɵtext(25, \"ID\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(26, \"th\");\n    i0.ɵɵtext(27, \"Nom Pr\\u00E9nom\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(28, \"th\");\n    i0.ɵɵtext(29, \"Email\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(30, \"th\");\n    i0.ɵɵtext(31, \"R\\u00F4le\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(32, \"th\");\n    i0.ɵɵtext(33, \"Tag UID\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(34, \"th\");\n    i0.ɵɵtext(35, \"Emprunts en cours\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(36, \"th\");\n    i0.ɵɵtext(37, \"Statut\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(38, \"th\");\n    i0.ɵɵtext(39, \"Inscription\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(40, \"th\");\n    i0.ɵɵtext(41, \"Actions\");\n    i0.ɵɵelementEnd()()();\n    i0.ɵɵelementStart(42, \"tbody\");\n    i0.ɵɵtemplate(43, AdminDashboardComponent_div_59_tr_43_Template, 32, 18, \"tr\", 73);\n    i0.ɵɵelementEnd()()()();\n  }\n  if (rf & 2) {\n    const ctx_r0 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(3);\n    i0.ɵɵtwoWayProperty(\"ngModel\", ctx_r0.userSearch);\n    i0.ɵɵadvance();\n    i0.ɵɵtwoWayProperty(\"ngModel\", ctx_r0.userRoleFilter);\n    i0.ɵɵadvance(7);\n    i0.ɵɵtwoWayProperty(\"ngModel\", ctx_r0.userStatusFilter);\n    i0.ɵɵadvance(32);\n    i0.ɵɵproperty(\"ngForOf\", ctx_r0.users);\n  }\n}\nfunction AdminDashboardComponent_div_60_tr_31_span_16_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"span\", 134);\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const borrow_r17 = i0.ɵɵnextContext().$implicit;\n    i0.ɵɵadvance();\n    i0.ɵɵtextInterpolate(borrow_r17.days_overdue);\n  }\n}\nfunction AdminDashboardComponent_div_60_tr_31_span_17_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"span\", 135);\n    i0.ɵɵtext(1, \"\\u2014\");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction AdminDashboardComponent_div_60_tr_31_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r16 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"tr\")(1, \"td\");\n    i0.ɵɵtext(2);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(3, \"td\");\n    i0.ɵɵtext(4);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(5, \"td\");\n    i0.ɵɵtext(6);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(7, \"td\");\n    i0.ɵɵtext(8);\n    i0.ɵɵpipe(9, \"date\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(10, \"td\");\n    i0.ɵɵtext(11);\n    i0.ɵɵpipe(12, \"date\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(13, \"td\");\n    i0.ɵɵtext(14);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(15, \"td\");\n    i0.ɵɵtemplate(16, AdminDashboardComponent_div_60_tr_31_span_16_Template, 2, 1, \"span\", 126)(17, AdminDashboardComponent_div_60_tr_31_span_17_Template, 2, 0, \"span\", 127);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(18, \"td\")(19, \"button\", 128);\n    i0.ɵɵlistener(\"click\", function AdminDashboardComponent_div_60_tr_31_Template_button_click_19_listener() {\n      const borrow_r17 = i0.ɵɵrestoreView(_r16).$implicit;\n      const ctx_r0 = i0.ɵɵnextContext(2);\n      return i0.ɵɵresetView(ctx_r0.returnBook(borrow_r17.id));\n    });\n    i0.ɵɵelement(20, \"i\", 129);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(21, \"button\", 130);\n    i0.ɵɵelement(22, \"i\", 131);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(23, \"button\", 132);\n    i0.ɵɵelement(24, \"i\", 133);\n    i0.ɵɵelementEnd()()();\n  }\n  if (rf & 2) {\n    const borrow_r17 = ctx.$implicit;\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(borrow_r17.id);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(borrow_r17.title);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(borrow_r17.user_name);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(i0.ɵɵpipeBind1(9, 8, borrow_r17.date_emprunt));\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate(i0.ɵɵpipeBind1(12, 10, borrow_r17.date_retour_prevue));\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate(borrow_r17.device || \"\\u2014\");\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"ngIf\", borrow_r17.days_overdue > 0);\n    i0.ɵɵadvance();\n    i0.ɵɵproperty(\"ngIf\", borrow_r17.days_overdue <= 0);\n  }\n}\nfunction AdminDashboardComponent_div_60_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r15 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"div\", 30)(1, \"div\", 32)(2, \"div\", 33)(3, \"button\", 124);\n    i0.ɵɵlistener(\"click\", function AdminDashboardComponent_div_60_Template_button_click_3_listener() {\n      i0.ɵɵrestoreView(_r15);\n      const ctx_r0 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r0.borrowView = \"current\");\n    });\n    i0.ɵɵtext(4, \"En cours\");\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(5, \"div\", 33)(6, \"button\", 124);\n    i0.ɵɵlistener(\"click\", function AdminDashboardComponent_div_60_Template_button_click_6_listener() {\n      i0.ɵɵrestoreView(_r15);\n      const ctx_r0 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r0.borrowView = \"history\");\n    });\n    i0.ɵɵtext(7, \"Historique\");\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(8, \"div\", 45);\n    i0.ɵɵelement(9, \"input\", 125);\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(10, \"div\", 70)(11, \"table\", 71)(12, \"thead\")(13, \"tr\")(14, \"th\");\n    i0.ɵɵtext(15, \"ID\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(16, \"th\");\n    i0.ɵɵtext(17, \"Livre\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(18, \"th\");\n    i0.ɵɵtext(19, \"Utilisateur\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(20, \"th\");\n    i0.ɵɵtext(21, \"Date emprunt\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(22, \"th\");\n    i0.ɵɵtext(23, \"Date retour pr\\u00E9vue\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(24, \"th\");\n    i0.ɵɵtext(25, \"Device\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(26, \"th\");\n    i0.ɵɵtext(27, \"Jours de retard\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(28, \"th\");\n    i0.ɵɵtext(29, \"Actions\");\n    i0.ɵɵelementEnd()()();\n    i0.ɵɵelementStart(30, \"tbody\");\n    i0.ɵɵtemplate(31, AdminDashboardComponent_div_60_tr_31_Template, 25, 12, \"tr\", 73);\n    i0.ɵɵelementEnd()()()();\n  }\n  if (rf & 2) {\n    const ctx_r0 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(3);\n    i0.ɵɵclassMap(ctx_r0.borrowView === \"current\" ? \"btn-primary\" : \"btn-outline-primary\");\n    i0.ɵɵadvance(3);\n    i0.ɵɵclassMap(ctx_r0.borrowView === \"history\" ? \"btn-primary\" : \"btn-outline-primary\");\n    i0.ɵɵadvance(25);\n    i0.ɵɵproperty(\"ngForOf\", ctx_r0.borrows);\n  }\n}\nfunction AdminDashboardComponent_div_61_div_9_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 140)(1, \"div\", 141)(2, \"div\")(3, \"strong\");\n    i0.ɵɵtext(4);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelement(5, \"br\");\n    i0.ɵɵelementStart(6, \"small\", 7);\n    i0.ɵɵtext(7);\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(8, \"span\", 117);\n    i0.ɵɵtext(9);\n    i0.ɵɵelementEnd()()();\n  }\n  if (rf & 2) {\n    const device_r19 = ctx.$implicit;\n    i0.ɵɵadvance(4);\n    i0.ɵɵtextInterpolate(device_r19.name);\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate(device_r19.type);\n    i0.ɵɵadvance();\n    i0.ɵɵclassMap(device_r19.status === \"online\" ? \"bg-success\" : \"bg-danger\");\n    i0.ɵɵadvance();\n    i0.ɵɵtextInterpolate1(\" \", device_r19.status, \" \");\n  }\n}\nfunction AdminDashboardComponent_div_61_div_19_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\")(1, \"strong\");\n    i0.ɵɵtext(2);\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(3);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const shelf_r20 = ctx.$implicit;\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(shelf_r20.name);\n    i0.ɵɵadvance();\n    i0.ɵɵtextInterpolate1(\": \", shelf_r20.detected_books, \" livres d\\u00E9tect\\u00E9s \");\n  }\n}\nfunction AdminDashboardComponent_div_61_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r18 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"div\", 30)(1, \"div\", 32)(2, \"div\", 45)(3, \"div\", 46)(4, \"div\", 47)(5, \"h5\");\n    i0.ɵɵelement(6, \"i\", 136);\n    i0.ɵɵtext(7, \" Devices IoT\");\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(8, \"div\", 35);\n    i0.ɵɵtemplate(9, AdminDashboardComponent_div_61_div_9_Template, 10, 5, \"div\", 137);\n    i0.ɵɵelementEnd()()();\n    i0.ɵɵelementStart(10, \"div\", 45)(11, \"div\", 46)(12, \"div\", 47)(13, \"h5\");\n    i0.ɵɵelement(14, \"i\", 138);\n    i0.ɵɵtext(15, \" Inventaire temps r\\u00E9el\");\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(16, \"div\", 35)(17, \"button\", 139);\n    i0.ɵɵlistener(\"click\", function AdminDashboardComponent_div_61_Template_button_click_17_listener() {\n      i0.ɵɵrestoreView(_r18);\n      const ctx_r0 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r0.startInventoryScan());\n    });\n    i0.ɵɵtext(18, \"Lancer scan manuel\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtemplate(19, AdminDashboardComponent_div_61_div_19_Template, 4, 2, \"div\", 73);\n    i0.ɵɵelementEnd()()()()();\n  }\n  if (rf & 2) {\n    const ctx_r0 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(9);\n    i0.ɵɵproperty(\"ngForOf\", ctx_r0.iotDevices);\n    i0.ɵɵadvance(10);\n    i0.ɵɵproperty(\"ngForOf\", ctx_r0.shelves);\n  }\n}\nfunction AdminDashboardComponent_div_62_div_8_tr_17_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r22 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"tr\")(1, \"td\");\n    i0.ɵɵtext(2);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(3, \"td\");\n    i0.ɵɵtext(4);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(5, \"td\");\n    i0.ɵɵtext(6);\n    i0.ɵɵpipe(7, \"date\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(8, \"td\", 134);\n    i0.ɵɵtext(9);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(10, \"td\");\n    i0.ɵɵtext(11);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(12, \"td\")(13, \"button\", 143);\n    i0.ɵɵlistener(\"click\", function AdminDashboardComponent_div_62_div_8_tr_17_Template_button_click_13_listener() {\n      const overdue_r23 = i0.ɵɵrestoreView(_r22).$implicit;\n      const ctx_r0 = i0.ɵɵnextContext(3);\n      return i0.ɵɵresetView(ctx_r0.applyPenalty(overdue_r23));\n    });\n    i0.ɵɵelement(14, \"i\", 144);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(15, \"button\", 145);\n    i0.ɵɵlistener(\"click\", function AdminDashboardComponent_div_62_div_8_tr_17_Template_button_click_15_listener() {\n      const overdue_r23 = i0.ɵɵrestoreView(_r22).$implicit;\n      const ctx_r0 = i0.ɵɵnextContext(3);\n      return i0.ɵɵresetView(ctx_r0.sendReminder(overdue_r23.user_id));\n    });\n    i0.ɵɵelement(16, \"i\", 133);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(17, \"button\", 146);\n    i0.ɵɵlistener(\"click\", function AdminDashboardComponent_div_62_div_8_tr_17_Template_button_click_17_listener() {\n      const overdue_r23 = i0.ɵɵrestoreView(_r22).$implicit;\n      const ctx_r0 = i0.ɵɵnextContext(3);\n      return i0.ɵɵresetView(ctx_r0.blacklistUser(overdue_r23.user_id));\n    });\n    i0.ɵɵelement(18, \"i\", 147);\n    i0.ɵɵelementEnd()()();\n  }\n  if (rf & 2) {\n    const overdue_r23 = ctx.$implicit;\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(overdue_r23.user_name);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(overdue_r23.book_title);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(i0.ɵɵpipeBind1(7, 5, overdue_r23.due_date));\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate(overdue_r23.days_overdue);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate1(\"\", overdue_r23.penalty_amount, \" CFA\");\n  }\n}\nfunction AdminDashboardComponent_div_62_div_8_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 70)(1, \"table\", 71)(2, \"thead\")(3, \"tr\")(4, \"th\");\n    i0.ɵɵtext(5, \"Utilisateur\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(6, \"th\");\n    i0.ɵɵtext(7, \"Livre\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(8, \"th\");\n    i0.ɵɵtext(9, \"Date pr\\u00E9vue\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(10, \"th\");\n    i0.ɵɵtext(11, \"Jours de retard\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(12, \"th\");\n    i0.ɵɵtext(13, \"Montant p\\u00E9nalit\\u00E9\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(14, \"th\");\n    i0.ɵɵtext(15, \"Actions\");\n    i0.ɵɵelementEnd()()();\n    i0.ɵɵelementStart(16, \"tbody\");\n    i0.ɵɵtemplate(17, AdminDashboardComponent_div_62_div_8_tr_17_Template, 19, 7, \"tr\", 73);\n    i0.ɵɵelementEnd()()();\n  }\n  if (rf & 2) {\n    const ctx_r0 = i0.ɵɵnextContext(2);\n    i0.ɵɵadvance(17);\n    i0.ɵɵproperty(\"ngForOf\", ctx_r0.overdueBorrows);\n  }\n}\nfunction AdminDashboardComponent_div_62_div_9_tr_15_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"tr\")(1, \"td\");\n    i0.ɵɵtext(2);\n    i0.ɵɵpipe(3, \"date\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(4, \"td\");\n    i0.ɵɵtext(5);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(6, \"td\");\n    i0.ɵɵtext(7);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(8, \"td\", 134);\n    i0.ɵɵtext(9);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(10, \"td\");\n    i0.ɵɵtext(11);\n    i0.ɵɵelementEnd()();\n  }\n  if (rf & 2) {\n    const penalty_r24 = ctx.$implicit;\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(i0.ɵɵpipeBind2(3, 5, penalty_r24.applied_date, \"short\"));\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate(penalty_r24.user_name);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(penalty_r24.book_title);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate1(\"\", penalty_r24.amount, \" CFA\");\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(penalty_r24.admin_name);\n  }\n}\nfunction AdminDashboardComponent_div_62_div_9_div_16_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 149)(1, \"p\", 7);\n    i0.ɵɵtext(2, \"Aucune p\\u00E9nalit\\u00E9 appliqu\\u00E9e pour le moment\");\n    i0.ɵɵelementEnd()();\n  }\n}\nfunction AdminDashboardComponent_div_62_div_9_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 70)(1, \"table\", 71)(2, \"thead\")(3, \"tr\")(4, \"th\");\n    i0.ɵɵtext(5, \"Date\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(6, \"th\");\n    i0.ɵɵtext(7, \"Utilisateur\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(8, \"th\");\n    i0.ɵɵtext(9, \"Livre\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(10, \"th\");\n    i0.ɵɵtext(11, \"Montant\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(12, \"th\");\n    i0.ɵɵtext(13, \"Appliqu\\u00E9 par\");\n    i0.ɵɵelementEnd()()();\n    i0.ɵɵelementStart(14, \"tbody\");\n    i0.ɵɵtemplate(15, AdminDashboardComponent_div_62_div_9_tr_15_Template, 12, 8, \"tr\", 73);\n    i0.ɵɵelementEnd()();\n    i0.ɵɵtemplate(16, AdminDashboardComponent_div_62_div_9_div_16_Template, 3, 0, \"div\", 148);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r0 = i0.ɵɵnextContext(2);\n    i0.ɵɵadvance(15);\n    i0.ɵɵproperty(\"ngForOf\", ctx_r0.penaltyHistory);\n    i0.ɵɵadvance();\n    i0.ɵɵproperty(\"ngIf\", ctx_r0.penaltyHistory.length === 0);\n  }\n}\nfunction AdminDashboardComponent_div_62_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r21 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"div\", 30)(1, \"div\", 32)(2, \"div\", 45)(3, \"button\", 124);\n    i0.ɵɵlistener(\"click\", function AdminDashboardComponent_div_62_Template_button_click_3_listener() {\n      i0.ɵɵrestoreView(_r21);\n      const ctx_r0 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r0.penaltyView = \"current\");\n    });\n    i0.ɵɵtext(4, \"Retards actuels\");\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(5, \"div\", 45)(6, \"button\", 124);\n    i0.ɵɵlistener(\"click\", function AdminDashboardComponent_div_62_Template_button_click_6_listener() {\n      i0.ɵɵrestoreView(_r21);\n      const ctx_r0 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r0.penaltyView = \"history\");\n    });\n    i0.ɵɵtext(7, \"Historique p\\u00E9nalit\\u00E9s\");\n    i0.ɵɵelementEnd()()();\n    i0.ɵɵtemplate(8, AdminDashboardComponent_div_62_div_8_Template, 18, 1, \"div\", 142)(9, AdminDashboardComponent_div_62_div_9_Template, 17, 2, \"div\", 142);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r0 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(3);\n    i0.ɵɵclassMap(ctx_r0.penaltyView === \"current\" ? \"btn-primary\" : \"btn-outline-primary\");\n    i0.ɵɵadvance(3);\n    i0.ɵɵclassMap(ctx_r0.penaltyView === \"history\" ? \"btn-primary\" : \"btn-outline-primary\");\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"ngIf\", ctx_r0.penaltyView === \"current\");\n    i0.ɵɵadvance();\n    i0.ɵɵproperty(\"ngIf\", ctx_r0.penaltyView === \"history\");\n  }\n}\nfunction AdminDashboardComponent_div_63_tr_18_span_9_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"span\", 158);\n    i0.ɵɵtext(1, \"Upload\\u00E9s\");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction AdminDashboardComponent_div_63_tr_18_span_10_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"span\", 152);\n    i0.ɵɵtext(1, \"Manquants\");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction AdminDashboardComponent_div_63_tr_18_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r25 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"tr\")(1, \"td\");\n    i0.ɵɵtext(2);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(3, \"td\");\n    i0.ɵɵtext(4);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(5, \"td\");\n    i0.ɵɵtext(6);\n    i0.ɵɵpipe(7, \"date\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(8, \"td\");\n    i0.ɵɵtemplate(9, AdminDashboardComponent_div_63_tr_18_span_9_Template, 2, 0, \"span\", 150)(10, AdminDashboardComponent_div_63_tr_18_span_10_Template, 2, 0, \"span\", 151);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(11, \"td\")(12, \"span\", 152);\n    i0.ɵɵtext(13, \"En attente\");\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(14, \"td\")(15, \"button\", 153);\n    i0.ɵɵlistener(\"click\", function AdminDashboardComponent_div_63_tr_18_Template_button_click_15_listener() {\n      const request_r26 = i0.ɵɵrestoreView(_r25).$implicit;\n      const ctx_r0 = i0.ɵɵnextContext(2);\n      return i0.ɵɵresetView(ctx_r0.viewRequestProfile(request_r26));\n    });\n    i0.ɵɵelement(16, \"i\", 85);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(17, \"button\", 154);\n    i0.ɵɵlistener(\"click\", function AdminDashboardComponent_div_63_tr_18_Template_button_click_17_listener() {\n      const request_r26 = i0.ɵɵrestoreView(_r25).$implicit;\n      const ctx_r0 = i0.ɵɵnextContext(2);\n      return i0.ɵɵresetView(ctx_r0.approveRequest(request_r26.id));\n    });\n    i0.ɵɵelement(18, \"i\", 129);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(19, \"button\", 155);\n    i0.ɵɵlistener(\"click\", function AdminDashboardComponent_div_63_tr_18_Template_button_click_19_listener() {\n      const request_r26 = i0.ɵɵrestoreView(_r25).$implicit;\n      const ctx_r0 = i0.ɵɵnextContext(2);\n      return i0.ɵɵresetView(ctx_r0.rejectRequest(request_r26.id));\n    });\n    i0.ɵɵelement(20, \"i\", 156);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(21, \"button\", 157);\n    i0.ɵɵlistener(\"click\", function AdminDashboardComponent_div_63_tr_18_Template_button_click_21_listener() {\n      const request_r26 = i0.ɵɵrestoreView(_r25).$implicit;\n      const ctx_r0 = i0.ɵɵnextContext(2);\n      return i0.ɵɵresetView(ctx_r0.requestDocument(request_r26.id));\n    });\n    i0.ɵɵelement(22, \"i\", 20);\n    i0.ɵɵelementEnd()()();\n  }\n  if (rf & 2) {\n    const request_r26 = ctx.$implicit;\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate2(\"\", request_r26.name, \" \", request_r26.surname, \"\");\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(request_r26.email);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(i0.ɵɵpipeBind1(7, 6, request_r26.created_at));\n    i0.ɵɵadvance(3);\n    i0.ɵɵproperty(\"ngIf\", request_r26.documents_uploaded);\n    i0.ɵɵadvance();\n    i0.ɵɵproperty(\"ngIf\", !request_r26.documents_uploaded);\n  }\n}\nfunction AdminDashboardComponent_div_63_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 30)(1, \"div\", 70)(2, \"table\", 71)(3, \"thead\")(4, \"tr\")(5, \"th\");\n    i0.ɵɵtext(6, \"Nom\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(7, \"th\");\n    i0.ɵɵtext(8, \"Email\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(9, \"th\");\n    i0.ɵɵtext(10, \"Date demande\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(11, \"th\");\n    i0.ɵɵtext(12, \"Documents\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(13, \"th\");\n    i0.ɵɵtext(14, \"Statut\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(15, \"th\");\n    i0.ɵɵtext(16, \"Actions\");\n    i0.ɵɵelementEnd()()();\n    i0.ɵɵelementStart(17, \"tbody\");\n    i0.ɵɵtemplate(18, AdminDashboardComponent_div_63_tr_18_Template, 23, 8, \"tr\", 73);\n    i0.ɵɵelementEnd()()()();\n  }\n  if (rf & 2) {\n    const ctx_r0 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(18);\n    i0.ɵɵproperty(\"ngForOf\", ctx_r0.registrationRequests);\n  }\n}\nfunction AdminDashboardComponent_div_64_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r27 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"div\", 30)(1, \"div\", 44)(2, \"div\", 76)(3, \"div\", 46)(4, \"div\", 47)(5, \"h5\");\n    i0.ɵɵtext(6, \"Rapports disponibles\");\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(7, \"div\", 35)(8, \"button\", 159);\n    i0.ɵɵlistener(\"click\", function AdminDashboardComponent_div_64_Template_button_click_8_listener() {\n      i0.ɵɵrestoreView(_r27);\n      const ctx_r0 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r0.exportReport(\"top-books\"));\n    });\n    i0.ɵɵtext(9, \"Top livres\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(10, \"button\", 159);\n    i0.ɵɵlistener(\"click\", function AdminDashboardComponent_div_64_Template_button_click_10_listener() {\n      i0.ɵɵrestoreView(_r27);\n      const ctx_r0 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r0.exportReport(\"monthly-activity\"));\n    });\n    i0.ɵɵtext(11, \"Activit\\u00E9 mensuelle\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(12, \"button\", 159);\n    i0.ɵɵlistener(\"click\", function AdminDashboardComponent_div_64_Template_button_click_12_listener() {\n      i0.ɵɵrestoreView(_r27);\n      const ctx_r0 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r0.exportReport(\"active-users\"));\n    });\n    i0.ɵɵtext(13, \"Utilisateurs actifs\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(14, \"button\", 160);\n    i0.ɵɵlistener(\"click\", function AdminDashboardComponent_div_64_Template_button_click_14_listener() {\n      i0.ɵɵrestoreView(_r27);\n      const ctx_r0 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r0.exportReport(\"iot-stats\"));\n    });\n    i0.ɵɵtext(15, \"Statistiques IoT\");\n    i0.ɵɵelementEnd()()()();\n    i0.ɵɵelementStart(16, \"div\", 75)(17, \"div\", 46)(18, \"div\", 47)(19, \"h5\");\n    i0.ɵɵtext(20, \"Graphiques\");\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(21, \"div\", 35)(22, \"p\", 7);\n    i0.ɵɵtext(23, \"Graphiques d'activit\\u00E9 \\u00E0 impl\\u00E9menter\");\n    i0.ɵɵelementEnd()()()()()();\n  }\n}\nfunction AdminDashboardComponent_div_65_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r28 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"div\", 30)(1, \"div\", 44)(2, \"div\", 45)(3, \"div\", 46)(4, \"div\", 47)(5, \"h5\");\n    i0.ɵɵtext(6, \"Param\\u00E8tres syst\\u00E8me\");\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(7, \"div\", 35)(8, \"div\", 94)(9, \"label\", 95);\n    i0.ɵɵtext(10, \"Dur\\u00E9e d'emprunt par d\\u00E9faut (jours)\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(11, \"input\", 161);\n    i0.ɵɵtwoWayListener(\"ngModelChange\", function AdminDashboardComponent_div_65_Template_input_ngModelChange_11_listener($event) {\n      i0.ɵɵrestoreView(_r28);\n      const ctx_r0 = i0.ɵɵnextContext();\n      i0.ɵɵtwoWayBindingSet(ctx_r0.settings.default_borrow_days, $event) || (ctx_r0.settings.default_borrow_days = $event);\n      return i0.ɵɵresetView($event);\n    });\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(12, \"div\", 94)(13, \"label\", 95);\n    i0.ɵɵtext(14, \"P\\u00E9nalit\\u00E9 par jour (CFA)\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(15, \"input\", 162);\n    i0.ɵɵtwoWayListener(\"ngModelChange\", function AdminDashboardComponent_div_65_Template_input_ngModelChange_15_listener($event) {\n      i0.ɵɵrestoreView(_r28);\n      const ctx_r0 = i0.ɵɵnextContext();\n      i0.ɵɵtwoWayBindingSet(ctx_r0.settings.penalty_per_day, $event) || (ctx_r0.settings.penalty_per_day = $event);\n      return i0.ɵɵresetView($event);\n    });\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(16, \"button\", 69);\n    i0.ɵɵlistener(\"click\", function AdminDashboardComponent_div_65_Template_button_click_16_listener() {\n      i0.ɵɵrestoreView(_r28);\n      const ctx_r0 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r0.saveSystemSettings());\n    });\n    i0.ɵɵtext(17, \"Sauvegarder\");\n    i0.ɵɵelementEnd()()()();\n    i0.ɵɵelementStart(18, \"div\", 45)(19, \"div\", 46)(20, \"div\", 47)(21, \"h5\");\n    i0.ɵɵtext(22, \"Param\\u00E8tres IoT\");\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(23, \"div\", 35)(24, \"div\", 94)(25, \"label\", 95);\n    i0.ɵɵtext(26, \"MQTT Broker\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(27, \"input\", 163);\n    i0.ɵɵtwoWayListener(\"ngModelChange\", function AdminDashboardComponent_div_65_Template_input_ngModelChange_27_listener($event) {\n      i0.ɵɵrestoreView(_r28);\n      const ctx_r0 = i0.ɵɵnextContext();\n      i0.ɵɵtwoWayBindingSet(ctx_r0.settings.mqtt_broker, $event) || (ctx_r0.settings.mqtt_broker = $event);\n      return i0.ɵɵresetView($event);\n    });\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(28, \"div\", 94)(29, \"label\", 95);\n    i0.ɵɵtext(30, \"Topic RFID\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(31, \"input\", 164);\n    i0.ɵɵtwoWayListener(\"ngModelChange\", function AdminDashboardComponent_div_65_Template_input_ngModelChange_31_listener($event) {\n      i0.ɵɵrestoreView(_r28);\n      const ctx_r0 = i0.ɵɵnextContext();\n      i0.ɵɵtwoWayBindingSet(ctx_r0.settings.rfid_topic, $event) || (ctx_r0.settings.rfid_topic = $event);\n      return i0.ɵɵresetView($event);\n    });\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(32, \"button\", 69);\n    i0.ɵɵlistener(\"click\", function AdminDashboardComponent_div_65_Template_button_click_32_listener() {\n      i0.ɵɵrestoreView(_r28);\n      const ctx_r0 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r0.saveIoTSettings());\n    });\n    i0.ɵɵtext(33, \"Sauvegarder\");\n    i0.ɵɵelementEnd()()()()()();\n  }\n  if (rf & 2) {\n    const ctx_r0 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(11);\n    i0.ɵɵtwoWayProperty(\"ngModel\", ctx_r0.settings.default_borrow_days);\n    i0.ɵɵadvance(4);\n    i0.ɵɵtwoWayProperty(\"ngModel\", ctx_r0.settings.penalty_per_day);\n    i0.ɵɵadvance(12);\n    i0.ɵɵtwoWayProperty(\"ngModel\", ctx_r0.settings.mqtt_broker);\n    i0.ɵɵadvance(4);\n    i0.ɵɵtwoWayProperty(\"ngModel\", ctx_r0.settings.rfid_topic);\n  }\n}\nfunction AdminDashboardComponent_div_66_tr_30_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"tr\")(1, \"td\");\n    i0.ɵɵtext(2);\n    i0.ɵɵpipe(3, \"date\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(4, \"td\")(5, \"span\", 117);\n    i0.ɵɵtext(6);\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(7, \"td\");\n    i0.ɵɵtext(8);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(9, \"td\");\n    i0.ɵɵtext(10);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(11, \"td\");\n    i0.ɵɵtext(12);\n    i0.ɵɵelementEnd()();\n  }\n  if (rf & 2) {\n    const log_r29 = ctx.$implicit;\n    const ctx_r0 = i0.ɵɵnextContext(2);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(i0.ɵɵpipeBind2(3, 7, log_r29.created_at, \"short\"));\n    i0.ɵɵadvance(3);\n    i0.ɵɵclassMap(ctx_r0.getLogTypeClass(log_r29.type));\n    i0.ɵɵadvance();\n    i0.ɵɵtextInterpolate(log_r29.type);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(log_r29.user_name || \"Syst\\u00E8me\");\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(log_r29.action);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(log_r29.details);\n  }\n}\nfunction AdminDashboardComponent_div_66_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 30)(1, \"div\", 60)(2, \"div\", 61);\n    i0.ɵɵelement(3, \"input\", 165);\n    i0.ɵɵelementStart(4, \"select\", 166)(5, \"option\", 64);\n    i0.ɵɵtext(6, \"Tous types\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(7, \"option\", 111);\n    i0.ɵɵtext(8, \"Actions admin\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(9, \"option\", 167);\n    i0.ɵɵtext(10, \"\\u00C9v\\u00E9nements device\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(11, \"option\", 168);\n    i0.ɵɵtext(12, \"Erreurs syst\\u00E8me\");\n    i0.ɵɵelementEnd()()();\n    i0.ɵɵelementStart(13, \"button\", 114);\n    i0.ɵɵtext(14, \"Export logs\");\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(15, \"div\", 70)(16, \"table\", 71)(17, \"thead\")(18, \"tr\")(19, \"th\");\n    i0.ɵɵtext(20, \"Date/Heure\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(21, \"th\");\n    i0.ɵɵtext(22, \"Type\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(23, \"th\");\n    i0.ɵɵtext(24, \"Utilisateur\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(25, \"th\");\n    i0.ɵɵtext(26, \"Action\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(27, \"th\");\n    i0.ɵɵtext(28, \"D\\u00E9tails\");\n    i0.ɵɵelementEnd()()();\n    i0.ɵɵelementStart(29, \"tbody\");\n    i0.ɵɵtemplate(30, AdminDashboardComponent_div_66_tr_30_Template, 13, 10, \"tr\", 73);\n    i0.ɵɵelementEnd()()()();\n  }\n  if (rf & 2) {\n    const ctx_r0 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(30);\n    i0.ɵɵproperty(\"ngForOf\", ctx_r0.auditLogs);\n  }\n}\nexport let AdminDashboardComponent = /*#__PURE__*/(() => {\n  class AdminDashboardComponent {\n    constructor(apiService, authService, router) {\n      this.apiService = apiService;\n      this.authService = authService;\n      this.router = router;\n      this.activeTab = 'dashboard';\n      this.stats = null;\n      this.books = [];\n      this.filteredBooks = [];\n      this.categories = [];\n      this.borrows = [];\n      this.users = [];\n      this.overdueBorrows = [];\n      this.penaltyHistory = [];\n      this.registrationRequests = [];\n      this.auditLogs = [];\n      this.iotDevices = [];\n      this.shelves = [];\n      this.viewedNotifications = new Set();\n      this.showAddBookForm = false;\n      this.newBook = {};\n      this.currentUser = this.authService.getCurrentUser();\n      // Filtres\n      this.bookSearch = '';\n      this.bookCategoryFilter = '';\n      this.bookAvailabilityFilter = '';\n      this.userSearch = '';\n      this.userRoleFilter = '';\n      this.userStatusFilter = '';\n      this.borrowView = 'current';\n      this.penaltyView = 'current';\n      this.selectedBooks = [];\n      // Paramètres\n      this.settings = {\n        default_borrow_days: 14,\n        penalty_per_day: 300,\n        mqtt_broker: 'localhost:1883',\n        rfid_topic: 'library/rfid'\n      };\n    }\n    ngOnInit() {\n      this.loadStats();\n      this.loadBooks();\n      this.loadCategories();\n      this.loadBorrows();\n      this.loadUsers();\n      this.loadOverdueBorrows();\n      this.loadRegistrationRequests();\n      this.loadAuditLogs();\n      this.loadIoTDevices();\n      this.loadShelves();\n      // Vérifier périodiquement les nouvelles demandes\n      setInterval(() => {\n        this.loadRegistrationRequests();\n      }, 30000); // Vérifier toutes les 30 secondes\n    }\n    setActiveTab(tab) {\n      this.activeTab = tab;\n    }\n    getTabTitle() {\n      const titles = {\n        'dashboard': 'Tableau de bord',\n        'users': 'Utilisateurs',\n        'borrows': 'Emprunts',\n        'books': 'Livres / Catalogue',\n        'inventory': 'Inventaire (IoT)',\n        'overdue': 'Retards & Pénalités',\n        'requests': 'Demandes / Inscriptions',\n        'reports': 'Statistiques & Rapports',\n        'settings': 'Configuration / Paramètres',\n        'logs': 'Logs / Audit'\n      };\n      return titles[this.activeTab] || this.activeTab;\n    }\n    loadStats() {\n      // Simuler des statistiques\n      this.stats = {\n        stats: {\n          total_books: 150,\n          total_users: 45,\n          active_borrows: 23,\n          overdue_borrows: 3\n        },\n        popular_books: [{\n          title: 'Laravel Guide',\n          author: 'John Doe',\n          borrow_count: 15\n        }, {\n          title: 'Angular Basics',\n          author: 'Jane Smith',\n          borrow_count: 12\n        }],\n        recent_borrows: [{\n          book_title: 'Vue.js Essentials',\n          user_name: 'Marie Martin',\n          date_emprunt: new Date()\n        }, {\n          book_title: 'React Handbook',\n          user_name: 'Paul Durand',\n          date_emprunt: new Date()\n        }]\n      };\n    }\n    loadBooks() {\n      this.apiService.getBooks().subscribe({\n        next: data => {\n          // Ajouter des images par défaut si manquantes\n          this.books = data.map(book => ({\n            ...book,\n            cover_url: book.cover_url || this.getDefaultBookImage(book.category_id || 1)\n          }));\n          this.filteredBooks = this.books;\n        },\n        error: error => console.error('Erreur livres:', error)\n      });\n    }\n    loadCategories() {\n      this.apiService.getCategories().subscribe({\n        next: data => this.categories = data,\n        error: error => console.error('Erreur catégories:', error)\n      });\n    }\n    loadBorrows() {\n      this.apiService.getAllBorrows().subscribe({\n        next: data => this.borrows = data,\n        error: error => console.error('Erreur emprunts:', error)\n      });\n    }\n    addBook() {\n      if (this.newBook.title && this.newBook.author && this.newBook.isbn && this.newBook.category_id && this.newBook.stock) {\n        // Simuler l'ajout du livre\n        const newBookData = {\n          id: Date.now(),\n          title: this.newBook.title,\n          author: this.newBook.author,\n          isbn: this.newBook.isbn,\n          category_id: this.newBook.category_id,\n          stock: this.newBook.stock,\n          available: this.newBook.stock,\n          description: this.newBook.description,\n          cover_url: this.getDefaultBookImage(this.newBook.category_id),\n          times_borrowed: 0\n        };\n        // Ajouter à la liste locale\n        this.books.push(newBookData);\n        this.filteredBooks = [...this.books];\n        alert('Livre ajouté avec succès!');\n        this.cancelAddBook();\n      } else {\n        alert('Veuillez remplir tous les champs obligatoires');\n      }\n    }\n    getDefaultBookImage(categoryId) {\n      const images = {\n        1: 'https://images.unsplash.com/photo-1544716278-ca5e3f4abd8c?w=300&h=400&fit=crop',\n        2: 'https://images.unsplash.com/photo-1481627834876-b7833e8f5570?w=300&h=400&fit=crop',\n        3: 'https://images.unsplash.com/photo-1507003211169-0a1dd7228f2d?w=300&h=400&fit=crop',\n        4: 'https://images.unsplash.com/photo-1589998059171-988d887df646?w=300&h=400&fit=crop',\n        5: 'https://images.unsplash.com/photo-1516979187457-637abb4f9353?w=300&h=400&fit=crop'\n      };\n      return images[categoryId] || 'https://images.unsplash.com/photo-1544716278-ca5e3f4abd8c?w=300&h=400&fit=crop';\n    }\n    cancelAddBook() {\n      this.showAddBookForm = false;\n      this.newBook = {};\n    }\n    returnBook(borrowId) {\n      this.apiService.returnBook(borrowId).subscribe({\n        next: () => {\n          this.loadBorrows();\n          this.loadStats();\n        },\n        error: error => console.error('Erreur retour:', error)\n      });\n    }\n    getStatusLabel(status) {\n      const labels = {\n        'active': 'Actif',\n        'approved': 'Certifié',\n        'pending': 'En attente',\n        'suspended': 'Suspendu',\n        'returned': 'Retourné',\n        'overdue': 'En Retard'\n      };\n      return labels[status] || status;\n    }\n    loadUsers() {\n      // Simuler des utilisateurs\n      this.users = [{\n        id: 1,\n        name: 'Marie',\n        surname: 'Martin',\n        email: 'marie.martin@email.com',\n        role: 'user',\n        tag_uid: '04AABBCC11',\n        active_borrows: 2,\n        status: 'active',\n        created_at: new Date('2024-01-15')\n      }, {\n        id: 2,\n        name: 'Jean',\n        surname: 'Dupont',\n        email: 'jean.dupont@email.com',\n        role: 'user',\n        tag_uid: null,\n        active_borrows: 0,\n        status: 'suspended',\n        created_at: new Date('2024-01-10')\n      }];\n    }\n    loadOverdueBorrows() {\n      // Simuler des emprunts en retard\n      this.overdueBorrows = [{\n        id: 1,\n        user_id: 1,\n        user_name: 'Jean Dupont',\n        book_title: 'Laravel pour les nuls',\n        due_date: new Date('2024-01-15'),\n        days_overdue: 5,\n        penalty_amount: 1500\n      }];\n    }\n    loadRegistrationRequests() {\n      // Charger les demandes depuis localStorage (nouvelles inscriptions)\n      const storedRequests = JSON.parse(localStorage.getItem('registrationRequests') || '[]');\n      // Simuler des demandes d'inscription existantes + nouvelles\n      const defaultRequests = [{\n        id: 1,\n        name: 'Sophie',\n        surname: 'Ouedraogo',\n        email: 'sophie.ouedraogo@email.com',\n        etablissement: 'Université Joseph Ki-Zerbo',\n        profession: 'etudiant',\n        profession_detail: 'L3 Informatique',\n        motivations: 'Je souhaite accéder aux ressources numériques pour mes recherches en informatique et développer mes compétences techniques.',\n        created_at: new Date('2024-01-15'),\n        documents_uploaded: true\n      }, {\n        id: 2,\n        name: 'Ibrahim',\n        surname: 'Kone',\n        email: 'ibrahim.kone@email.com',\n        etablissement: 'École Supérieure de Commerce',\n        profession: 'entrepreneur',\n        profession_detail: 'Commerce digital',\n        motivations: 'En tant qu\\'entrepreneur, j\\'ai besoin d\\'accéder à des ouvrages sur le management et le marketing pour développer mon entreprise.',\n        created_at: new Date('2024-01-16'),\n        documents_uploaded: false\n      }];\n      // Combiner les demandes par défaut avec les nouvelles\n      this.registrationRequests = [...defaultRequests, ...storedRequests];\n    }\n    loadAuditLogs() {\n      // Simuler des logs d'audit\n      this.auditLogs = [{\n        created_at: new Date(),\n        type: 'admin',\n        user_name: 'Admin',\n        action: 'Ajout livre',\n        details: 'Nouveau livre ajouté: Laravel Guide'\n      }];\n    }\n    loadIoTDevices() {\n      // Simuler des devices IoT\n      this.iotDevices = [{\n        name: 'Raspberry Pi 1',\n        type: 'RFID Reader',\n        status: 'online'\n      }, {\n        name: 'Kiosk Terminal',\n        type: 'Self-service',\n        status: 'online'\n      }];\n    }\n    loadShelves() {\n      // Simuler des étagères\n      this.shelves = [{\n        name: 'Rayon A1',\n        detected_books: 25\n      }, {\n        name: 'Rayon A2',\n        detected_books: 18\n      }];\n    }\n    sendReminder(userId) {\n      this.apiService.sendReminder(userId).subscribe({\n        next: () => {\n          alert('Rappel envoyé avec succès!');\n        },\n        error: error => console.error('Erreur rappel:', error)\n      });\n    }\n    // Méthodes pour les livres\n    searchBooks() {\n      this.filterBooks();\n    }\n    filterBooks() {\n      this.filteredBooks = this.books.filter(book => {\n        const matchesSearch = !this.bookSearch || book.title.toLowerCase().includes(this.bookSearch.toLowerCase()) || book.author.toLowerCase().includes(this.bookSearch.toLowerCase()) || book.isbn.includes(this.bookSearch);\n        const matchesCategory = !this.bookCategoryFilter || book.category_id == this.bookCategoryFilter;\n        const matchesAvailability = !this.bookAvailabilityFilter || this.bookAvailabilityFilter === '1' && book.stock > 0 || this.bookAvailabilityFilter === '0' && book.stock <= 0;\n        return matchesSearch && matchesCategory && matchesAvailability;\n      });\n    }\n    selectAllBooks(event) {\n      if (event.target.checked) {\n        this.selectedBooks = this.filteredBooks.map(book => book.id);\n      } else {\n        this.selectedBooks = [];\n      }\n    }\n    toggleBookSelection(bookId, event) {\n      if (event.target.checked) {\n        this.selectedBooks.push(bookId);\n      } else {\n        this.selectedBooks = this.selectedBooks.filter(id => id !== bookId);\n      }\n    }\n    viewBook(book) {\n      alert(`Détails du livre:\\n\\nTitre: ${book.title}\\nAuteur: ${book.author}\\nISBN: ${book.isbn}\\nStock: ${book.available}/${book.stock}\\nEmprunts: ${book.times_borrowed || 0}`);\n    }\n    editBook(book) {\n      const newTitle = prompt('Nouveau titre:', book.title);\n      if (newTitle && newTitle !== book.title) {\n        book.title = newTitle;\n        alert('Livre modifié avec succès!');\n      }\n    }\n    assignTag(book) {\n      const tagUid = prompt('Entrez l\\'UID du tag RFID:', book.tag_uid || '');\n      if (tagUid) {\n        book.tag_uid = tagUid;\n        alert('Tag assigné avec succès!');\n      }\n    }\n    confirmDeleteBook(book) {\n      if (confirm(`Supprimer \"${book.title}\" ?\\nCette action est irréversible.`)) {\n        this.books = this.books.filter(b => b.id !== book.id);\n        this.filteredBooks = this.filteredBooks.filter(b => b.id !== book.id);\n        alert('Livre supprimé avec succès!');\n      }\n    }\n    exportBooks() {\n      const csvContent = 'Titre,Auteur,ISBN,Catégorie,Stock\\n' + this.filteredBooks.map(book => `\"${book.title}\",\"${book.author}\",\"${book.isbn}\",\"${book.category?.name || ''}\",\"${book.stock}\"`).join('\\n');\n      const blob = new Blob([csvContent], {\n        type: 'text/csv'\n      });\n      const url = window.URL.createObjectURL(blob);\n      const a = document.createElement('a');\n      a.href = url;\n      a.download = 'livres_export.csv';\n      a.click();\n      window.URL.revokeObjectURL(url);\n      alert('Export CSV téléchargé avec succès!');\n    }\n    // Méthodes IoT\n    startInventoryScan() {\n      console.log('Démarrage scan inventaire');\n    }\n    // Méthodes rapports\n    exportReport(type) {\n      const reports = {\n        'top-books': 'Top 10 des livres les plus empruntés',\n        'monthly-activity': 'Rapport d\\'activité mensuelle',\n        'active-users': 'Liste des utilisateurs actifs',\n        'iot-stats': 'Statistiques des dispositifs IoT'\n      };\n      alert(`📄 Génération du rapport PDF: ${reports[type]}\\nLe fichier sera téléchargé dans quelques instants.`);\n      // Générer un PDF simulé avec contenu spécialisé\n      setTimeout(() => {\n        const pdfContent = this.generateSpecializedPDF(type, reports[type]);\n        const blob = new Blob([pdfContent], {\n          type: 'application/pdf'\n        });\n        const url = window.URL.createObjectURL(blob);\n        const a = document.createElement('a');\n        a.href = url;\n        a.download = `eLibrary_${type.toUpperCase()}_${new Date().toISOString().split('T')[0]}.pdf`;\n        a.click();\n        window.URL.revokeObjectURL(url);\n        alert(`✓ Rapport PDF généré avec succès!\\n\\nFichier: eLibrary_${type.toUpperCase()}_${new Date().toISOString().split('T')[0]}.pdf`);\n      }, 1500);\n    }\n    generateSpecializedPDF(type, title) {\n      const date = new Date().toLocaleDateString('fr-FR');\n      const time = new Date().toLocaleTimeString('fr-FR');\n      let specificContent = '';\n      switch (type) {\n        case 'top-books':\n          specificContent = `\n        <h2>Top 10 des livres les plus empruntés</h2>\n        <table style=\"width:100%; border-collapse: collapse; margin: 20px 0;\">\n          <tr style=\"background: #f0f0f0;\"><th style=\"border:1px solid #ddd; padding:8px;\">Rang</th><th style=\"border:1px solid #ddd; padding:8px;\">Titre</th><th style=\"border:1px solid #ddd; padding:8px;\">Auteur</th><th style=\"border:1px solid #ddd; padding:8px;\">Emprunts</th></tr>\n          <tr><td style=\"border:1px solid #ddd; padding:8px;\">1</td><td style=\"border:1px solid #ddd; padding:8px;\">Laravel Guide</td><td style=\"border:1px solid #ddd; padding:8px;\">John Doe</td><td style=\"border:1px solid #ddd; padding:8px;\">25</td></tr>\n          <tr><td style=\"border:1px solid #ddd; padding:8px;\">2</td><td style=\"border:1px solid #ddd; padding:8px;\">Angular Basics</td><td style=\"border:1px solid #ddd; padding:8px;\">Jane Smith</td><td style=\"border:1px solid #ddd; padding:8px;\">18</td></tr>\n          <tr><td style=\"border:1px solid #ddd; padding:8px;\">3</td><td style=\"border:1px solid #ddd; padding:8px;\">Clean Code</td><td style=\"border:1px solid #ddd; padding:8px;\">Robert Martin</td><td style=\"border:1px solid #ddd; padding:8px;\">15</td></tr>\n        </table>`;\n          break;\n        case 'monthly-activity':\n          specificContent = `\n        <h2>Activité mensuelle - ${new Date().toLocaleDateString('fr-FR', {\n            month: 'long',\n            year: 'numeric'\n          })}</h2>\n        <div style=\"margin: 20px 0;\">\n          <p><strong>Nouveaux emprunts:</strong> 45</p>\n          <p><strong>Retours:</strong> 38</p>\n          <p><strong>Nouveaux utilisateurs:</strong> 12</p>\n          <p><strong>Livres ajoutés:</strong> 8</p>\n          <p><strong>Pénalités appliquées:</strong> 3 (4,500 CFA)</p>\n        </div>`;\n          break;\n        case 'active-users':\n          specificContent = `\n        <h2>Utilisateurs actifs</h2>\n        <table style=\"width:100%; border-collapse: collapse; margin: 20px 0;\">\n          <tr style=\"background: #f0f0f0;\"><th style=\"border:1px solid #ddd; padding:8px;\">Nom</th><th style=\"border:1px solid #ddd; padding:8px;\">Email</th><th style=\"border:1px solid #ddd; padding:8px;\">Emprunts</th><th style=\"border:1px solid #ddd; padding:8px;\">Statut</th></tr>\n          <tr><td style=\"border:1px solid #ddd; padding:8px;\">Marie Martin</td><td style=\"border:1px solid #ddd; padding:8px;\">marie.martin@email.com</td><td style=\"border:1px solid #ddd; padding:8px;\">2</td><td style=\"border:1px solid #ddd; padding:8px;\">Actif</td></tr>\n          <tr><td style=\"border:1px solid #ddd; padding:8px;\">Jean Dupont</td><td style=\"border:1px solid #ddd; padding:8px;\">jean.dupont@email.com</td><td style=\"border:1px solid #ddd; padding:8px;\">1</td><td style=\"border:1px solid #ddd; padding:8px;\">Actif</td></tr>\n        </table>`;\n          break;\n        case 'iot-stats':\n          specificContent = `\n        <h2>Statistiques IoT</h2>\n        <div style=\"margin: 20px 0;\">\n          <h3>Dispositifs connectés</h3>\n          <p><strong>Raspberry Pi 1:</strong> En ligne - 98% uptime</p>\n          <p><strong>Kiosk Terminal:</strong> En ligne - 95% uptime</p>\n          <h3>Activité RFID</h3>\n          <p><strong>Scans aujourd'hui:</strong> 24</p>\n          <p><strong>Emprunts IoT:</strong> 18</p>\n          <p><strong>Retours IoT:</strong> 15</p>\n        </div>`;\n          break;\n      }\n      // Contenu PDF simulé avec en-tête PDF\n      return `%PDF-1.4\n1 0 obj\n<<\n/Type /Catalog\n/Pages 2 0 R\n>>\nendobj\n\n2 0 obj\n<<\n/Type /Pages\n/Kids [3 0 R]\n/Count 1\n>>\nendobj\n\n3 0 obj\n<<\n/Type /Page\n/Parent 2 0 R\n/MediaBox [0 0 612 792]\n/Contents 4 0 R\n>>\nendobj\n\n4 0 obj\n<<\n/Length 500\n>>\nstream\nBT\n/F1 12 Tf\n50 750 Td\n(eLibrary - ${title}) Tj\n0 -20 Td\n(Généré le ${date} à ${time}) Tj\n0 -40 Td\n(Rapport généré automatiquement) Tj\n0 -40 Td\n(Type: ${type}) Tj\nET\nendstream\nendobj\n\nxref\n0 5\n0000000000 65535 f \n0000000010 00000 n \n0000000053 00000 n \n0000000110 00000 n \n0000000181 00000 n \ntrailer\n<<\n/Size 5\n/Root 1 0 R\n>>\nstartxref\n500\n%%EOF`;\n    }\n    // Méthodes logs\n    getLogTypeClass(type) {\n      const classes = {\n        'admin': 'bg-primary',\n        'device': 'bg-info',\n        'error': 'bg-danger',\n        'system': 'bg-secondary'\n      };\n      return classes[type] || 'bg-secondary';\n    }\n    // Méthodes de sauvegarde\n    saveSystemSettings() {\n      if (this.settings.default_borrow_days < 1 || this.settings.penalty_per_day < 0) {\n        alert('Veuillez entrer des valeurs valides!');\n        return;\n      }\n      // Simuler la sauvegarde\n      setTimeout(() => {\n        alert(`✓ Paramètres système sauvegardés avec succès!\\n\\n• Durée d'emprunt: ${this.settings.default_borrow_days} jours\\n• Pénalité: ${this.settings.penalty_per_day} CFA/jour\\n\\nLes nouveaux paramètres sont maintenant actifs.`);\n      }, 500);\n    }\n    saveIoTSettings() {\n      if (!this.settings.mqtt_broker || !this.settings.rfid_topic) {\n        alert('Veuillez remplir tous les champs IoT!');\n        return;\n      }\n      // Simuler la sauvegarde\n      setTimeout(() => {\n        alert(`✓ Paramètres IoT sauvegardés avec succès!\\n\\n• MQTT Broker: ${this.settings.mqtt_broker}\\n• Topic RFID: ${this.settings.rfid_topic}\\n\\nLes dispositifs IoT vont redémarrer avec les nouveaux paramètres.`);\n      }, 500);\n    }\n    // Méthodes pour retards et pénalités\n    applyPenalty(overdue) {\n      if (confirm(`Appliquer une pénalité de ${overdue.penalty_amount} CFA à ${overdue.user_name}?`)) {\n        // Ajouter à l'historique des pénalités\n        this.penaltyHistory.push({\n          id: Date.now(),\n          user_name: overdue.user_name,\n          book_title: overdue.book_title,\n          amount: overdue.penalty_amount,\n          applied_date: new Date(),\n          admin_name: this.currentUser?.name\n        });\n        // Marquer comme pénalisé\n        overdue.penalty_applied = true;\n        overdue.penalty_date = new Date();\n        // Envoyer notification à l'utilisateur\n        this.sendPenaltyNotification(overdue);\n        alert(`Pénalité de ${overdue.penalty_amount} CFA appliquée avec succès!\\nNotification envoyée à ${overdue.user_name}.`);\n      }\n    }\n    sendPenaltyNotification(overdue) {\n      // Simuler l'envoi de notification\n      console.log(`Notification envoyée à ${overdue.user_name}: Pénalité de ${overdue.penalty_amount} CFA appliquée pour le livre \"${overdue.book_title}\"`);\n    }\n    blacklistUser(userId) {\n      if (confirm('Mettre cet utilisateur en liste noire?')) {\n        console.log('Utilisateur blacklisté:', userId);\n        alert('Utilisateur ajouté à la liste noire!');\n      }\n    }\n    // Méthodes pour demandes d'inscription\n    approveRequest(requestId) {\n      if (confirm('Approuver cette demande d\\'inscription?\\nL\\'utilisateur pourra accéder à toutes les fonctionnalités.')) {\n        // Trouver la demande avant de la supprimer\n        const approvedRequest = this.registrationRequests.find(r => r.id === requestId);\n        // Supprimer de la liste des demandes\n        this.registrationRequests = this.registrationRequests.filter(r => r.id !== requestId);\n        // Supprimer aussi du localStorage si c'est une nouvelle demande\n        const storedRequests = JSON.parse(localStorage.getItem('registrationRequests') || '[]');\n        const updatedRequests = storedRequests.filter(r => r.id !== requestId);\n        localStorage.setItem('registrationRequests', JSON.stringify(updatedRequests));\n        // Ajouter à la liste des utilisateurs actifs\n        if (approvedRequest) {\n          const newUser = {\n            id: Date.now(),\n            name: approvedRequest.name,\n            surname: approvedRequest.surname,\n            email: approvedRequest.email,\n            role: 'user',\n            tag_uid: null,\n            active_borrows: 0,\n            status: 'approved',\n            photo_url: approvedRequest.photo_url,\n            created_at: new Date()\n          };\n          this.users.push(newUser);\n          // Mettre à jour le statut dans le localStorage pour l'utilisateur\n          const currentUser = JSON.parse(localStorage.getItem('user') || '{}');\n          if (currentUser.email === approvedRequest.email) {\n            currentUser.status = 'approved';\n            currentUser.photo_url = approvedRequest.photo_url;\n            localStorage.setItem('user', JSON.stringify(currentUser));\n          }\n        }\n        alert('Demande approuvée avec succès!\\nL\\'utilisateur peut maintenant emprunter des livres.');\n      }\n    }\n    rejectRequest(requestId) {\n      const reason = prompt('Raison du rejet (optionnel):');\n      if (confirm('Rejeter définitivement cette demande d\\'inscription?')) {\n        this.registrationRequests = this.registrationRequests.filter(r => r.id !== requestId);\n        // Supprimer aussi du localStorage si c'est une nouvelle demande\n        const storedRequests = JSON.parse(localStorage.getItem('registrationRequests') || '[]');\n        const updatedRequests = storedRequests.filter(r => r.id !== requestId);\n        localStorage.setItem('registrationRequests', JSON.stringify(updatedRequests));\n        alert('Demande rejetée!\\nL\\'utilisateur a été notifié par email.');\n      }\n    }\n    requestDocument(requestId) {\n      console.log('Demande de document:', requestId);\n      alert('Demande de justificatif envoyée!');\n    }\n    viewRequestProfile(request) {\n      const profileInfo = `\n📄 PROFIL COMPLET DE LA DEMANDE\n\n👤 INFORMATIONS PERSONNELLES\n• Nom: ${request.name} ${request.surname}\n• Email: ${request.email}\n• Établissement: ${request.etablissement}\n\n💼 PROFESSION\n• Type: ${this.getProfessionLabel(request.profession)}\n• Détail: ${request.profession_detail}\n\n🎯 MOTIVATIONS\n\"${request.motivations}\"\n\n📅 Date de demande: ${new Date(request.created_at).toLocaleDateString('fr-FR')}\n📎 Documents: ${request.documents_uploaded ? '✓ Uploadés' : '❌ Manquants'}\n\nℹ️ Que souhaitez-vous faire avec cette demande?`;\n      if (confirm(profileInfo + '\\n\\nCliquez OK pour APPROUVER ou Annuler pour continuer l\\'examen.')) {\n        this.approveRequest(request.id);\n      }\n    }\n    getProfessionLabel(profession) {\n      const labels = {\n        'etudiant': 'Étudiant',\n        'eleve': 'Élève',\n        'entrepreneur': 'Entrepreneur',\n        'autre': 'Autre'\n      };\n      return labels[profession] || profession;\n    }\n    // Méthodes pour gestion utilisateurs\n    viewUserProfile(user) {\n      alert(`Profil utilisateur:\\n\\nNom: ${user.name} ${user.surname || ''}\\nEmail: ${user.email}\\nRôle: ${user.role}\\nStatut: ${user.status}\\nInscription: ${new Date(user.created_at).toLocaleDateString()}`);\n    }\n    editUser(user) {\n      const newEmail = prompt('Nouvel email:', user.email);\n      if (newEmail && newEmail !== user.email) {\n        user.email = newEmail;\n        alert('Utilisateur modifié avec succès!');\n      }\n    }\n    assignUserTag(user) {\n      const tagUid = prompt('Entrez l\\'UID du tag RFID pour cet utilisateur:', user.tag_uid || '');\n      if (tagUid) {\n        user.tag_uid = tagUid;\n        alert('Tag assigné à l\\'utilisateur avec succès!');\n      }\n    }\n    toggleUserStatus(user) {\n      const action = user.status === 'active' ? 'suspendre' : 'activer';\n      if (confirm(`${action.charAt(0).toUpperCase() + action.slice(1)} l\\'utilisateur ${user.name}?`)) {\n        user.status = user.status === 'active' ? 'suspended' : 'active';\n        alert(`Utilisateur ${action} avec succès!`);\n      }\n    }\n    hasNewRegistrations() {\n      const storedRequests = JSON.parse(localStorage.getItem('registrationRequests') || '[]');\n      return storedRequests.some(req => !this.viewedNotifications.has(req.id));\n    }\n    getNewRegistrationsCount() {\n      const storedRequests = JSON.parse(localStorage.getItem('registrationRequests') || '[]');\n      return storedRequests.filter(req => !this.viewedNotifications.has(req.id)).length;\n    }\n    markNotificationsAsViewed() {\n      const storedRequests = JSON.parse(localStorage.getItem('registrationRequests') || '[]');\n      storedRequests.forEach(req => this.viewedNotifications.add(req.id));\n    }\n    logout() {\n      this.authService.logout();\n      this.router.navigate(['/login']);\n    }\n    static {\n      this.ɵfac = function AdminDashboardComponent_Factory(t) {\n        return new (t || AdminDashboardComponent)(i0.ɵɵdirectiveInject(i1.ApiService), i0.ɵɵdirectiveInject(i2.AuthService), i0.ɵɵdirectiveInject(i3.Router));\n      };\n    }\n    static {\n      this.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n        type: AdminDashboardComponent,\n        selectors: [[\"app-admin-dashboard\"]],\n        standalone: true,\n        features: [i0.ɵɵStandaloneFeature],\n        decls: 67,\n        vars: 34,\n        consts: [[1, \"admin-layout\"], [1, \"sidebar\"], [1, \"sidebar-header\"], [1, \"logo-container\", \"mb-2\"], [1, \"admin-logo\"], [1, \"mini-wifi\"], [1, \"mini-book\"], [1, \"text-muted\"], [1, \"sidebar-nav\"], [1, \"nav-item\", 3, \"click\"], [1, \"fas\", \"fa-tachometer-alt\"], [1, \"fas\", \"fa-users\"], [1, \"fas\", \"fa-handshake\"], [1, \"fas\", \"fa-book\"], [1, \"fas\", \"fa-warehouse\"], [1, \"fas\", \"fa-exclamation-triangle\"], [1, \"fas\", \"fa-clipboard-list\"], [\"class\", \"nav-badge\", 4, \"ngIf\"], [1, \"fas\", \"fa-chart-bar\"], [1, \"fas\", \"fa-cog\"], [1, \"fas\", \"fa-file-alt\"], [1, \"sidebar-footer\"], [1, \"btn\", \"btn-danger\", \"btn-sm\", \"w-100\", 3, \"click\"], [1, \"fas\", \"fa-sign-out-alt\"], [1, \"main-content\"], [1, \"content-header\"], [1, \"breadcrumb\"], [1, \"fas\", \"fa-chevron-right\"], [\"class\", \"content-body\", 4, \"ngIf\"], [1, \"nav-badge\"], [1, \"content-body\"], [\"class\", \"alert alert-info mb-4\", 4, \"ngIf\"], [1, \"row\", \"mb-4\"], [1, \"col-md-3\"], [1, \"card\", \"bg-primary\", \"text-white\"], [1, \"card-body\"], [1, \"d-flex\", \"justify-content-between\"], [1, \"fas\", \"fa-book\", \"fa-2x\"], [1, \"card\", \"bg-success\", \"text-white\"], [1, \"fas\", \"fa-users\", \"fa-2x\"], [1, \"card\", \"bg-info\", \"text-white\"], [1, \"fas\", \"fa-handshake\", \"fa-2x\"], [1, \"card\", \"bg-warning\", \"text-white\"], [1, \"fas\", \"fa-exclamation-triangle\", \"fa-2x\"], [1, \"row\"], [1, \"col-md-6\"], [1, \"card\"], [1, \"card-header\"], [1, \"fas\", \"fa-star\"], [\"class\", \"mb-2\", 4, \"ngFor\", \"ngForOf\"], [1, \"fas\", \"fa-clock\"], [1, \"alert\", \"alert-info\", \"mb-4\"], [1, \"d-flex\", \"align-items-center\"], [1, \"fas\", \"fa-bell\", \"fa-2x\", \"me-3\"], [1, \"flex-grow-1\"], [1, \"mb-1\"], [1, \"mb-2\"], [1, \"btn\", \"btn-primary\", \"btn-sm\", 3, \"click\"], [1, \"fas\", \"fa-eye\", \"me-1\"], [1, \"badge\", \"bg-warning\", \"fs-6\"], [1, \"d-flex\", \"justify-content-between\", \"align-items-center\", \"mb-4\"], [1, \"search-filters\"], [\"type\", \"text\", \"placeholder\", \"Recherche titre, auteur, ISBN...\", 1, \"form-control\", 3, \"ngModelChange\", \"input\", \"ngModel\"], [1, \"form-select\", \"ms-2\", 3, \"ngModelChange\", \"change\", \"ngModel\"], [\"value\", \"\"], [3, \"value\", 4, \"ngFor\", \"ngForOf\"], [\"value\", \"1\"], [\"value\", \"0\"], [1, \"btn\", \"btn-outline-secondary\", \"me-2\", 3, \"click\"], [1, \"btn\", \"btn-success\", 3, \"click\"], [1, \"table-responsive\"], [1, \"table\", \"table-hover\"], [\"type\", \"checkbox\", 3, \"change\"], [4, \"ngFor\", \"ngForOf\"], [1, \"row\", \"mb-3\"], [1, \"col-md-8\"], [1, \"col-md-4\"], [1, \"btn\", \"btn-success\", \"w-100\", 3, \"click\"], [1, \"fas\", \"fa-plus\"], [\"class\", \"card mb-4\", 4, \"ngIf\"], [\"class\", \"col-md-4 mb-3\", 4, \"ngFor\", \"ngForOf\"], [3, \"value\"], [\"type\", \"checkbox\", 3, \"change\", \"value\"], [\"width\", \"40\", \"height\", \"56\", 1, \"book-cover\", 3, \"src\"], [\"title\", \"Voir\", 1, \"btn\", \"btn-sm\", \"btn-outline-primary\", \"me-1\", 3, \"click\"], [1, \"fas\", \"fa-eye\"], [\"title\", \"\\u00C9diter\", 1, \"btn\", \"btn-sm\", \"btn-outline-secondary\", \"me-1\", 3, \"click\"], [1, \"fas\", \"fa-edit\"], [\"title\", \"Assigner Tag\", 1, \"btn\", \"btn-sm\", \"btn-outline-info\", \"me-1\", 3, \"click\"], [1, \"fas\", \"fa-tag\"], [\"title\", \"Supprimer\", 1, \"btn\", \"btn-sm\", \"btn-outline-danger\", 3, \"click\"], [1, \"fas\", \"fa-trash\"], [1, \"card\", \"mb-4\"], [3, \"ngSubmit\"], [1, \"mb-3\"], [1, \"form-label\"], [\"type\", \"text\", \"name\", \"title\", \"required\", \"\", 1, \"form-control\", 3, \"ngModelChange\", \"ngModel\"], [\"type\", \"text\", \"name\", \"author\", \"required\", \"\", 1, \"form-control\", 3, \"ngModelChange\", \"ngModel\"], [\"type\", \"text\", \"name\", \"isbn\", \"required\", \"\", 1, \"form-control\", 3, \"ngModelChange\", \"ngModel\"], [\"name\", \"category_id\", \"required\", \"\", 1, \"form-select\", 3, \"ngModelChange\", \"ngModel\"], [\"type\", \"number\", \"name\", \"stock\", \"required\", \"\", \"min\", \"1\", 1, \"form-control\", 3, \"ngModelChange\", \"ngModel\"], [\"name\", \"description\", \"rows\", \"3\", 1, \"form-control\", 3, \"ngModelChange\", \"ngModel\"], [1, \"d-flex\", \"gap-2\"], [\"type\", \"submit\", 1, \"btn\", \"btn-success\"], [\"type\", \"button\", 1, \"btn\", \"btn-secondary\", 3, \"click\"], [1, \"col-md-4\", \"mb-3\"], [1, \"card-title\"], [1, \"card-text\"], [\"type\", \"text\", \"placeholder\", \"Recherche nom, email...\", 1, \"form-control\", 3, \"ngModelChange\", \"ngModel\"], [1, \"form-select\", \"ms-2\", 3, \"ngModelChange\", \"ngModel\"], [\"value\", \"user\"], [\"value\", \"admin\"], [\"value\", \"active\"], [\"value\", \"suspended\"], [1, \"btn\", \"btn-outline-secondary\"], [\"alt\", \"Photo\", \"class\", \"user-photo me-2\", 3, \"src\", 4, \"ngIf\"], [1, \"badge\", \"bg-primary\"], [1, \"badge\"], [\"title\", \"Voir profil\", 1, \"btn\", \"btn-sm\", \"btn-outline-primary\", \"me-1\", 3, \"click\"], [\"title\", \"Assigner tag\", 1, \"btn\", \"btn-sm\", \"btn-outline-info\", \"me-1\", 3, \"click\"], [1, \"fas\", \"fa-id-card\"], [\"title\", \"Suspendre/Activer\", 1, \"btn\", \"btn-sm\", 3, \"click\"], [1, \"fas\"], [\"alt\", \"Photo\", 1, \"user-photo\", \"me-2\", 3, \"src\"], [1, \"btn\", 3, \"click\"], [\"type\", \"text\", \"placeholder\", \"Recherche par livre ou utilisateur...\", 1, \"form-control\"], [\"class\", \"text-danger\", 4, \"ngIf\"], [\"class\", \"text-success\", 4, \"ngIf\"], [\"title\", \"Marquer retourn\\u00E9\", 1, \"btn\", \"btn-sm\", \"btn-outline-success\", \"me-1\", 3, \"click\"], [1, \"fas\", \"fa-check\"], [\"title\", \"Prolonger\", 1, \"btn\", \"btn-sm\", \"btn-outline-primary\", \"me-1\"], [1, \"fas\", \"fa-calendar-plus\"], [\"title\", \"Envoyer rappel\", 1, \"btn\", \"btn-sm\", \"btn-outline-warning\"], [1, \"fas\", \"fa-envelope\"], [1, \"text-danger\"], [1, \"text-success\"], [1, \"fas\", \"fa-wifi\"], [\"class\", \"device-item\", 4, \"ngFor\", \"ngForOf\"], [1, \"fas\", \"fa-search\"], [1, \"btn\", \"btn-primary\", \"mb-3\", 3, \"click\"], [1, \"device-item\"], [1, \"d-flex\", \"justify-content-between\", \"align-items-center\"], [\"class\", \"table-responsive\", 4, \"ngIf\"], [\"title\", \"Appliquer p\\u00E9nalit\\u00E9\", 1, \"btn\", \"btn-sm\", \"btn-outline-warning\", \"me-1\", 3, \"click\"], [1, \"fas\", \"fa-coins\"], [\"title\", \"Envoyer relance\", 1, \"btn\", \"btn-sm\", \"btn-outline-primary\", \"me-1\", 3, \"click\"], [\"title\", \"Liste noire\", 1, \"btn\", \"btn-sm\", \"btn-outline-danger\", 3, \"click\"], [1, \"fas\", \"fa-ban\"], [\"class\", \"text-center py-4\", 4, \"ngIf\"], [1, \"text-center\", \"py-4\"], [\"class\", \"badge bg-info\", 4, \"ngIf\"], [\"class\", \"badge bg-warning\", 4, \"ngIf\"], [1, \"badge\", \"bg-warning\"], [\"title\", \"Voir profil complet\", 1, \"btn\", \"btn-sm\", \"btn-outline-primary\", \"me-1\", 3, \"click\"], [\"title\", \"Valider\", 1, \"btn\", \"btn-sm\", \"btn-outline-success\", \"me-1\", 3, \"click\"], [\"title\", \"Refuser\", 1, \"btn\", \"btn-sm\", \"btn-outline-danger\", \"me-1\", 3, \"click\"], [1, \"fas\", \"fa-times\"], [\"title\", \"Demander justificatif\", 1, \"btn\", \"btn-sm\", \"btn-outline-info\", 3, \"click\"], [1, \"badge\", \"bg-info\"], [1, \"btn\", \"btn-outline-primary\", \"w-100\", \"mb-2\", 3, \"click\"], [1, \"btn\", \"btn-outline-primary\", \"w-100\", 3, \"click\"], [\"type\", \"number\", \"min\", \"1\", 1, \"form-control\", 3, \"ngModelChange\", \"ngModel\"], [\"type\", \"number\", \"min\", \"0\", 1, \"form-control\", 3, \"ngModelChange\", \"ngModel\"], [\"type\", \"text\", \"placeholder\", \"localhost:1883\", 1, \"form-control\", 3, \"ngModelChange\", \"ngModel\"], [\"type\", \"text\", \"placeholder\", \"library/rfid\", 1, \"form-control\", 3, \"ngModelChange\", \"ngModel\"], [\"type\", \"text\", \"placeholder\", \"Recherche dans les logs...\", 1, \"form-control\"], [1, \"form-select\", \"ms-2\"], [\"value\", \"device\"], [\"value\", \"error\"]],\n        template: function AdminDashboardComponent_Template(rf, ctx) {\n          if (rf & 1) {\n            i0.ɵɵelementStart(0, \"div\", 0)(1, \"div\", 1)(2, \"div\", 2)(3, \"div\", 3)(4, \"div\", 4);\n            i0.ɵɵelement(5, \"div\", 5)(6, \"div\", 6);\n            i0.ɵɵelementEnd()();\n            i0.ɵɵelementStart(7, \"h4\");\n            i0.ɵɵtext(8, \"Admin\");\n            i0.ɵɵelementEnd();\n            i0.ɵɵelementStart(9, \"p\", 7);\n            i0.ɵɵtext(10);\n            i0.ɵɵelementEnd()();\n            i0.ɵɵelementStart(11, \"nav\", 8)(12, \"a\", 9);\n            i0.ɵɵlistener(\"click\", function AdminDashboardComponent_Template_a_click_12_listener() {\n              return ctx.setActiveTab(\"dashboard\");\n            });\n            i0.ɵɵelement(13, \"i\", 10);\n            i0.ɵɵtext(14, \" Tableau de bord \");\n            i0.ɵɵelementEnd();\n            i0.ɵɵelementStart(15, \"a\", 9);\n            i0.ɵɵlistener(\"click\", function AdminDashboardComponent_Template_a_click_15_listener() {\n              return ctx.setActiveTab(\"users\");\n            });\n            i0.ɵɵelement(16, \"i\", 11);\n            i0.ɵɵtext(17, \" Utilisateurs \");\n            i0.ɵɵelementEnd();\n            i0.ɵɵelementStart(18, \"a\", 9);\n            i0.ɵɵlistener(\"click\", function AdminDashboardComponent_Template_a_click_18_listener() {\n              return ctx.setActiveTab(\"borrows\");\n            });\n            i0.ɵɵelement(19, \"i\", 12);\n            i0.ɵɵtext(20, \" Emprunts \");\n            i0.ɵɵelementEnd();\n            i0.ɵɵelementStart(21, \"a\", 9);\n            i0.ɵɵlistener(\"click\", function AdminDashboardComponent_Template_a_click_21_listener() {\n              return ctx.setActiveTab(\"books\");\n            });\n            i0.ɵɵelement(22, \"i\", 13);\n            i0.ɵɵtext(23, \" Livres / Catalogue \");\n            i0.ɵɵelementEnd();\n            i0.ɵɵelementStart(24, \"a\", 9);\n            i0.ɵɵlistener(\"click\", function AdminDashboardComponent_Template_a_click_24_listener() {\n              return ctx.setActiveTab(\"inventory\");\n            });\n            i0.ɵɵelement(25, \"i\", 14);\n            i0.ɵɵtext(26, \" Inventaire (IoT) \");\n            i0.ɵɵelementEnd();\n            i0.ɵɵelementStart(27, \"a\", 9);\n            i0.ɵɵlistener(\"click\", function AdminDashboardComponent_Template_a_click_27_listener() {\n              return ctx.setActiveTab(\"overdue\");\n            });\n            i0.ɵɵelement(28, \"i\", 15);\n            i0.ɵɵtext(29, \" Retards & P\\u00E9nalit\\u00E9s \");\n            i0.ɵɵelementEnd();\n            i0.ɵɵelementStart(30, \"a\", 9);\n            i0.ɵɵlistener(\"click\", function AdminDashboardComponent_Template_a_click_30_listener() {\n              return ctx.setActiveTab(\"requests\");\n            });\n            i0.ɵɵelement(31, \"i\", 16);\n            i0.ɵɵtext(32, \" Demandes / Inscriptions \");\n            i0.ɵɵtemplate(33, AdminDashboardComponent_span_33_Template, 2, 1, \"span\", 17);\n            i0.ɵɵelementEnd();\n            i0.ɵɵelementStart(34, \"a\", 9);\n            i0.ɵɵlistener(\"click\", function AdminDashboardComponent_Template_a_click_34_listener() {\n              return ctx.setActiveTab(\"reports\");\n            });\n            i0.ɵɵelement(35, \"i\", 18);\n            i0.ɵɵtext(36, \" Statistiques & Rapports \");\n            i0.ɵɵelementEnd();\n            i0.ɵɵelementStart(37, \"a\", 9);\n            i0.ɵɵlistener(\"click\", function AdminDashboardComponent_Template_a_click_37_listener() {\n              return ctx.setActiveTab(\"settings\");\n            });\n            i0.ɵɵelement(38, \"i\", 19);\n            i0.ɵɵtext(39, \" Configuration \");\n            i0.ɵɵelementEnd();\n            i0.ɵɵelementStart(40, \"a\", 9);\n            i0.ɵɵlistener(\"click\", function AdminDashboardComponent_Template_a_click_40_listener() {\n              return ctx.setActiveTab(\"logs\");\n            });\n            i0.ɵɵelement(41, \"i\", 20);\n            i0.ɵɵtext(42, \" Logs / Audit \");\n            i0.ɵɵelementEnd()();\n            i0.ɵɵelementStart(43, \"div\", 21)(44, \"button\", 22);\n            i0.ɵɵlistener(\"click\", function AdminDashboardComponent_Template_button_click_44_listener() {\n              return ctx.logout();\n            });\n            i0.ɵɵelement(45, \"i\", 23);\n            i0.ɵɵtext(46, \" D\\u00E9connexion \");\n            i0.ɵɵelementEnd()()();\n            i0.ɵɵelementStart(47, \"div\", 24)(48, \"div\", 25)(49, \"h3\");\n            i0.ɵɵtext(50);\n            i0.ɵɵelementEnd();\n            i0.ɵɵelementStart(51, \"div\", 26)(52, \"span\");\n            i0.ɵɵtext(53, \"Admin\");\n            i0.ɵɵelementEnd();\n            i0.ɵɵelement(54, \"i\", 27);\n            i0.ɵɵelementStart(55, \"span\");\n            i0.ɵɵtext(56);\n            i0.ɵɵelementEnd()()();\n            i0.ɵɵtemplate(57, AdminDashboardComponent_div_57_Template, 60, 7, \"div\", 28)(58, AdminDashboardComponent_div_58_Template, 57, 7, \"div\", 28)(59, AdminDashboardComponent_div_59_Template, 44, 4, \"div\", 28)(60, AdminDashboardComponent_div_60_Template, 32, 5, \"div\", 28)(61, AdminDashboardComponent_div_61_Template, 20, 2, \"div\", 28)(62, AdminDashboardComponent_div_62_Template, 10, 6, \"div\", 28)(63, AdminDashboardComponent_div_63_Template, 19, 1, \"div\", 28)(64, AdminDashboardComponent_div_64_Template, 24, 0, \"div\", 28)(65, AdminDashboardComponent_div_65_Template, 34, 4, \"div\", 28)(66, AdminDashboardComponent_div_66_Template, 31, 1, \"div\", 28);\n            i0.ɵɵelementEnd()();\n          }\n          if (rf & 2) {\n            i0.ɵɵadvance(10);\n            i0.ɵɵtextInterpolate(ctx.currentUser == null ? null : ctx.currentUser.name);\n            i0.ɵɵadvance(2);\n            i0.ɵɵclassProp(\"active\", ctx.activeTab === \"dashboard\");\n            i0.ɵɵadvance(3);\n            i0.ɵɵclassProp(\"active\", ctx.activeTab === \"users\");\n            i0.ɵɵadvance(3);\n            i0.ɵɵclassProp(\"active\", ctx.activeTab === \"borrows\");\n            i0.ɵɵadvance(3);\n            i0.ɵɵclassProp(\"active\", ctx.activeTab === \"books\");\n            i0.ɵɵadvance(3);\n            i0.ɵɵclassProp(\"active\", ctx.activeTab === \"inventory\");\n            i0.ɵɵadvance(3);\n            i0.ɵɵclassProp(\"active\", ctx.activeTab === \"overdue\");\n            i0.ɵɵadvance(3);\n            i0.ɵɵclassProp(\"active\", ctx.activeTab === \"requests\");\n            i0.ɵɵadvance(3);\n            i0.ɵɵproperty(\"ngIf\", ctx.registrationRequests.length > 0);\n            i0.ɵɵadvance();\n            i0.ɵɵclassProp(\"active\", ctx.activeTab === \"reports\");\n            i0.ɵɵadvance(3);\n            i0.ɵɵclassProp(\"active\", ctx.activeTab === \"settings\");\n            i0.ɵɵadvance(3);\n            i0.ɵɵclassProp(\"active\", ctx.activeTab === \"logs\");\n            i0.ɵɵadvance(10);\n            i0.ɵɵtextInterpolate(ctx.getTabTitle());\n            i0.ɵɵadvance(6);\n            i0.ɵɵtextInterpolate(ctx.getTabTitle());\n            i0.ɵɵadvance();\n            i0.ɵɵproperty(\"ngIf\", ctx.activeTab === \"dashboard\" && ctx.stats);\n            i0.ɵɵadvance();\n            i0.ɵɵproperty(\"ngIf\", ctx.activeTab === \"books\");\n            i0.ɵɵadvance();\n            i0.ɵɵproperty(\"ngIf\", ctx.activeTab === \"users\");\n            i0.ɵɵadvance();\n            i0.ɵɵproperty(\"ngIf\", ctx.activeTab === \"borrows\");\n            i0.ɵɵadvance();\n            i0.ɵɵproperty(\"ngIf\", ctx.activeTab === \"inventory\");\n            i0.ɵɵadvance();\n            i0.ɵɵproperty(\"ngIf\", ctx.activeTab === \"overdue\");\n            i0.ɵɵadvance();\n            i0.ɵɵproperty(\"ngIf\", ctx.activeTab === \"requests\");\n            i0.ɵɵadvance();\n            i0.ɵɵproperty(\"ngIf\", ctx.activeTab === \"reports\");\n            i0.ɵɵadvance();\n            i0.ɵɵproperty(\"ngIf\", ctx.activeTab === \"settings\");\n            i0.ɵɵadvance();\n            i0.ɵɵproperty(\"ngIf\", ctx.activeTab === \"logs\");\n          }\n        },\n        dependencies: [CommonModule, i4.NgForOf, i4.NgIf, i4.DatePipe, FormsModule, i5.ɵNgNoValidate, i5.NgSelectOption, i5.ɵNgSelectMultipleOption, i5.DefaultValueAccessor, i5.NumberValueAccessor, i5.SelectControlValueAccessor, i5.NgControlStatus, i5.NgControlStatusGroup, i5.RequiredValidator, i5.MinValidator, i5.NgModel, i5.NgForm],\n        styles: [\".admin-layout[_ngcontent-%COMP%]{display:flex;min-height:100vh}.sidebar[_ngcontent-%COMP%]{width:280px;background:linear-gradient(180deg,#f8f9fa,#e9ecef);border-right:1px solid #dee2e6;display:flex;flex-direction:column}.sidebar-header[_ngcontent-%COMP%]{padding:1.5rem;border-bottom:1px solid #dee2e6;background:#fff}.sidebar-header[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{margin:0;color:#495057}.sidebar-nav[_ngcontent-%COMP%]{flex:1;padding:1rem 0}.nav-item[_ngcontent-%COMP%]{display:block;padding:.75rem 1.5rem;color:#6c757d;text-decoration:none;transition:all .2s;cursor:pointer}.nav-item[_ngcontent-%COMP%]:hover{background:#007bff1a;color:#007bff}.nav-item.active[_ngcontent-%COMP%]{background:#007bff;color:#fff;border-right:3px solid #0056b3}.nav-item[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{width:20px;margin-right:10px}.nav-badge[_ngcontent-%COMP%]{background:#dc3545;color:#fff;border-radius:50%;padding:2px 6px;font-size:.7rem;margin-left:8px;min-width:18px;text-align:center}.sidebar-footer[_ngcontent-%COMP%]{padding:1rem;border-top:1px solid #dee2e6}.main-content[_ngcontent-%COMP%]{flex:1;display:flex;flex-direction:column}.content-header[_ngcontent-%COMP%]{background:#fff;padding:1.5rem 2rem;border-bottom:1px solid #dee2e6}.content-header[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin:0;color:#495057}.breadcrumb[_ngcontent-%COMP%]{color:#6c757d;font-size:.875rem;margin-top:.5rem}.breadcrumb[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{margin:0 .5rem;font-size:.75rem}.content-body[_ngcontent-%COMP%]{flex:1;padding:2rem;background:#f8f9fa}.search-filters[_ngcontent-%COMP%]{display:flex;gap:.5rem}.search-filters[_ngcontent-%COMP%]   .form-control[_ngcontent-%COMP%], .search-filters[_ngcontent-%COMP%]   .form-select[_ngcontent-%COMP%]{min-width:200px}.book-cover[_ngcontent-%COMP%]{border-radius:4px;object-fit:cover}.device-item[_ngcontent-%COMP%]{padding:.75rem;border-bottom:1px solid #dee2e6}.device-item[_ngcontent-%COMP%]:last-child{border-bottom:none}.user-photo[_ngcontent-%COMP%]{width:32px;height:32px;border-radius:50%;object-fit:cover;border:1px solid #dee2e6}.logo-container[_ngcontent-%COMP%]{display:flex;justify-content:center}.admin-logo[_ngcontent-%COMP%]{width:40px;height:40px;position:relative;margin:0 auto}.mini-wifi[_ngcontent-%COMP%]{width:20px;height:6px;background:#2e8b8b;border-radius:10px 10px 0 0;margin:0 auto 2px}.mini-book[_ngcontent-%COMP%]{width:30px;height:25px;background:#1b365d;border-radius:4px;margin:0 auto;position:relative}.mini-book[_ngcontent-%COMP%]:after{content:\\\"\\\";position:absolute;top:4px;left:4px;right:4px;height:17px;background:#fff;border-radius:2px}@media (max-width: 768px){.admin-layout[_ngcontent-%COMP%]{flex-direction:column}.sidebar[_ngcontent-%COMP%]{width:100%;height:auto}.sidebar-nav[_ngcontent-%COMP%]{display:flex;overflow-x:auto;padding:.5rem}.nav-item[_ngcontent-%COMP%]{white-space:nowrap;min-width:150px}}\"]\n      });\n    }\n  }\n  return AdminDashboardComponent;\n})();","map":null,"metadata":{},"sourceType":"module","externalDependencies":[]}