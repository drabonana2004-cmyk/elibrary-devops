{"ast":null,"code":"import { __decorate } from \"tslib\";\nimport { Component } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { FormsModule } from '@angular/forms';\nlet UserDashboardComponent = class UserDashboardComponent {\n  constructor(apiService, authService, router) {\n    this.apiService = apiService;\n    this.authService = authService;\n    this.router = router;\n    this.activeTab = 'catalog';\n    this.books = [];\n    this.categories = [];\n    this.categoriesWithBooks = [];\n    this.myBorrows = [];\n    this.notifications = [];\n    this.searchTerm = '';\n    this.selectedCategory = '';\n    this.showByCategory = true;\n    this.selectedBook = null;\n    this.unreadNotifications = 0;\n    this.currentUser = this.authService.getCurrentUser();\n  }\n  ngOnInit() {\n    this.loadBooks();\n    this.loadCategories();\n    this.loadMyBorrows();\n    this.loadNotifications();\n  }\n  setActiveTab(tab) {\n    this.activeTab = tab;\n    if (tab === 'my-borrows') {\n      this.loadMyBorrows();\n    } else if (tab === 'notifications') {\n      this.loadNotifications();\n    }\n  }\n  loadBooks() {\n    const params = {};\n    if (this.searchTerm) params.search = this.searchTerm;\n    if (this.selectedCategory) params.category_id = this.selectedCategory;\n    this.apiService.getBooks(params).subscribe({\n      next: data => {\n        this.books = data;\n        this.groupBooksByCategory();\n      },\n      error: error => console.error('Erreur livres:', error)\n    });\n  }\n  groupBooksByCategory() {\n    this.categoriesWithBooks = this.categories.map(category => ({\n      ...category,\n      books: this.books.filter(book => book.category_id === category.id)\n    })).filter(category => category.books.length > 0);\n  }\n  loadCategories() {\n    this.apiService.getCategories().subscribe({\n      next: data => this.categories = data,\n      error: error => console.error('Erreur catégories:', error)\n    });\n  }\n  loadMyBorrows() {\n    this.apiService.getMyBorrows().subscribe({\n      next: data => this.myBorrows = data,\n      error: error => console.error('Erreur emprunts:', error)\n    });\n  }\n  loadNotifications() {\n    this.apiService.getNotifications().subscribe({\n      next: data => {\n        this.notifications = data;\n        this.unreadNotifications = data.filter(n => !n.is_read).length;\n      },\n      error: error => console.error('Erreur notifications:', error)\n    });\n  }\n  searchBooks() {\n    this.loadBooks();\n  }\n  filterByCategory() {\n    this.loadBooks();\n  }\n  requestBorrow(bookId) {\n    this.apiService.requestBorrow(bookId).subscribe({\n      next: response => {\n        if (response.success) {\n          alert('Demande d\\'emprunt envoyée ! En attente de validation par l\\'administrateur.');\n          this.loadBooks();\n          this.loadMyBorrows();\n        }\n      },\n      error: error => {\n        alert('Erreur lors de la demande d\\'emprunt');\n        console.error('Erreur emprunt:', error);\n      }\n    });\n  }\n  showDescription(book) {\n    this.selectedBook = book;\n  }\n  closeDescription() {\n    this.selectedBook = null;\n  }\n  getStatusLabel(status) {\n    const labels = {\n      'active': 'En cours',\n      'returned': 'Retourné',\n      'overdue': 'En retard'\n    };\n    return labels[status] || status;\n  }\n  goToKiosk() {\n    this.router.navigate(['/kiosk']);\n  }\n  getGenreColor(genre) {\n    const colors = {\n      'Fiction': 'linear-gradient(45deg, #FF6347, #FF4500)',\n      'Science-Fiction': 'linear-gradient(45deg, #4682B4, #1E90FF)',\n      'Histoire': 'linear-gradient(45deg, #D2691E, #CD853F)',\n      'Philosophie': 'linear-gradient(45deg, #9370DB, #8A2BE2)',\n      'Informatique': 'linear-gradient(45deg, #20B2AA, #00CED1)',\n      'Romance': 'linear-gradient(45deg, #FF69B4, #FFB6C1)',\n      'Thriller': 'linear-gradient(45deg, #2F4F4F, #696969)',\n      'Action': 'linear-gradient(45deg, #DC143C, #B22222)',\n      'Romantique': 'linear-gradient(45deg, #FF1493, #FF69B4)',\n      'Fait Divers': 'linear-gradient(45deg, #32CD32, #228B22)'\n    };\n    return colors[genre] || 'linear-gradient(45deg, #DAA520, #B8860B)';\n  }\n  logout() {\n    this.authService.logout();\n    this.router.navigate(['/login']);\n  }\n};\nUserDashboardComponent = __decorate([Component({\n  selector: 'app-user-dashboard',\n  standalone: true,\n  imports: [CommonModule, FormsModule],\n  template: `\n    <div class=\"user-layout\">\n      <!-- Top Navigation -->\n      <nav class=\"top-nav\">\n        <div class=\"nav-brand\">\n          <i class=\"fas fa-book-reader\"></i>\n          <span>eLibrary</span>\n        </div>\n        <div class=\"nav-links\">\n          <a class=\"nav-link\" [class.active]=\"activeTab === 'catalog'\" (click)=\"setActiveTab('catalog')\">\n            <i class=\"fas fa-search\"></i>\n            <span>Catalogue</span>\n          </a>\n          <a class=\"nav-link\" [class.active]=\"activeTab === 'my-account'\" (click)=\"setActiveTab('my-account')\">\n            <i class=\"fas fa-user\"></i>\n            <span>Mon compte</span>\n          </a>\n          <a class=\"nav-link\" [class.active]=\"activeTab === 'kiosk'\" (click)=\"setActiveTab('kiosk')\">\n            <i class=\"fas fa-wifi\"></i>\n            <span>Kiosque</span>\n          </a>\n          <a class=\"nav-link\" [class.active]=\"activeTab === 'notifications'\" (click)=\"setActiveTab('notifications')\">\n            <i class=\"fas fa-bell\"></i>\n            <span>Notifications</span>\n            <span *ngIf=\"unreadNotifications > 0\" class=\"notification-badge\">{{unreadNotifications}}</span>\n          </a>\n          <a class=\"nav-link\" [class.active]=\"activeTab === 'profile'\" (click)=\"setActiveTab('profile')\">\n            <i class=\"fas fa-cog\"></i>\n            <span>Profil</span>\n          </a>\n          <a class=\"nav-link\" [class.active]=\"activeTab === 'help'\" (click)=\"setActiveTab('help')\">\n            <i class=\"fas fa-question-circle\"></i>\n            <span>Aide</span>\n          </a>\n        </div>\n        <div class=\"nav-user\">\n          <span class=\"user-name\">{{currentUser?.name}}</span>\n          <button class=\"btn btn-outline-light btn-sm\" (click)=\"logout()\">\n            <i class=\"fas fa-sign-out-alt\"></i>\n          </button>\n        </div>\n      </nav>\n\n      <!-- Main Content -->\n      <div class=\"main-content\">\n\n        <!-- Catalogue / Rechercher un livre -->\n        <div *ngIf=\"activeTab === 'catalog'\" class=\"content-section\">\n          <div class=\"section-header\">\n            <h3><i class=\"fas fa-search\"></i> Catalogue des livres</h3>\n            <p class=\"text-muted\">Recherchez et découvrez nos livres disponibles</p>\n          </div>\n        <div class=\"row mb-4\">\n          <div class=\"col-md-8\">\n            <div class=\"input-group\">\n              <input type=\"text\" class=\"form-control\" placeholder=\"Rechercher un livre...\" \n                     [(ngModel)]=\"searchTerm\" (keyup.enter)=\"searchBooks()\">\n              <button class=\"btn btn-primary\" type=\"button\" (click)=\"searchBooks()\">\n                <i class=\"fas fa-search\"></i>\n              </button>\n            </div>\n          </div>\n          <div class=\"col-md-4\">\n            <button class=\"btn btn-outline-primary w-100\" (click)=\"showByCategory = !showByCategory\">\n              <i class=\"fas fa-th-list me-2\"></i>{{showByCategory ? 'Vue Liste' : 'Vue Catégories'}}\n            </button>\n          </div>\n        </div>\n\n        <!-- Vue par catégories -->\n        <div *ngIf=\"showByCategory\">\n          <div *ngFor=\"let category of categoriesWithBooks\" class=\"mb-5\">\n            <div class=\"category-header mb-3\">\n              <h4 class=\"text-primary\"><i class=\"fas fa-folder-open me-2\"></i>{{category.name}}</h4>\n              <p class=\"text-muted\">{{category.description}} ({{category.books.length}} livres)</p>\n            </div>\n            <div class=\"row\">\n              <div class=\"col-md-6 col-lg-4 mb-4\" *ngFor=\"let book of category.books\">\n                <div class=\"card book-card h-100\">\n                  <div class=\"card-header border-0 pb-2\">\n                    <div class=\"d-flex justify-content-between\">\n                      <span class=\"badge\" [style.background]=\"getGenreColor(book.genre)\">{{book.genre}}</span>\n                      <span class=\"badge\" [class]=\"book.available > 0 ? 'bg-success' : 'bg-danger'\">\n                        {{book.available}}/{{book.stock}}\n                      </span>\n                    </div>\n                  </div>\n                  <div class=\"card-body\">\n                    <h6 class=\"card-title text-primary mb-2\">{{book.title}}</h6>\n                    <p class=\"text-muted small mb-2\"><i class=\"fas fa-user me-1\"></i>{{book.author}}</p>\n                    <button class=\"btn btn-sm btn-outline-info w-100 mb-2\" (click)=\"showDescription(book)\">\n                      <i class=\"fas fa-info-circle me-1\"></i>Voir description\n                    </button>\n                  </div>\n                  <div class=\"card-footer border-0 pt-0\">\n                    <button *ngIf=\"book.available > 0\" \n                            class=\"btn btn-gradient btn-sm w-100\"\n                            (click)=\"requestBorrow(book.id)\">\n                      <i class=\"fas fa-hand-paper me-1\"></i>Demander\n                    </button>\n                    <button *ngIf=\"book.available === 0\" class=\"btn btn-outline-secondary btn-sm w-100\" disabled>\n                      <i class=\"fas fa-times me-1\"></i>Indisponible\n                    </button>\n                  </div>\n                </div>\n              </div>\n            </div>\n          </div>\n        </div>\n\n        <!-- Vue liste classique -->\n        <div *ngIf=\"!showByCategory\">\n          <div class=\"row\">\n            <div class=\"col-md-6 col-lg-4 mb-4\" *ngFor=\"let book of books\">\n              <div class=\"card book-card h-100\">\n                <div class=\"card-header border-0 pb-2\">\n                  <div class=\"d-flex justify-content-between\">\n                    <span class=\"badge\" [style.background]=\"getGenreColor(book.genre)\">{{book.genre}}</span>\n                    <span class=\"badge\" [class]=\"book.available > 0 ? 'bg-success' : 'bg-danger'\">\n                      {{book.available}}/{{book.stock}}\n                    </span>\n                  </div>\n                </div>\n                <div class=\"card-body\">\n                  <h6 class=\"card-title text-primary mb-2\">{{book.title}}</h6>\n                  <p class=\"text-muted small mb-2\"><i class=\"fas fa-user me-1\"></i>{{book.author}}</p>\n                  <button class=\"btn btn-sm btn-outline-info w-100 mb-2\" (click)=\"showDescription(book)\">\n                    <i class=\"fas fa-info-circle me-1\"></i>Voir description\n                  </button>\n                </div>\n                <div class=\"card-footer border-0 pt-0\">\n                  <button *ngIf=\"book.available > 0\" \n                          class=\"btn btn-gradient btn-sm w-100\"\n                          (click)=\"requestBorrow(book.id)\">\n                    <i class=\"fas fa-hand-paper me-1\"></i>Demander\n                  </button>\n                  <button *ngIf=\"book.available === 0\" class=\"btn btn-outline-secondary btn-sm w-100\" disabled>\n                    <i class=\"fas fa-times me-1\"></i>Indisponible\n                  </button>\n                </div>\n              </div>\n            </div>\n          </div>\n        </div>\n\n        <div *ngIf=\"books.length === 0 && !showByCategory\" class=\"text-center py-5\">\n          <i class=\"fas fa-book fa-3x text-muted mb-3\"></i>\n          <p class=\"text-muted\">Aucun livre trouvé</p>\n        </div>\n      </div>\n\n      <!-- Modal Description -->\n      <div class=\"modal fade\" [class.show]=\"selectedBook\" [style.display]=\"selectedBook ? 'block' : 'none'\" *ngIf=\"selectedBook\">\n        <div class=\"modal-dialog modal-lg\">\n          <div class=\"modal-content\">\n            <div class=\"modal-header\">\n              <h5 class=\"modal-title\">{{selectedBook.title}}</h5>\n              <button type=\"button\" class=\"btn-close\" (click)=\"closeDescription()\"></button>\n            </div>\n            <div class=\"modal-body\">\n              <div class=\"row\">\n                <div class=\"col-md-8\">\n                  <h6 class=\"text-primary\">Description</h6>\n                  <p>{{selectedBook.description}}</p>\n                </div>\n                <div class=\"col-md-4\">\n                  <h6 class=\"text-primary\">Informations</h6>\n                  <p><strong>Auteur:</strong> {{selectedBook.author}}</p>\n                  <p><strong>Genre:</strong> <span class=\"badge\" [style.background]=\"getGenreColor(selectedBook.genre)\">{{selectedBook.genre}}</span></p>\n                  <p><strong>Disponibilité:</strong> {{selectedBook.available}}/{{selectedBook.stock}}</p>\n                </div>\n              </div>\n            </div>\n            <div class=\"modal-footer\">\n              <button *ngIf=\"selectedBook.available > 0\" \n                      class=\"btn btn-gradient\"\n                      (click)=\"requestBorrow(selectedBook.id); closeDescription()\">\n                <i class=\"fas fa-hand-paper me-2\"></i>Demander l'emprunt\n              </button>\n              <button class=\"btn btn-secondary\" (click)=\"closeDescription()\">Fermer</button>\n            </div>\n          </div>\n        </div>\n      </div>\n      <div class=\"modal-backdrop fade\" [class.show]=\"selectedBook\" *ngIf=\"selectedBook\" (click)=\"closeDescription()\"></div>\n\n        <!-- Mon compte / Mes emprunts -->\n        <div *ngIf=\"activeTab === 'my-account'\" class=\"content-section\">\n          <div class=\"section-header\">\n            <h3><i class=\"fas fa-user\"></i> Mon compte</h3>\n            <p class=\"text-muted\">Gérez vos emprunts et votre historique</p>\n          </div>\n          \n          <!-- Sous-navigation -->\n          <div class=\"sub-nav mb-4\">\n            <button class=\"btn\" [class]=\"borrowView === 'current' ? 'btn-primary' : 'btn-outline-primary'\" (click)=\"borrowView = 'current'\">\n              Emprunts en cours\n            </button>\n            <button class=\"btn\" [class]=\"borrowView === 'history' ? 'btn-primary' : 'btn-outline-primary'\" (click)=\"borrowView = 'history'\">\n              Historique\n            </button>\n          </div>\n          <!-- Emprunts en cours -->\n          <div *ngIf=\"borrowView === 'current'\">\n            <div class=\"row\">\n              <div class=\"col-md-6 mb-3\" *ngFor=\"let borrow of currentBorrows\">\n                <div class=\"card borrow-card\">\n                  <div class=\"card-body\">\n                    <div class=\"d-flex justify-content-between align-items-start mb-2\">\n                      <h6 class=\"card-title mb-0\">{{borrow.title}}</h6>\n                      <span class=\"badge\" [class]=\"getBorrowStatusClass(borrow.status)\">{{getStatusLabel(borrow.status)}}</span>\n                    </div>\n                    <p class=\"text-muted small mb-2\">{{borrow.author}}</p>\n                    <div class=\"borrow-dates\">\n                      <div class=\"date-item\">\n                        <i class=\"fas fa-calendar-plus text-primary\"></i>\n                        <span>Emprunté: {{borrow.date_emprunt | date}}</span>\n                      </div>\n                      <div class=\"date-item\">\n                        <i class=\"fas fa-calendar-check\" [class]=\"borrow.status === 'overdue' ? 'text-danger' : 'text-success'\"></i>\n                        <span>Retour prévu: {{borrow.date_retour_prevue | date}}</span>\n                      </div>\n                    </div>\n                    <div class=\"mt-3\">\n                      <button class=\"btn btn-sm btn-outline-primary me-2\" (click)=\"requestExtension(borrow.id)\" title=\"Demander prolongation\">\n                        <i class=\"fas fa-calendar-plus\"></i> Prolonger\n                      </button>\n                      <button class=\"btn btn-sm btn-outline-info\" (click)=\"downloadReceipt(borrow.id)\" title=\"Télécharger reçu\">\n                        <i class=\"fas fa-download\"></i> Reçu\n                      </button>\n                    </div>\n                  </div>\n                </div>\n              </div>\n            </div>\n            <div *ngIf=\"currentBorrows.length === 0\" class=\"empty-state\">\n              <i class=\"fas fa-bookmark fa-3x text-muted mb-3\"></i>\n              <h5 class=\"text-muted\">Aucun emprunt en cours</h5>\n              <p class=\"text-muted\">Explorez notre catalogue pour emprunter des livres</p>\n              <button class=\"btn btn-primary\" (click)=\"setActiveTab('catalog')\">\n                <i class=\"fas fa-search\"></i> Parcourir le catalogue\n              </button>\n            </div>\n          </div>\n\n          <!-- Historique -->\n          <div *ngIf=\"borrowView === 'history'\">\n            <div class=\"table-responsive\">\n              <table class=\"table table-hover\">\n                <thead>\n                  <tr>\n                    <th>Livre</th>\n                    <th>Auteur</th>\n                    <th>Date emprunt</th>\n                    <th>Date retour</th>\n                    <th>Statut</th>\n                    <th>Actions</th>\n                  </tr>\n                </thead>\n                <tbody>\n                  <tr *ngFor=\"let borrow of borrowHistory\">\n                    <td>{{borrow.title}}</td>\n                    <td>{{borrow.author}}</td>\n                    <td>{{borrow.date_emprunt | date}}</td>\n                    <td>{{borrow.date_retour_effective | date}}</td>\n                    <td><span class=\"badge\" [class]=\"getBorrowStatusClass(borrow.status)\">{{getStatusLabel(borrow.status)}}</span></td>\n                    <td>\n                      <button class=\"btn btn-sm btn-outline-info\" (click)=\"downloadReceipt(borrow.id)\" title=\"Télécharger reçu\">\n                        <i class=\"fas fa-download\"></i>\n                      </button>\n                    </td>\n                  </tr>\n                </tbody>\n              </table>\n            </div>\n            <div *ngIf=\"borrowHistory.length === 0\" class=\"empty-state\">\n              <i class=\"fas fa-history fa-3x text-muted mb-3\"></i>\n              <h5 class=\"text-muted\">Aucun historique</h5>\n              <p class=\"text-muted\">Vos emprunts passés apparaîtront ici</p>\n            </div>\n          </div>\n      </div>\n\n        <!-- Kiosque (Self-service) -->\n        <div *ngIf=\"activeTab === 'kiosk'\" class=\"content-section\">\n          <div class=\"section-header\">\n            <h3><i class=\"fas fa-wifi\"></i> Kiosque Self-Service</h3>\n            <p class=\"text-muted\">Empruntez et retournez vos livres en autonomie</p>\n          </div>\n          \n          <div class=\"kiosk-interface\">\n            <div class=\"user-session\">\n              <div class=\"session-card\">\n                <h5><i class=\"fas fa-user-circle\"></i> Session active</h5>\n                <p><strong>{{currentUser?.name}}</strong></p>\n                <p class=\"text-muted\">ID: {{currentUser?.id}}</p>\n                <div class=\"qr-code-placeholder\">\n                  <i class=\"fas fa-qrcode fa-3x\"></i>\n                  <p>Code QR de session</p>\n                </div>\n              </div>\n            </div>\n            \n            <div class=\"instructions\">\n              <div class=\"instruction-card\">\n                <div class=\"step-number\">1</div>\n                <div class=\"step-content\">\n                  <h6>Posez votre carte</h6>\n                  <p>Placez votre carte RFID sur le lecteur</p>\n                </div>\n              </div>\n              <div class=\"instruction-card\">\n                <div class=\"step-number\">2</div>\n                <div class=\"step-content\">\n                  <h6>Scannez le livre</h6>\n                  <p>Posez le livre sur le lecteur RFID</p>\n                </div>\n              </div>\n              <div class=\"instruction-card\">\n                <div class=\"step-number\">3</div>\n                <div class=\"step-content\">\n                  <h6>Confirmation</h6>\n                  <p>L'opération sera confirmée automatiquement</p>\n                </div>\n              </div>\n            </div>\n            \n            <div class=\"scan-result\" *ngIf=\"lastScanResult\">\n              <div class=\"alert\" [class]=\"lastScanResult.success ? 'alert-success' : 'alert-danger'\">\n                <i class=\"fas\" [class]=\"lastScanResult.success ? 'fa-check-circle' : 'fa-times-circle'\"></i>\n                {{lastScanResult.message}}\n              </div>\n            </div>\n          </div>\n        </div>\n\n        <!-- Notifications -->\n        <div *ngIf=\"activeTab === 'notifications'\" class=\"content-section\">\n          <div class=\"section-header\">\n            <h3><i class=\"fas fa-bell\"></i> Notifications</h3>\n            <p class=\"text-muted\">Vos messages et alertes</p>\n          </div>\n          <div class=\"notifications-list\">\n            <div *ngFor=\"let notification of notifications\" class=\"notification-item\" [class.unread]=\"!notification.is_read\">\n              <div class=\"notification-icon\">\n                <i class=\"fas\" [class]=\"getNotificationIcon(notification.type)\"></i>\n              </div>\n              <div class=\"notification-content\">\n                <h6>{{notification.title}}</h6>\n                <p>{{notification.message}}</p>\n                <small class=\"text-muted\">{{notification.created_at | date:'short'}}</small>\n              </div>\n              <div class=\"notification-actions\">\n                <button class=\"btn btn-sm btn-outline-primary\" (click)=\"markAsRead(notification.id)\" *ngIf=\"!notification.is_read\">\n                  <i class=\"fas fa-check\"></i>\n                </button>\n              </div>\n            </div>\n          </div>\n          \n          <div *ngIf=\"notifications.length === 0\" class=\"empty-state\">\n            <i class=\"fas fa-bell fa-3x text-muted mb-3\"></i>\n            <h5 class=\"text-muted\">Aucune notification</h5>\n            <p class=\"text-muted\">Vous serez notifié des événements importants ici</p>\n          </div>\n        </div>\n\n        <!-- Profil -->\n        <div *ngIf=\"activeTab === 'profile'\" class=\"content-section\">\n          <div class=\"section-header\">\n            <h3><i class=\"fas fa-user\"></i> Mon profil</h3>\n            <p class=\"text-muted\">Gérez vos informations personnelles</p>\n          </div>\n          \n          <div class=\"row\">\n            <div class=\"col-md-8\">\n              <div class=\"card\">\n                <div class=\"card-header\">\n                  <h5>Informations personnelles</h5>\n                </div>\n                <div class=\"card-body\">\n                  <form>\n                    <div class=\"row\">\n                      <div class=\"col-md-6\">\n                        <div class=\"mb-3\">\n                          <label class=\"form-label\">Nom</label>\n                          <input type=\"text\" class=\"form-control\" [(ngModel)]=\"userProfile.name\" name=\"name\">\n                        </div>\n                      </div>\n                      <div class=\"col-md-6\">\n                        <div class=\"mb-3\">\n                          <label class=\"form-label\">Prénom</label>\n                          <input type=\"text\" class=\"form-control\" [(ngModel)]=\"userProfile.surname\" name=\"surname\">\n                        </div>\n                      </div>\n                    </div>\n                    <div class=\"mb-3\">\n                      <label class=\"form-label\">Email</label>\n                      <input type=\"email\" class=\"form-control\" [(ngModel)]=\"userProfile.email\" name=\"email\">\n                    </div>\n                    <div class=\"mb-3\">\n                      <label class=\"form-label\">Téléphone</label>\n                      <input type=\"tel\" class=\"form-control\" [(ngModel)]=\"userProfile.phone\" name=\"phone\">\n                    </div>\n                    <div class=\"mb-3\">\n                      <label class=\"form-label\">Nouveau mot de passe</label>\n                      <input type=\"password\" class=\"form-control\" [(ngModel)]=\"newPassword\" name=\"password\">\n                    </div>\n                    <button type=\"submit\" class=\"btn btn-primary\" (click)=\"updateProfile()\">\n                      <i class=\"fas fa-save\"></i> Sauvegarder\n                    </button>\n                  </form>\n                </div>\n              </div>\n            </div>\n            <div class=\"col-md-4\">\n              <div class=\"card\">\n                <div class=\"card-header\">\n                  <h5>Carte bibliothèque</h5>\n                </div>\n                <div class=\"card-body text-center\">\n                  <div class=\"card-uid\">\n                    <i class=\"fas fa-id-card fa-3x mb-3\"></i>\n                    <p><strong>Tag UID:</strong></p>\n                    <code>{{userProfile.tag_uid || 'Non assigné'}}</code>\n                  </div>\n                  <button class=\"btn btn-outline-primary mt-3\" (click)=\"requestNewCard()\">\n                    <i class=\"fas fa-sync\"></i> Demander remplacement\n                  </button>\n                </div>\n              </div>\n            </div>\n          </div>\n        </div>\n\n        <!-- Aide / FAQ -->\n        <div *ngIf=\"activeTab === 'help'\" class=\"content-section\">\n          <div class=\"section-header\">\n            <h3><i class=\"fas fa-question-circle\"></i> Aide & FAQ</h3>\n            <p class=\"text-muted\">Trouvez des réponses à vos questions</p>\n          </div>\n          \n          <div class=\"row\">\n            <div class=\"col-md-8\">\n              <div class=\"accordion\" id=\"faqAccordion\">\n                <div class=\"accordion-item\" *ngFor=\"let faq of faqs; let i = index\">\n                  <h2 class=\"accordion-header\">\n                    <button class=\"accordion-button collapsed\" type=\"button\" \n                            [attr.data-bs-target]=\"'#collapse' + i\" \n                            [attr.aria-controls]=\"'collapse' + i\">\n                      {{faq.question}}\n                    </button>\n                  </h2>\n                  <div [id]=\"'collapse' + i\" class=\"accordion-collapse collapse\" \n                       [attr.data-bs-parent]=\"'#faqAccordion'\">\n                    <div class=\"accordion-body\">\n                      {{faq.answer}}\n                    </div>\n                  </div>\n                </div>\n              </div>\n            </div>\n            <div class=\"col-md-4\">\n              <div class=\"card\">\n                <div class=\"card-header\">\n                  <h5>Informations pratiques</h5>\n                </div>\n                <div class=\"card-body\">\n                  <div class=\"info-item\">\n                    <i class=\"fas fa-clock\"></i>\n                    <div>\n                      <strong>Horaires</strong>\n                      <p class=\"mb-0\">Lun-Ven: 8h-18h<br>Sam: 9h-17h</p>\n                    </div>\n                  </div>\n                  <div class=\"info-item\">\n                    <i class=\"fas fa-envelope\"></i>\n                    <div>\n                      <strong>Contact</strong>\n                      <p class=\"mb-0\">bibliotheque@example.com</p>\n                    </div>\n                  </div>\n                  <div class=\"info-item\">\n                    <i class=\"fas fa-phone\"></i>\n                    <div>\n                      <strong>Téléphone</strong>\n                      <p class=\"mb-0\">01 23 45 67 89</p>\n                    </div>\n                  </div>\n                </div>\n              </div>\n            </div>\n          </div>\n        </div>\n      </div>\n    </div>\n      </div>\n    </div>\n  `,\n  styles: [`\n    .user-layout {\n      min-height: 100vh;\n      display: flex;\n      flex-direction: column;\n    }\n    .top-nav {\n      background: linear-gradient(135deg, #5A9BD4 0%, #87CEEB 50%, #20B2AA 100%);\n      color: white;\n      padding: 1rem 2rem;\n      display: flex;\n      align-items: center;\n      justify-content: space-between;\n      box-shadow: 0 2px 10px rgba(0,0,0,0.1);\n    }\n    .nav-brand {\n      display: flex;\n      align-items: center;\n      font-size: 1.5rem;\n      font-weight: 600;\n    }\n    .nav-brand i {\n      margin-right: 0.5rem;\n    }\n    .nav-links {\n      display: flex;\n      gap: 1rem;\n    }\n    .nav-link {\n      display: flex;\n      flex-direction: column;\n      align-items: center;\n      padding: 0.5rem 1rem;\n      color: rgba(255,255,255,0.8);\n      text-decoration: none;\n      border-radius: 8px;\n      transition: all 0.3s;\n      cursor: pointer;\n      position: relative;\n    }\n    .nav-link:hover {\n      background: rgba(255,255,255,0.1);\n      color: white;\n    }\n    .nav-link.active {\n      background: rgba(255,255,255,0.2);\n      color: white;\n    }\n    .nav-link i {\n      font-size: 1.2rem;\n      margin-bottom: 0.25rem;\n    }\n    .nav-link span {\n      font-size: 0.8rem;\n    }\n    .notification-badge {\n      position: absolute;\n      top: 0.25rem;\n      right: 0.25rem;\n      background: #dc3545;\n      color: white;\n      border-radius: 50%;\n      width: 18px;\n      height: 18px;\n      font-size: 0.7rem;\n      display: flex;\n      align-items: center;\n      justify-content: center;\n    }\n    .nav-user {\n      display: flex;\n      align-items: center;\n      gap: 1rem;\n    }\n    .user-name {\n      font-weight: 500;\n    }\n    .main-content {\n      flex: 1;\n      padding: 2rem;\n      background: #f8f9fa;\n    }\n    .content-section {\n      max-width: 1200px;\n      margin: 0 auto;\n    }\n    .section-header {\n      margin-bottom: 2rem;\n    }\n    .section-header h3 {\n      color: #495057;\n      margin-bottom: 0.5rem;\n    }\n    .sub-nav {\n      display: flex;\n      gap: 0.5rem;\n    }\n    .book-card {\n      transition: all 0.3s ease;\n      border: none;\n      box-shadow: 0 5px 15px rgba(0,0,0,0.08);\n      border-radius: 12px;\n    }\n    .book-card:hover {\n      transform: translateY(-5px);\n      box-shadow: 0 15px 35px rgba(0,0,0,0.15);\n    }\n    .borrow-card {\n      border: none;\n      border-radius: 12px;\n      box-shadow: 0 3px 10px rgba(0,0,0,0.1);\n      transition: all 0.3s;\n    }\n    .borrow-card:hover {\n      transform: translateY(-3px);\n      box-shadow: 0 8px 25px rgba(0,0,0,0.15);\n    }\n    .borrow-dates {\n      background: #f8f9fa;\n      padding: 0.75rem;\n      border-radius: 8px;\n      margin-top: 1rem;\n    }\n    .date-item {\n      display: flex;\n      align-items: center;\n      margin-bottom: 0.5rem;\n    }\n    .date-item:last-child {\n      margin-bottom: 0;\n    }\n    .date-item i {\n      margin-right: 0.5rem;\n      width: 16px;\n    }\n    .empty-state {\n      text-align: center;\n      padding: 3rem;\n    }\n    .kiosk-interface {\n      display: grid;\n      grid-template-columns: 1fr 2fr;\n      gap: 2rem;\n      margin-bottom: 2rem;\n    }\n    .session-card {\n      background: white;\n      padding: 2rem;\n      border-radius: 12px;\n      box-shadow: 0 5px 15px rgba(0,0,0,0.1);\n      text-align: center;\n    }\n    .qr-code-placeholder {\n      background: #f8f9fa;\n      padding: 2rem;\n      border-radius: 8px;\n      margin-top: 1rem;\n    }\n    .instructions {\n      display: flex;\n      flex-direction: column;\n      gap: 1rem;\n    }\n    .instruction-card {\n      display: flex;\n      align-items: center;\n      background: white;\n      padding: 1.5rem;\n      border-radius: 12px;\n      box-shadow: 0 3px 10px rgba(0,0,0,0.1);\n    }\n    .step-number {\n      width: 40px;\n      height: 40px;\n      background: #007bff;\n      color: white;\n      border-radius: 50%;\n      display: flex;\n      align-items: center;\n      justify-content: center;\n      font-weight: 600;\n      margin-right: 1rem;\n    }\n    .step-content h6 {\n      margin-bottom: 0.25rem;\n    }\n    .notifications-list {\n      display: flex;\n      flex-direction: column;\n      gap: 1rem;\n    }\n    .notification-item {\n      display: flex;\n      align-items: flex-start;\n      background: white;\n      padding: 1.5rem;\n      border-radius: 12px;\n      box-shadow: 0 3px 10px rgba(0,0,0,0.1);\n      border-left: 4px solid #dee2e6;\n    }\n    .notification-item.unread {\n      border-left-color: #007bff;\n      background: #f8f9ff;\n    }\n    .notification-icon {\n      width: 40px;\n      height: 40px;\n      background: #e9ecef;\n      border-radius: 50%;\n      display: flex;\n      align-items: center;\n      justify-content: center;\n      margin-right: 1rem;\n    }\n    .notification-content {\n      flex: 1;\n    }\n    .notification-content h6 {\n      margin-bottom: 0.5rem;\n    }\n    .card-uid {\n      background: #f8f9fa;\n      padding: 1.5rem;\n      border-radius: 8px;\n    }\n    .info-item {\n      display: flex;\n      align-items: flex-start;\n      margin-bottom: 1rem;\n    }\n    .info-item i {\n      width: 20px;\n      margin-right: 1rem;\n      margin-top: 0.25rem;\n      color: #007bff;\n    }\n    .btn-gradient {\n      background: linear-gradient(45deg, #4CAF50, #66BB6A);\n      border: none;\n      color: white;\n      font-weight: 500;\n      transition: all 0.3s ease;\n    }\n    .btn-gradient:hover {\n      transform: translateY(-2px);\n      box-shadow: 0 8px 25px rgba(76, 175, 80, 0.4);\n      color: white;\n    }\n    @media (max-width: 768px) {\n      .top-nav {\n        flex-direction: column;\n        gap: 1rem;\n        padding: 1rem;\n      }\n      .nav-links {\n        flex-wrap: wrap;\n        justify-content: center;\n      }\n      .kiosk-interface {\n        grid-template-columns: 1fr;\n      }\n      .main-content {\n        padding: 1rem;\n      }\n    }\n  `]\n})], UserDashboardComponent);\nexport { UserDashboardComponent };","map":null,"metadata":{},"sourceType":"module","externalDependencies":[]}